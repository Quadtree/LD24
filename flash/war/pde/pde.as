package {
import flash.display.Loader;
import flash.media.Sound;
import flash.display.Sprite;
import flash.events.IOErrorEvent;
import flash.system.LoaderContext;
import flash.external.ExternalInterface;
import flash.utils.*;
import com.googlecode.flashcanvas.Canvas;
import flash.net.URLRequest;
import flash.media.SoundChannel;
import flash.display.BitmapData;
import flash.display.Bitmap;
import flash.net.SharedObject;
import com.googlecode.flashcanvas.CanvasRenderingContext2D;
import flash.geom.Matrix;
import flash.geom.Rectangle;
import flash.display.Shape;
import flash.net.URLLoader;
import flash.events.Event;
public class pde extends Sprite {
 public function pde() {
  var $moduleName, $moduleBase;
  var $wnd = { setTimeout: flash.utils.setTimeout, setInterval: flash.utils.setInterval, clearTimeout: flash.utils.clearTimeout, clearInterval: flash.utils.clearInterval };
  var window = $wnd;
  var $doc = this;
  var $sessionId = null;  var $root = this;   var $Null = null; 
var $stats = null;$root.loaderInfo.uncaughtErrorEvents.addEventListener("uncaughtError", function(event) {
        var i = 0;
        var stackMsg = "";

        flash.external.ExternalInterface.call("alert", event.toString() + "\n" + stackMsg);});
var $strongName = 'DB2851FB91960C90B7FD5BCD71F3208C';var _;function nullMethod(){}
function Object_0(){}
_=Object_0.prototype={};_.equals$=function(other){return this===other};_.getClass$=function(){return Ljava_lang_Object_2_classLit};_.hashCode$=function(){return this.$H||(this.$H=++sNextHashId)};_.toString$=function(){return this.getClass$().typeName+'@'+toPowerOfTwoString(this.hashCode$())};_.toString=function(){return this.toString$()};_.typeMarker$=nullMethod;_.castableTypeMap$={};var sUncaughtExceptionHandler=null;function $getStackTrace(this$static){if(this$static.stackTrace==null){return initDim(_3Ljava_lang_StackTraceElement_2_classLit,{12:1,45:1},16,0,0)}return this$static.stackTrace}
function $setStackTrace(this$static,stackTrace){var c,copy,i;copy=initDim(_3Ljava_lang_StackTraceElement_2_classLit,{12:1,45:1},16,stackTrace.length,0);for(i=0,c=stackTrace.length;i<c;++i){if(!stackTrace[i]){throw new NullPointerException_0()}copy[i]=stackTrace[i]}this$static.stackTrace=copy}
function $toString(this$static){var className,msg;className=this$static.getClass$().typeName;msg=this$static.getMessage();return msg!=null?className+': '+msg:className}
function Throwable(){}
_=Throwable.prototype=new Object_0();_.getClass$=function(){return Ljava_lang_Throwable_2_classLit};_.getMessage=function(){return this.detailMessage};_.toString$=function(){return $toString(this)};_.castableTypeMap$={2:1,12:1};_.detailMessage=null;_.stackTrace=null;function Exception_0(message){$fillInStackTrace(this);this.detailMessage=message}
function Exception(){}
_=Exception_0.prototype=Exception.prototype=new Throwable();_.getClass$=function(){return Ljava_lang_Exception_2_classLit};_.castableTypeMap$={2:1,12:1,48:1};function RuntimeException_0(){$fillInStackTrace(this)}
function RuntimeException(){}
_=RuntimeException_0.prototype=RuntimeException.prototype=new Exception();_.getClass$=function(){return Ljava_lang_RuntimeException_2_classLit};_.castableTypeMap$={2:1,3:1,12:1,48:1};function JavaScriptException_0(e){$fillInStackTrace(this);this.e=e;$createStackTrace(new StackTraceCreator$CollectorChrome_0(),this)}
function getDescription(e){return instanceOfJso(e)?getDescription0(dynamicCastJso(e)):e+''}
function getDescription0(e){return e==null?null:e.message}
function getName(e){var maybeJsoInvocation;return e==null?'null':instanceOfJso(e)?getName0(dynamicCastJso(e)):e!=null&&e.castableTypeMap$&&!!e.castableTypeMap$[1]?'String':(maybeJsoInvocation=e,(typeof maybeJsoInvocation!='string'&&maybeJsoInvocation.typeMarker$||null)==nullMethod||maybeJsoInvocation.castableTypeMap$&&!!maybeJsoInvocation.castableTypeMap$[1]?maybeJsoInvocation.getClass$():Lcom_google_gwt_core_client_JavaScriptObject_2_classLit).typeName}
function getName0(e){return e==null?null:e.name}
function getProperties(e){return instanceOfJso(e)?$getProperties(dynamicCastJso(e)):''}
function JavaScriptException(){}
_=JavaScriptException_0.prototype=JavaScriptException.prototype=new RuntimeException();_.getClass$=function(){return Lcom_google_gwt_core_client_JavaScriptException_2_classLit};_.getMessage=function(){this.message_0==null&&(this.name_0=getName(this.e),this.description=getDescription(this.e),this.message_0='('+this.name_0+'): '+this.description+getProperties(this.e),undefined);return this.message_0};_.castableTypeMap$={2:1,3:1,12:1,48:1};_.description=null;_.e=null;_.message_0=null;_.name_0=null;function equals__devirtual$(this$static,other){var maybeJsoInvocation;return maybeJsoInvocation=this$static,(typeof maybeJsoInvocation!='string'&&maybeJsoInvocation.typeMarker$||null)==nullMethod||maybeJsoInvocation.castableTypeMap$&&!!maybeJsoInvocation.castableTypeMap$[1]?maybeJsoInvocation.equals$(other):maybeJsoInvocation===other}
function getClass__devirtual$(this$static){var maybeJsoInvocation;return maybeJsoInvocation=this$static,(typeof maybeJsoInvocation!='string'&&maybeJsoInvocation.typeMarker$||null)==nullMethod||maybeJsoInvocation.castableTypeMap$&&!!maybeJsoInvocation.castableTypeMap$[1]?maybeJsoInvocation.getClass$():Lcom_google_gwt_core_client_JavaScriptObject_2_classLit}
function hashCode__devirtual$(this$static){var maybeJsoInvocation;return maybeJsoInvocation=this$static,(typeof maybeJsoInvocation!='string'&&maybeJsoInvocation.typeMarker$||null)==nullMethod||maybeJsoInvocation.castableTypeMap$&&!!maybeJsoInvocation.castableTypeMap$[1]?maybeJsoInvocation.hashCode$():maybeJsoInvocation.$H||(maybeJsoInvocation.$H=++sNextHashId)}
function Scheduler(){}
_=Scheduler.prototype=new Object_0();_.getClass$=function(){return Lcom_google_gwt_core_client_Scheduler_2_classLit};_.castableTypeMap$={};function apply(jsFunction,thisObj,arguments_0){return jsFunction.apply(thisObj,arguments_0);var __0}
function enter(){if(entryDepth++==0){$flushEntryCommands(($clinit(),INSTANCE));return true}return false}
function entry_0(jsFunction){return function(){try{return entry0(jsFunction,this,arguments)}catch(e){throw e}}}
function entry0(jsFunction,thisObj,arguments_0){var $e0_0,initialEntry,t;initialEntry=enter();try{if(sUncaughtExceptionHandler){try{return apply(jsFunction,thisObj,arguments_0)}catch($e0){$e0_0=caught($e0_0);if($e0_0!=null&&$e0_0.castableTypeMap$&&!!$e0_0.castableTypeMap$[2]){t=$e0_0;$onUncaughtException(t);return undefined}else throw $e0_0}}else{return apply(jsFunction,thisObj,arguments_0)}}finally{initialEntry&&$flushFinallyCommands(($clinit(),INSTANCE));--entryDepth}}
var entryDepth=0,sNextHashId=0;function $clinit(){$clinit=nullMethod;INSTANCE=new SchedulerImpl_0()}
function $flushEntryCommands(this$static){var oldQueue,rescheduled;if(this$static.entryCommands){rescheduled=null;do{oldQueue=this$static.entryCommands;this$static.entryCommands=null;rescheduled=runScheduledTasks(oldQueue,rescheduled)}while(this$static.entryCommands);this$static.entryCommands=rescheduled}}
function $flushFinallyCommands(this$static){var oldQueue,rescheduled;if(this$static.finallyCommands){rescheduled=null;do{oldQueue=this$static.finallyCommands;this$static.finallyCommands=null;rescheduled=runScheduledTasks(oldQueue,rescheduled)}while(this$static.finallyCommands);this$static.finallyCommands=rescheduled}}
function SchedulerImpl_0(){}
function push(queue,task){!queue&&(queue=[]);queue[queue.length]=task;return queue}
function runScheduledTasks(tasks,rescheduled){var $e0_0,e,i,j,t;for(i=0,j=tasks.length;i<j;++i){t=tasks[i];try{t[1]?t[0].nullMethod()&&(rescheduled=push(rescheduled,t)):t[0].nullMethod()}catch($e0){$e0_0=caught($e0_0);if($e0_0!=null&&$e0_0.castableTypeMap$&&!!$e0_0.castableTypeMap$[3]){e=$e0_0;!!sUncaughtExceptionHandler&&$onUncaughtException(e)}else throw $e0_0}}return rescheduled}
function SchedulerImpl(){}
_=SchedulerImpl_0.prototype=SchedulerImpl.prototype=new Scheduler();_.getClass$=function(){return Lcom_google_gwt_core_client_impl_SchedulerImpl_2_classLit};_.castableTypeMap$={};_.entryCommands=null;_.finallyCommands=null;var INSTANCE;function extractNameFromToString(fnToString){var index,start,toReturn;toReturn='';fnToString=$trim(fnToString);index=fnToString.indexOf('(');if(index!=-1){start=fnToString.indexOf('function')==0?8:0;toReturn=$trim(fnToString.substr(start,index-start))}return toReturn.length>0?toReturn:'anonymous'}
function splice(arr,length_0){arr.length>=length_0&&arr.splice(0,length_0);return arr}
function $createStackTrace(this$static,e){var i,j,stack,stackTrace;stack=$inferFrom_0(this$static,instanceOfJso(e.e)?dynamicCastJso(e.e):null);stackTrace=initDim(_3Ljava_lang_StackTraceElement_2_classLit,{12:1,45:1},16,stack.length,0);for(i=0,j=stackTrace.length;i<j;++i){stackTrace[i]=new StackTraceElement_0(stack[i])}$setStackTrace(e,stackTrace)}
function $fillInStackTrace(t){var i,j,stack,stackTrace;stack=$collect(new StackTraceCreator$CollectorChrome_0());stackTrace=initDim(_3Ljava_lang_StackTraceElement_2_classLit,{12:1,45:1},16,stack.length,0);for(i=0,j=stackTrace.length;i<j;++i){stackTrace[i]=new StackTraceElement_0(stack[i])}$setStackTrace(t,stackTrace)}
function $getProperties(e){var result='';try{for(var prop in e){if(prop!='name'&&prop!='message'&&prop!='toString'){try{result+='\n '+prop+': '+e[prop]}catch(ignored){}}}}catch(ignored){}return result}
function $makeException(){try{$Null.a()}catch(e){return e}}
function StackTraceCreator$Collector_0(){}
function StackTraceCreator$Collector(){}
_=StackTraceCreator$Collector_0.prototype=StackTraceCreator$Collector.prototype=new Object_0();_.collect=function(){var seen={};var toReturn=[];var callee=arguments.callee.caller.caller;while(callee){var name_0=this.extractName(callee.toString());toReturn.push(name_0);var keyName=':'+name_0;var withThisName=seen[keyName];if(withThisName){var i,j;for(i=0,j=withThisName.length;i<j;i++){if(withThisName[i]===callee){return toReturn}}}(withThisName||(seen[keyName]=[])).push(callee);callee=callee.caller}return toReturn};_.extractName=function(fnToString){return extractNameFromToString(fnToString)};_.getClass$=function(){return Lcom_google_gwt_core_client_impl_StackTraceCreator$Collector_2_classLit};_.inferFrom=function(e){return []};_.castableTypeMap$={};function $inferFrom(this$static,e){var i,j,stack;stack=e&&e.stack?e.stack.split('\n'):[];for(i=0,j=stack.length;i<j;++i){stack[i]=this$static.extractName(stack[i])}return stack}
function StackTraceCreator$CollectorMoz(){}
_=StackTraceCreator$CollectorMoz.prototype=new StackTraceCreator$Collector();_.collect=function(){return splice(this.inferFrom($makeException()),this.toSplice())};_.getClass$=function(){return Lcom_google_gwt_core_client_impl_StackTraceCreator$CollectorMoz_2_classLit};_.inferFrom=function(e){return $inferFrom(this,e)};_.toSplice=function(){return 2};_.castableTypeMap$={};function $collect(this$static){var res;res=splice($inferFrom_0(this$static,$makeException()),3);res.length==0&&(res=splice((new StackTraceCreator$Collector_0()).collect(),1));return res}
function $inferFrom_0(this$static,e){var stack;stack=$inferFrom(this$static,e);return stack.length==0?(new StackTraceCreator$Collector_0()).inferFrom(e):(stack.length>=1&&stack.splice(0,1),stack)}
function StackTraceCreator$CollectorChrome_0(){}
function StackTraceCreator$CollectorChrome(){}
_=StackTraceCreator$CollectorChrome_0.prototype=StackTraceCreator$CollectorChrome.prototype=new StackTraceCreator$CollectorMoz();_.collect=function(){return $collect(this)};_.extractName=function(fnToString){var index,toReturn;if(fnToString.length==0){return 'anonymous'}toReturn=$trim(fnToString);toReturn.indexOf('at ')==0&&(toReturn=toReturn.substr(3,toReturn.length-3));index=toReturn.indexOf('[');index==-1&&(index=toReturn.indexOf('('));if(index==-1){return 'anonymous'}else{toReturn=$trim(toReturn.substr(0,index-0))}index=toReturn.indexOf(String.fromCharCode(46));index!=-1&&(toReturn=toReturn.substr(index+1,toReturn.length-(index+1)));return toReturn.length>0?toReturn:'anonymous'};_.getClass$=function(){return Lcom_google_gwt_core_client_impl_StackTraceCreator$CollectorChrome_2_classLit};_.inferFrom=function(e){return $inferFrom_0(this,e)};_.toSplice=function(){return 3};_.castableTypeMap$={};function $append(a_0,x){a_0[a_0.explicitLength++]=x}
function $append_0(a_0,x){a_0[a_0.explicitLength++]=x}
function $append_1(a_0,x){a_0[a_0.explicitLength++]=x}
function $append_2(a_0,x){a_0[a_0.explicitLength++]=x}
function $append_3(a_0,x){a_0[a_0.explicitLength++]=x==null?'null':x}
function $appendNonNull(a_0,x){a_0[a_0.explicitLength++]=x}
function $replace(a_0,start,end){var s;s=$takeString(a_0);$appendNonNull(a_0,s.substr(0,start-0));a_0[a_0.explicitLength++]='';$appendNonNull(a_0,s.substr(end,s.length-end))}
function $takeString(a_0){var s=a_0.join('');a_0.length=a_0.explicitLength=0;return s}
function $toString_0(a_0){var s;s=$takeString(a_0);a_0[a_0.explicitLength++]=s;return s}
function Array_1(){}
function createFromSeed(seedType,length_0){var array=new Array(length_0);if(seedType==3){for(var i=0;i<length_0;++i){var value=new Object();value.l=value.m=value.h=0;array[i]=value}}else if(seedType>0){var value=[null,0,false][seedType];for(var i=0;i<length_0;++i){array[i]=value}}return array}
function initDim(arrayClass,castableTypeMap,queryId,length_0,seedType){var result;result=createFromSeed(seedType,length_0);$clinit_0();wrapArray(result,expandoNames_0,expandoValues_0);result.arrayClass$=arrayClass;result.castableTypeMap$=castableTypeMap;result.queryId$=queryId;return result}
function initDims(arrayClasses,castableTypeMapExprs,queryIdExprs,dimExprs,index,count,seedType){var i,isLastDim,length_0,result;length_0=dimExprs[index];isLastDim=index==count-1;result=createFromSeed(isLastDim?seedType:0,length_0);$clinit_0();wrapArray(result,expandoNames_0,expandoValues_0);result.arrayClass$=arrayClasses[index];result.castableTypeMap$=castableTypeMapExprs[index];result.queryId$=queryIdExprs[index];if(!isLastDim){++index;for(i=0;i<length_0;++i){result[i]=initDims(arrayClasses,castableTypeMapExprs,queryIdExprs,dimExprs,index,count,seedType)}}return result}
function initValues(arrayClass,castableTypeMap,queryId,array){$clinit_0();wrapArray(array,expandoNames_0,expandoValues_0);array.arrayClass$=arrayClass;array.castableTypeMap$=castableTypeMap;array.queryId$=queryId;return array}
function setCheck(array,index,value){if(value!=null){if(array.queryId$>0&&!canCastUnsafe(value,array.queryId$)){throw new ArrayStoreException_0()}if(array.queryId$<0&&((typeof value!='string'&&value.typeMarker$||null)==nullMethod||value.castableTypeMap$&&!!value.castableTypeMap$[1])){throw new ArrayStoreException_0()}}return array[index]=value}
function Array_0(){}
_=Array_1.prototype=Array_0.prototype=new Object_0();_.getClass$=function(){return this.arrayClass$};_.castableTypeMap$={};_.arrayClass$=null;_.queryId$=0;function $clinit_0(){$clinit_0=nullMethod;expandoNames_0=[];expandoValues_0=[];initExpandos(new Array_1(),expandoNames_0,expandoValues_0)}
function initExpandos(protoType,expandoNames,expandoValues){var i=0,value;for(var name_0 in protoType){if(value=protoType[name_0]){expandoNames[i]=name_0;expandoValues[i]=value;++i}}}
function wrapArray(array,expandoNames,expandoValues){$clinit_0();for(var i=0,c=expandoNames.length;i<c;++i){var e=expandoNames[i];array[e]=expandoValues[i]}}
var expandoNames_0,expandoValues_0;function canCastUnsafe(src,dstId){return src.castableTypeMap$&&src.castableTypeMap$[dstId]}
function dynamicCast(src,dstId){if(src!=null&&!(src.castableTypeMap$&&src.castableTypeMap$[dstId])){throw new ClassCastException_0()}return src}
function dynamicCastJso(src){if(src!=null&&((typeof src!='string'&&src.typeMarker$||null)==nullMethod||src.castableTypeMap$&&!!src.castableTypeMap$[1])){throw new ClassCastException_0()}return src}
function instanceOfJso(src){return src!=null&&(typeof src!='string'&&src.typeMarker$||null)!=nullMethod&&!(src.castableTypeMap$&&!!src.castableTypeMap$[1])}
function round_int(x){return ~~Math.max(Math.min(x,2147483647),-2147483648)}
function init(){var platform;!!$stats&&onModuleStart('com.google.gwt.user.client.UserAgentAsserter');!!$stats&&onModuleStart('com.google.gwt.user.client.DocumentModeAsserter');$onModuleLoad();!!$stats&&onModuleStart('com.ironalloygames.flash.PetriDishEmpireFlash');sUncaughtExceptionHandler=new FlashGame$1_0();platform=(!platform_1&&(platform_1=new FlashPlatform_0()),platform_0=platform_1,platform_1);platform.assets.pathPrefix='pde/';platform_0.graphics_0.ctx.resize(800,600);$run(platform_0,new PetriDishEmpire_0())}
function caught(e){if(e!=null&&e.castableTypeMap$&&!!e.castableTypeMap$[2]){return e}return new JavaScriptException_0(e)}
function create(value){var a0,a1,a2;a0=value&4194303;a1=value>>22&4194303;a2=value<0?1048575:0;return a=new LongLibBase$LongEmul_0(),a.l=a0,a.m=a1,a.h=a2,a}
function fromDouble(value){var a0,a1,a2,negative,result,neg0,neg1,neg2;if(isNaN(value)){return $clinit_1(),ZERO}if(value<-9223372036854775808){return $clinit_1(),MIN_VALUE}if(value>=9223372036854775807){return $clinit_1(),MAX_VALUE}negative=false;if(value<0){negative=true;value=-value}a2=0;if(value>=17592186044416){a2=~~Math.max(Math.min(value/17592186044416,2147483647),-2147483648);value-=a2*17592186044416}a1=0;if(value>=4194304){a1=~~Math.max(Math.min(value/4194304,2147483647),-2147483648);value-=a1*4194304}a0=~~Math.max(Math.min(value,2147483647),-2147483648);result=(a=new LongLibBase$LongEmul_0(),a.l=a0,a.m=a1,a.h=a2,a);negative&&(neg0=~result.l+1&4194303,neg1=~result.m+(neg0==0?1:0)&4194303,neg2=~result.h+(neg0==0&&neg1==0?1:0)&1048575,result.l=neg0,result.m=neg1,result.h=neg2,undefined);return result}
function fromInt(value){var rebase,result;if(value>-129&&value<128){rebase=value+128;boxedValues==null&&(boxedValues=initDim(_3Lcom_google_gwt_lang_LongLibBase$LongEmul_2_classLit,{12:1,45:1},9,256,0));result=boxedValues[rebase];!result&&(result=boxedValues[rebase]=create(value));return result}return create(value)}
function toInt(a_0){return a_0.l|a_0.m<<22}
var boxedValues=null;function $clinit_1(){$clinit_1=nullMethod;MAX_VALUE=(a=new LongLibBase$LongEmul_0(),a.l=4194303,a.m=4194303,a.h=524287,a);MIN_VALUE=(a=new LongLibBase$LongEmul_0(),a.l=0,a.m=0,a.h=524288,a);fromInt(1);fromInt(2);ZERO=fromInt(0)}
var MAX_VALUE,MIN_VALUE,ZERO;function LongLibBase$LongEmul_0(){}
function LongLibBase$LongEmul(){}
_=LongLibBase$LongEmul_0.prototype=LongLibBase$LongEmul.prototype=new Object_0();_.getClass$=function(){return Lcom_google_gwt_lang_LongLibBase$LongEmul_2_classLit};_.castableTypeMap$={9:1};function onModuleStart(mainClassName){return $stats({moduleName:$moduleName,sessionId:$sessionId,subSystem:'startup',evtGroup:'moduleStartup',millis:(new Date()).getTime(),type:'onModuleLoadStart',className:mainClassName})}
function $onModuleLoad(){var allowedModes,currentMode,i;currentMode=$doc.compatMode;allowedModes=initValues(_3Ljava_lang_String_2_classLit,{12:1,45:1},1,['CSS1Compat']);for(i=0;i<allowedModes.length;++i){if($equals(allowedModes[i],currentMode)){return}}allowedModes.length==1&&$equals('CSS1Compat',allowedModes[0])&&$equals('BackCompat',currentMode)?"GWT no longer supports Quirks Mode (document.compatMode=' BackCompat').<br>Make sure your application's host HTML page has a Standards Mode (document.compatMode=' CSS1Compat') doctype,<br>e.g. by using &lt;!doctype html&gt; at the start of your application's HTML page.<br><br>To continue using this unsupported rendering mode and risk layout problems, suppress this message by adding<br>the following line to your*.gwt.xml module file:<br>&nbsp;&nbsp;&lt;extend-configuration-property name=\"document.compatMode\" value=\""+currentMode+'"/&gt;':"Your *.gwt.xml module configuration prohibits the use of the current doucment rendering mode (document.compatMode=' "+currentMode+"').<br>Modify your application's host HTML page doctype, or update your custom 'document.compatMode' configuration property settings."}
function $clinit_2(){$clinit_2=nullMethod;sounds=new HashMap_0()}
function play(name_0){$clinit_2();$containsKey(sounds,name_0)||$put(sounds,name_0,$getSound(platform_0.assets,'sound/'+name_0));$play(dynamicCast($get_0(sounds,name_0),4))}
var sounds;function $screenToReal(this$static,input){var t;t=new Vec2_2(input);t.x/=($clinit_5(),$root).stage.stageHeight;t.y/=$root.stage.stageHeight;t.y=1-t.y;t.x-=0.5*$root.stage.stageWidth/$root.stage.stageHeight;t.y-=0.5;$mulLocal(t,1/this$static.zoom);$addLocal(t,this$static.position);return t}
function $setCamera(this$static,position,zoom){var offset;this$static.position=new Vec2_2(position);this$static.zoom=zoom/($clinit_5(),$root).stage.stageHeight;offset=$mul(new Vec2_1($root.stage.stageWidth/zoom,$root.stage.stageHeight/zoom),0.5);new Vec2_1(position.x-offset.x,position.y-offset.y);new Vec2_1(position.x+offset.x,position.y+offset.y)}
function $translateCamera(this$static,delta){$setCamera(this$static,$add_1(this$static.position,delta),5)}
function Camera_0(){this.position=new Vec2_1(0,0);this.zoom=~~(5/($clinit_5(),$root).stage.stageHeight);new HashMap_0();new Vec2_0();new Vec2_0()}
function Camera(){}
_=Camera_0.prototype=Camera.prototype=new Object_0();_.getClass$=function(){return Lcom_ironalloygames_core_Camera_2_classLit};_.castableTypeMap$={};function Entity_0(pos){var bd;bd=new BodyDef_0();bd.position=pos;bd.type=($clinit_21(),DYNAMIC);bd.bullet=false;this.body=$createBody(s_0.world,bd)}
function Entity(){}
_=Entity.prototype=new Object_0();_.getClass$=function(){return Lcom_ironalloygames_core_Entity_2_classLit};_.keep=function(){return true};_.update=function(){};_.castableTypeMap$={7:1};_.body=null;function $recalculateStats(this$static){var p,p$iterator;this$static.solarRate=0;this$static.enginePower=0;for(p$iterator=new AbstractList$IteratorImpl_0(this$static.pieces);p$iterator.i<p$iterator.this$0.size_0();){p=dynamicCast($next(p$iterator),6);this$static.solarRate+=p.getSolarPower();this$static.enginePower+=p.getEnginePower()}}
function Creature_0(pos,genome,playerOwned){var angle,arm,f,g,g$iterator,p,p$iterator,fd,ps;Entity_0.call(this,pos);this.pieces=new ArrayList_0();this.playerOwned=playerOwned;this.genome=genome;for(angle=0;angle<6.2831854820251465;angle+=6.2831854820251465/this.genome.arms){arm=new ArrayList_0();for(g$iterator=new AbstractList$IteratorImpl_0(genome.genes);g$iterator.i<g$iterator.this$0.size_0();){g=dynamicCast($next(g$iterator),5);$build(g,arm,angle,this)}$addAll(this.pieces,arm)}for(p$iterator=new AbstractList$IteratorImpl_0(this.pieces);p$iterator.i<p$iterator.this$0.size_0();){p=dynamicCast($next(p$iterator),6);f=$createFixture(this.body,(fd=new FixtureDef_0(),fd.density=1,fd.userData=p,ps=new PolygonShape_0(),$setAsBox(ps,$length($sub(p.end,p.start))/2+0.20000000298023224,0.10000000149011612+p.width_0/2,$mul($add_1(p.start,p.end),0.5),fastAtan2(p.end.y-p.start.y,p.end.x-p.start.x)),fd.shape=ps,fd));p.fixture=f;p.hp=$getMass(p);playerOwned?(s_0.playerMoney-=p.getCostMod()*$getMass(p)):(s_0.enemyMoney-=p.getCostMod()*$getMass(p))}this.moveTarget=new Vec2_2(pos);$recalculateStats(this);$setActive(this.body,false);!playerOwned&&Math.round(dynamicCast($get_1(genome.genes,genome.genes.size-1),5).geneType)==5&&(this.aggressiveMode=true)}
function Creature(){}
_=Creature_0.prototype=Creature.prototype=new Entity();_.getClass$=function(){return Lcom_ironalloygames_core_Creature_2_classLit};_.keep=function(){return this.pieces.size>0};_.update=function(){var bestDist,c,c$iterator,delta,dist,e,e$iterator,i,target;this.woken=false;if(!this.woken){for(e$iterator=new AbstractList$IteratorImpl_0(s_0.entities);e$iterator.i<e$iterator.this$0.size_0();){e=dynamicCast($next(e$iterator),7);if(e!=null&&e.castableTypeMap$&&!!e.castableTypeMap$[8]&&dynamicCast(e,8).playerOwned){if(abs(e.body.m_xf.position.x-this.body.m_xf.position.x)<50||abs(e.body.m_xf.position.y-this.body.m_xf.position.y)<50){this.woken=true;break}}}}$setActive(this.body,this.woken);if(this.woken){if(this.aggressiveMode){bestDist=40000;target=null;for(c$iterator=new AbstractList$IteratorImpl_0($getCreatures(s_0));c$iterator.i<c$iterator.this$0.size_0();){c=dynamicCast($next(c$iterator),8);if(c.playerOwned!=this.playerOwned){dist=$lengthSquared($sub(this.body.m_xf.position,c.body.m_xf.position));if(dist<bestDist){bestDist=dist;target=c}}}!!target&&(this.moveTarget=target.body.m_xf.position)}delta=$sub(this.moveTarget,this.body.m_xf.position);if(delta.x*delta.x+delta.y*delta.y>1){$normalize_0(delta);$mulLocal(delta,this.enginePower);$applyForce(this.body,delta,this.body.m_xf.position)}$applyTorque(this.body,this.enginePower*2.5*this.spinDir);$nextInt(s_0.rand,400)==0&&(this.spinDir=-this.spinDir);for(i=0;i<this.pieces.size;++i){if(dynamicCast($get_1(this.pieces,i),6).hp>0){dynamicCast($get_1(this.pieces,i),6).update()}else{$destroyFixture(this.body,dynamicCast($get_1(this.pieces,i),6).fixture);$remove(this.pieces,i);--i;$recalculateStats(this)}}$setLinearVelocity(this.body,$mul(this.body.m_linearVelocity,0.8999999761581421));$setAngularVelocity(this.body,this.body.m_angularVelocity*0.8999999761581421)}this.playerOwned?(s_0.playerMoney+=this.solarRate):(s_0.enemyMoney+=this.solarRate)};_.castableTypeMap$={7:1,8:1};_.aggressiveMode=false;_.enginePower=0;_.genome=null;_.moveTarget=null;_.playerOwned=false;_.radius=0;_.selected=false;_.solarRate=0;_.spinDir=1;_.woken=false;function $build(this$static,previous,startAngle,parentCreature){var absAngle,bti,end,p,parent_0,parentAngle,parentEnd;switch(Math.round(this$static.geneType)){case 0:p=new Structure_0();break;case 1:p=new Engine_0();break;case 2:p=new SolarCell_0();break;case 3:p=new Armor_0();break;case 4:p=new WeakPoint_0();break;case 5:p=new Weapon_0();break;default:p=new Structure_0();}bti=Math.round(this$static.backtrack);parentEnd=new Vec2_1(0,0);parentAngle=startAngle;parent_0=null;if(previous.size>0){parent_0=dynamicCast($get_1(previous,max_0(previous.size-bti-1,0)),6);parentEnd=new Vec2_2(parent_0.end);parentAngle=fastAtan2(parent_0.end.y-parent_0.start.y,parent_0.end.x-parent_0.start.x)}p.start=new Vec2_2(parentEnd);end=new Vec2_2(p.start);absAngle=parentAngle+this$static.angle;$addLocal_0(end,($clinit_18(),Math.cos(absAngle))*this$static.length_0,Math.sin(absAngle)*this$static.length_0);p.end=new Vec2_2(end);p.owner=parentCreature;parentCreature.radius=max(parentCreature.radius,Math.sqrt(end.x*end.x+end.y*end.y));setCheck(previous.array,previous.size++,p);!!parent_0&&$add(parent_0.childPieces,p);p.width_0=this$static.width_0}
function $clamp(this$static){this$static.length_0=max(this$static.length_0,0.20000000298023224);this$static.backtrack=max(this$static.backtrack,0);this$static.width_0=max(this$static.width_0,0.20000000298023224)}
function Gene_0(){this.geneType=$nextInt(s_0.rand,6);this.length_0=$nextGaussian(s_0.rand)*2+4;this.width_0=$nextGaussian(s_0.rand)*0.20000000298023224+0.5;this.angle=$nextGaussian(s_0.rand)*0.5;this.backtrack=$nextGaussian(s_0.rand)*2;$clamp(this)}
function Gene_1(g){this.geneType=g.geneType;this.length_0=g.length_0;this.angle=g.angle;this.backtrack=g.backtrack;this.width_0=g.width_0}
function Gene(){}
_=Gene_1.prototype=Gene_0.prototype=Gene.prototype=new Object_0();_.getClass$=function(){return Lcom_ironalloygames_core_Gene_2_classLit};_.castableTypeMap$={5:1};_.angle=0;_.backtrack=0;_.geneType=0;_.length_0=0;_.width_0=0;function Genome_0(){var genes,i;this.genes=new ArrayList_0();genes=~~Math.max(Math.min($nextGaussian(s_0.rand)*3+5,2147483647),-2147483648);genes=genes>1?genes:1;for(i=0;i<genes;++i)$add(this.genes,new Gene_0());this.arms=max_0(toInt(fromDouble(Math.round($nextGaussian(s_0.rand)*3+3))),2)}
function Genome_1(genomes){var avgArms,avgGenes,g,g$iterator,genes,i,j,n,ng;this.genes=new ArrayList_0();avgArms=0;for(g$iterator=new AbstractList$IteratorImpl_0(genomes);g$iterator.i<g$iterator.this$0.size_0();){g=dynamicCast($next(g$iterator),47);avgArms+=g.arms}avgArms/=genomes.size;avgArms+=$nextGaussian(s_0.rand)*0.15000000596046448;this.arms=max_0(Math.round(avgArms),2);avgGenes=0;for(g$iterator=new AbstractList$IteratorImpl_0(genomes);g$iterator.i<g$iterator.this$0.size_0();){g=dynamicCast($next(g$iterator),47);avgGenes+=g.genes.size}avgGenes/=genomes.size;avgGenes+=$nextGaussian(s_0.rand)*0.30000001192092896;genes=max_0(Math.round(avgGenes),1);for(i=0;i<genes;++i){n=1;g=new Gene_0();for(j=0;j<genomes.size;++j){dynamicCast((checkIndex(j,genomes.size),genomes.array[j]),47).genes.size>i&&$nextInt(s_0.rand,n++)==0&&(g=(ng=new Gene_1(dynamicCast($get_1(dynamicCast((checkIndex(j,genomes.size),genomes.array[j]),47).genes,i),5)),ng.geneType+=$nextGaussian(s_0.rand)*0.3499999940395355*0.25,ng.length_0+=$nextGaussian(s_0.rand)*0.30000001192092896*0.25,ng.angle+=$nextGaussian(s_0.rand)*0.25,ng.backtrack+=$nextGaussian(s_0.rand)*0.5*0.25,ng.width_0+=$nextGaussian(s_0.rand)*0.30000001192092896*0.25,$clamp(ng),ng))}$add(this.genes,g)}}
function Genome(){}
_=Genome_1.prototype=Genome_0.prototype=Genome.prototype=new Object_0();_.getClass$=function(){return Lcom_ironalloygames_core_Genome_2_classLit};_.castableTypeMap$={47:1};_.arms=0;function $beginContact(contact){if(!!contact.m_fixtureA.m_userData&&!!contact.m_fixtureB.m_userData&&!!contact.m_fixtureA.m_userData&&!!contact.m_fixtureB.m_userData){$add(contact.m_fixtureA.m_userData.contactList,contact.m_fixtureB.m_userData);$add(contact.m_fixtureB.m_userData.contactList,contact.m_fixtureA.m_userData)}}
function $endContact(contact){if(!!contact.m_fixtureA.m_userData&&!!contact.m_fixtureB.m_userData&&!!contact.m_fixtureA.m_userData&&!!contact.m_fixtureB.m_userData){$remove_0(contact.m_fixtureA.m_userData.contactList,contact.m_fixtureB.m_userData);$remove_0(contact.m_fixtureB.m_userData.contactList,contact.m_fixtureA.m_userData)}}
function $getCreatures(this$static){var e,e$iterator,ret;ret=new ArrayList_0();for(e$iterator=new AbstractList$IteratorImpl_0(this$static.entities);e$iterator.i<e$iterator.this$0.size_0();){e=dynamicCast($next(e$iterator),7);e!=null&&e.castableTypeMap$&&!!e.castableTypeMap$[8]&&$add(ret,dynamicCast(e,8))}return ret}
function $init(this$static){var angle,bd,center,dishWalls,il,img,minimapIL,offscreen,polygon,sectionEnd,sectionStart,surface;s_0=this$static;this$static.cam=new Camera_0();this$static.statsDisplay=(surface=new FlashCanvas_0(220,160,(new com.googlecode.flashcanvas.Canvas(iceil(220),iceil(160))).getContext('2d')),new FlashCanvasImage_0(surface));$getImage(platform_0.assets,'images/minimap.png');il=new FlashImmediateLayerCanvas_0(platform_0.graphics_0.ctx);minimapIL=new FlashImmediateLayerCanvas$Clipped_0(platform_0.graphics_0.ctx);$add_5(platform_0.graphics_0.rootLayer,il);$add_5(platform_0.graphics_0.rootLayer,new FlashImageLayer_0(this$static.statsDisplay));$addAt(platform_0.graphics_0.rootLayer,minimapIL,($clinit_5(),$root).stage.stageWidth-40-320,40);this$static.helpScreen=new FlashImageLayer_0($getImage(platform_0.assets,'images/help.png'));$addAt(platform_0.graphics_0.rootLayer,this$static.helpScreen,~~($root.stage.stageWidth/2)-320,~~($root.stage.stageHeight/2)-180);this$static.titleScreen=new FlashImageLayer_0($getImage(platform_0.assets,'images/title.png'));$setUniformScale(this$static.titleScreen.transform_0,$root.stage.stageHeight/1080);offscreen=$root.stage.stageHeight/1080*1920-$root.stage.stageWidth;$setTranslation(this$static.titleScreen.transform_0,-offscreen/2,0);$add_5(platform_0.graphics_0.rootLayer,this$static.titleScreen);img=$createImage($root.stage.stageWidth,$root.stage.stageHeight);$setFillColor(img.canvas_0,-16777216);$fillRect(img.canvas_0,$root.stage.stageWidth,$root.stage.stageHeight);$setFillColor(img.canvas_0,-1);$drawText(img.canvas_0,'Loading... Please wait',~~($root.stage.stageWidth/2)-20,~~($root.stage.stageHeight/2));this$static.loadingScreen=new FlashImageLayer_0(img);$add_5(platform_0.graphics_0.rootLayer,this$static.loadingScreen);this$static.world=new World_0(new Vec2_1(0,0));this$static.rand=new Random_0();while(this$static.enemyMoney>0){$add(this$static.entities,new Creature_0($makeRandomEnemyPos(this$static),new Genome_0(),false))}platform_0.mouse.listener=this$static;platform_0.keyboard.listener=this$static;this$static.world.m_contactManager.m_contactListener=this$static;bd=new BodyDef_0();bd.type=($clinit_21(),STATIC);dishWalls=$createBody(this$static.world,bd);for(angle=0;angle<6.2831854820251465;angle+=0.09817477315664291){sectionStart=new Vec2_1(($clinit_18(),Math.cos(angle))*720,Math.sin(angle)*720);sectionEnd=new Vec2_1(Math.cos(angle-0.09817477315664291)*720,Math.sin(angle-0.09817477315664291)*720);center=$mul(new Vec2_1(sectionStart.x+sectionEnd.x,sectionStart.y+sectionEnd.y),0.5);polygon=new PolygonShape_0();$setAsBox(polygon,$length(new Vec2_1(sectionStart.x-sectionEnd.x,sectionStart.y-sectionEnd.y))/2,10,center,angle+1.5707963705062866-0.04908738657832146);$add(this$static.polys,polygon);dishWalls.fixDef.shape=polygon;dishWalls.fixDef.density=0;$createFixture(dishWalls,dishWalls.fixDef)}this$static.music=$getSound(platform_0.assets,'sound/music0');this$static.music.looping=true}
function $makeRandomEnemyPos(this$static){var bearing,dist;bearing=$nextInternal(this$static.rand,24)*5.9604644775390625E-8*6.2831854820251465;dist=$nextInternal(this$static.rand,24)*5.9604644775390625E-8*720;return new Vec2_1(($clinit_18(),Math.cos(bearing))*dist,Math.sin(bearing)*dist)}
function $onKeyDown(this$static,event_0){var agg,c,c$iterator,crt,genome,genomes,mousePos;if(event_0.key==($clinit_25(),B)&&this$static.playerMoney>0){genomes=new ArrayList_0();for(c$iterator=new AbstractList$IteratorImpl_0($getCreatures(this$static));c$iterator.i<c$iterator.this$0.size_0();){c=dynamicCast($next(c$iterator),8);c.selected&&$add(genomes,c.genome)}genomes.size==0&&$add(genomes,new Genome_0());genome=new Genome_1(genomes);mousePos=$screenToReal(this$static.cam,this$static.mouseScreenPos);crt=new Creature_0(mousePos,genome,true);$add(this$static.entities,crt);$clinit_2();$containsKey(sounds,'split')||$put(sounds,'split',$getSound(platform_0.assets,'sound/split'));$play(dynamicCast($get_0(sounds,'split'),4))}event_0.key==UP&&(this$static.camMoveUp=true);event_0.key==DOWN&&(this$static.camMoveDown=true);event_0.key==LEFT&&(this$static.camMoveLeft=true);event_0.key==RIGHT&&(this$static.camMoveRight=true);if(event_0.key==A){agg=false;for(c$iterator=new AbstractList$IteratorImpl_0($getCreatures(this$static));c$iterator.i<c$iterator.this$0.size_0();){c=dynamicCast($next(c$iterator),8);if(c.selected){c.aggressiveMode=true;agg=true}}agg&&($clinit_2(),$containsKey(sounds,'agg')||$put(sounds,'agg',$getSound(platform_0.assets,'sound/agg')),$play(dynamicCast($get_0(sounds,'agg'),4)))}event_0.key==SHIFT&&(this$static.shiftKeyDown=true)}
function $onKeyUp(this$static,event_0){event_0.key==($clinit_25(),SHIFT)&&(this$static.shiftKeyDown=false);event_0.key==UP&&(this$static.camMoveUp=false);event_0.key==DOWN&&(this$static.camMoveDown=false);event_0.key==LEFT&&(this$static.camMoveLeft=false);event_0.key==RIGHT&&(this$static.camMoveRight=false)}
function $onMouseDown(this$static,event_0){var any,c,c$iterator,minimapCenter,mousePos,pos;this$static.mouseScreenPos=new Vec2_1(event_0.x,event_0.y);minimapCenter=new Vec2_1(($clinit_5(),$root).stage.stageWidth-40-160,200);if($length($sub(this$static.mouseScreenPos,minimapCenter))<=160){pos=new Vec2_2($sub(this$static.mouseScreenPos,new Vec2_1($root.stage.stageWidth-40-320,40)));$subLocal(pos,new Vec2_1(160,160));pos.x*=4.5;pos.y*=4.5;pos.y=-pos.y;$setCamera(this$static.cam,pos,5);this$static.camMoveRate.x=0;this$static.camMoveRate.y=0;return}mousePos=$screenToReal(this$static.cam,this$static.mouseScreenPos);if(event_0.button==0){this$static.mouseScreenPos=new Vec2_1(event_0.x,event_0.y);this$static.mouseDownRealPos=new Vec2_2(mousePos)}if(event_0.button==2){any=false;for(c$iterator=new AbstractList$IteratorImpl_0($getCreatures(this$static));c$iterator.i<c$iterator.this$0.size_0();){c=dynamicCast($next(c$iterator),8);if(c.selected){c.moveTarget=new Vec2_2(mousePos);c.aggressiveMode=false;any=true}}any&&play('move'+$nextInt(s_0.rand,3))}event_0.button==1&&(this$static.mouseScrollStart=new Vec2_2(this$static.mouseScreenPos));(this$static.loadingScreen.flags&($clinit_24(),VISIBLE).bitmask)!=0||(!!this$static.titleScreen&&(this$static.titleScreen.flags&VISIBLE.bitmask)!=0?$setVisible(this$static.titleScreen):!!this$static.helpScreen&&(this$static.helpScreen.flags&VISIBLE.bitmask)!=0?$setVisible(this$static.helpScreen):!!this$static.victoryScreen&&(this$static.victoryScreen.flags&VISIBLE.bitmask)!=0&&$setVisible(this$static.victoryScreen))}
function $onMouseMove(this$static,event_0){this$static.mouseScreenPos=new Vec2_1(event_0.x,event_0.y)}
function $onMouseUp(this$static,event_0){var bestDist,bestSelectTarget,c,c$iterator,dist,lr,mousePos,oneSelected,ul;this$static.mouseScreenPos=new Vec2_1(event_0.x,event_0.y);if(event_0.button==0&&!!this$static.mouseDownRealPos){mousePos=$screenToReal(this$static.cam,this$static.mouseScreenPos);if(!this$static.shiftKeyDown){for(c$iterator=new AbstractList$IteratorImpl_0($getCreatures(this$static));c$iterator.i<c$iterator.this$0.size_0();){c=dynamicCast($next(c$iterator),8);c.selected=false}}oneSelected=false;if(!!this$static.mouseDownRealPos&&$length($sub(mousePos,this$static.mouseDownRealPos))<2){bestDist=3.4028234663852886E38;bestSelectTarget=null;for(c$iterator=new AbstractList$IteratorImpl_0($getCreatures(this$static));c$iterator.i<c$iterator.this$0.size_0();){c=dynamicCast($next(c$iterator),8);if(abs(mousePos.x-c.body.m_xf.position.x)<c.radius*1.149999976158142&&abs(mousePos.y-c.body.m_xf.position.y)<c.radius*1.149999976158142&&c.playerOwned){dist=$lengthSquared($sub(c.body.m_xf.position,mousePos));if(dist<bestDist){bestSelectTarget=c;bestDist=dist}}}if(bestSelectTarget){bestSelectTarget.selected=true;oneSelected=true}}else if(this$static.mouseDownRealPos){ul=new Vec2_1(min(mousePos.x,this$static.mouseDownRealPos.x),min(mousePos.y,this$static.mouseDownRealPos.y));lr=new Vec2_1(max(mousePos.x,this$static.mouseDownRealPos.x),max(mousePos.y,this$static.mouseDownRealPos.y));for(c$iterator=new AbstractList$IteratorImpl_0($getCreatures(this$static));c$iterator.i<c$iterator.this$0.size_0();){c=dynamicCast($next(c$iterator),8);if(c.playerOwned){if(c.body.m_xf.position.x>=ul.x&&c.body.m_xf.position.y>=ul.y&&c.body.m_xf.position.x<=lr.x&&c.body.m_xf.position.y<=lr.y){oneSelected=true;c.selected=true}}}}oneSelected&&play('select'+$nextInt(s_0.rand,3));this$static.mouseDownRealPos=null}event_0.button==1&&(this$static.mouseScrollStart=null)}
function $update(this$static,delta){var $e0_0,bestDist,c,c$iterator,creatures,desiredCamMove,dist,e,e$iterator,genomes,i,mousePos,mouseScrollDelta,n,nextGenome,sourceGenomes;!!this$static.titleScreen&&this$static.titleScreen.image.isReady()&&$setVisible(this$static.loadingScreen);if(!!this$static.titleScreen&&(this$static.titleScreen.flags&($clinit_24(),VISIBLE).bitmask)!=0||!!this$static.helpScreen&&(this$static.helpScreen.flags&($clinit_24(),VISIBLE).bitmask)!=0||!!this$static.victoryScreen&&(this$static.victoryScreen.flags&($clinit_24(),VISIBLE).bitmask)!=0)return;this$static.music.isPlaying||$play(this$static.music);if(this$static.alliedBiomass>=2000&&this$static.enemyBiomass<=1000&&!this$static.victoryScreen){this$static.victoryScreen=new FlashImageLayer_0($getImage(platform_0.assets,'images/victory.png'));$addAt(platform_0.graphics_0.rootLayer,this$static.victoryScreen,~~(($clinit_5(),$root).stage.stageWidth/2)-320,~~($root.stage.stageHeight/2)-180)}mousePos=$screenToReal(this$static.cam,this$static.mouseScreenPos);this$static.enemiesOnField=0;this$static.alliesOnField=0;this$static.enemyBiomass=0;this$static.alliedBiomass=0;bestDist=3.4028234663852886E38;for(c$iterator=new AbstractList$IteratorImpl_0($getCreatures(this$static));c$iterator.i<c$iterator.this$0.size_0();){c=dynamicCast($next(c$iterator),8);if(abs(mousePos.x-c.body.m_xf.position.x)<c.radius*1.149999976158142&&abs(mousePos.y-c.body.m_xf.position.y)<c.radius*1.149999976158142&&c.playerOwned){dist=$lengthSquared($sub(c.body.m_xf.position,mousePos));dist<bestDist&&(bestDist=dist)}}for(e$iterator=new AbstractList$IteratorImpl_0(this$static.entities);e$iterator.i<e$iterator.this$0.size_0();){e=dynamicCast($next(e$iterator),7);e.update();if(e!=null&&e.castableTypeMap$&&!!e.castableTypeMap$[8]){c=dynamicCast(e,8);c.playerOwned?++this$static.alliesOnField:++this$static.enemiesOnField;c.playerOwned?(this$static.alliedBiomass+=c.body.m_mass):(this$static.enemyBiomass+=c.body.m_mass)}}for(i=0;i<this$static.entities.size;++i){if(!dynamicCast($get_1(this$static.entities,i),7).keep()){$destroyBody(s_0.world,dynamicCast($get_1(this$static.entities,i),7).body);$remove(this$static.entities,i--)}}$addAll(this$static.entities,this$static.entityAddQueue);$clear(this$static.entityAddQueue);try{$step(this$static.world,delta)}catch($e0){$e0_0=caught($e0_0);if(!($e0_0!=null&&$e0_0.castableTypeMap$&&!!$e0_0.castableTypeMap$[48]))throw $e0_0}if(this$static.enemyMoney>0){genomes=new ArrayList_0();sourceGenomes=~~Math.max(Math.min($nextGaussian(this$static.rand)*1.5,2147483647),-2147483648);creatures=$getCreatures(this$static);for(i=0;i<sourceGenomes;++i){n=0;nextGenome=null;for(c$iterator=new AbstractList$IteratorImpl_0(creatures);c$iterator.i<c$iterator.this$0.size_0();){c=dynamicCast($next(c$iterator),8);!c.playerOwned&&$nextInt(this$static.rand,++n)==0&&(nextGenome=c.genome)}setCheck(genomes.array,genomes.size++,nextGenome)}genomes.size==0&&$add(genomes,new Genome_0());$add(this$static.entities,new Creature_0($makeRandomEnemyPos(this$static),new Genome_1(genomes),false))}if(this$static.infoUpdateCountdown<=0){$setFillColor(this$static.statsDisplay.canvas_0,this$static.playerMoney>0?-16711936:-256);$drawText(this$static.statsDisplay.canvas_0,'Food: '+~~Math.max(Math.min(this$static.playerMoney,2147483647),-2147483648),20,20);$setFillColor(this$static.statsDisplay.canvas_0,-3618616);$drawText(this$static.statsDisplay.canvas_0,'Population:',20,40);$setFillColor(this$static.statsDisplay.canvas_0,-10197761);$drawText(this$static.statsDisplay.canvas_0,''+this$static.alliesOnField,100,40);$setFillColor(this$static.statsDisplay.canvas_0,-32768);$drawText(this$static.statsDisplay.canvas_0,''+this$static.enemiesOnField,150,40);$setFillColor(this$static.statsDisplay.canvas_0,-3618616);$drawText(this$static.statsDisplay.canvas_0,'Biomass:',20,60);$setFillColor(this$static.statsDisplay.canvas_0,-10197761);$drawText(this$static.statsDisplay.canvas_0,''+~~Math.max(Math.min(this$static.alliedBiomass,2147483647),-2147483648),100,60);$setFillColor(this$static.statsDisplay.canvas_0,-32768);$drawText(this$static.statsDisplay.canvas_0,''+~~Math.max(Math.min(this$static.enemyBiomass,2147483647),-2147483648),150,60);this$static.infoUpdateCountdown=10}else{--this$static.infoUpdateCountdown}desiredCamMove=new Vec2_0();this$static.camMoveLeft&&!this$static.camMoveRight&&(desiredCamMove.x=-2);!this$static.camMoveLeft&&this$static.camMoveRight&&(desiredCamMove.x=2);this$static.camMoveUp&&!this$static.camMoveDown&&(desiredCamMove.y=2);!this$static.camMoveUp&&this$static.camMoveDown&&(desiredCamMove.y=-2);if(this$static.mouseScrollStart){mouseScrollDelta=$sub(this$static.mouseScrollStart,this$static.mouseScreenPos);mouseScrollDelta.x=-mouseScrollDelta.x;mouseScrollDelta.x*=0.05000000074505806;mouseScrollDelta.y*=0.05000000074505806;desiredCamMove.x+=mouseScrollDelta.x;desiredCamMove.y+=mouseScrollDelta.y}this$static.camMoveRate=$add_1($mul(this$static.camMoveRate,0.8999999761581421),new Vec2_1(desiredCamMove.x*0.10000002384185791,desiredCamMove.y*0.10000002384185791));$translateCamera(this$static.cam,this$static.camMoveRate)}
function PetriDishEmpire_0(){this.entities=new ArrayList_0();this.mouseScreenPos=new Vec2_0();this.entityAddQueue=new ArrayList_0();this.camMoveRate=new Vec2_0();this.polys=new ArrayList_0()}
function PetriDishEmpire(){}
_=PetriDishEmpire_0.prototype=PetriDishEmpire.prototype=new Object_0();_.getClass$=function(){return Lcom_ironalloygames_core_PetriDishEmpire_2_classLit};_.castableTypeMap$={};_.alliedBiomass=0;_.alliesOnField=0;_.cam=null;_.camMoveDown=false;_.camMoveLeft=false;_.camMoveRight=false;_.camMoveUp=false;_.enemiesOnField=0;_.enemyBiomass=0;_.enemyMoney=1200;_.helpScreen=null;_.infoUpdateCountdown=0;_.loadingScreen=null;_.mouseDownRealPos=null;_.mouseScrollStart=null;_.music=null;_.playerMoney=500;_.rand=null;_.shiftKeyDown=false;_.statsDisplay=null;_.titleScreen=null;_.victoryScreen=null;_.world=null;var s_0=null;function Spark_0(pos){var cs;Entity_0.call(this,pos);$setLinearVelocity(this.body,new Vec2_1($nextGaussian(s_0.rand)*3,$nextGaussian(s_0.rand)*3));cs=new CircleShape_0();cs.m_radius=0.20000000298023224;$createFixture_0(this.body,cs,0.009999999776482582);this.lifespan=1}
function Spark(){}
_=Spark_0.prototype=Spark.prototype=new Entity();_.getClass$=function(){return Lcom_ironalloygames_core_Spark_2_classLit};_.keep=function(){return this.lifespan>0.05000000074505806};_.update=function(){this.lifespan-=0.019999999552965164};_.castableTypeMap$={7:1};_.lifespan=0;function $emitSparks(this$static,count){var centerPoint,endAbs,i,pt,startAbs,t;count<1&&$nextInternal(s_0.rand,24)*5.9604644775390625E-8<0.2&&(count=1);t=new Transform_0();$set_10(t,this$static.owner.body.m_xf.position,this$static.owner.body.m_sweep.a_0);startAbs=mul(t,this$static.start);endAbs=mul(t,this$static.end);for(i=0;i<count;++i){pt=$nextInternal(s_0.rand,24)*5.9604644775390625E-8;centerPoint=$add_1(new Vec2_1(startAbs.x*pt,startAbs.y*pt),new Vec2_1(endAbs.x*(1-pt),endAbs.y*(1-pt)));$add(s_0.entityAddQueue,new Spark_0(centerPoint))}}
function $getMass(this$static){var md;if(!this$static.fixture)return 0;md=new MassData_0();$getMassData(this$static.fixture,md);return md.mass}
function $takeDamage(this$static,amount){var food,p,p$iterator;amount/=this$static.getHPMod();if(this$static.hp<=0)return 0;food=0;this$static.hp-=amount;if(this$static.hp<=0){$emitSparks(this$static,~~Math.max(Math.min($getMass(this$static)*0.6000000238418579,2147483647),-2147483648),this$static.getColor());food+=$getMass(this$static);for(p$iterator=new AbstractList$IteratorImpl_0(this$static.childPieces);p$iterator.i<p$iterator.this$0.size_0();){p=dynamicCast($next(p$iterator),6);food+=$takeDamage(p,100000)}$clear(this$static.childPieces)}else{$emitSparks(this$static,~~Math.max(Math.min(amount*2,2147483647),-2147483648),this$static.getHitSparkColor())}return food}
function Piece(){}
_=Piece.prototype=new Object_0();_.getClass$=function(){return Lcom_ironalloygames_core_piece_Piece_2_classLit};_.getColor=function(){return -1};_.getCostMod=function(){return 1};_.getEnginePower=function(){return 0};_.getHPMod=function(){return 1};_.getHitSparkColor=function(){return -65536};_.getSolarPower=function(){return 0};_.update=function(){};_.castableTypeMap$={6:1};_.end=null;_.fixture=null;_.hp=0;_.owner=null;_.start=null;_.width_0=0;function Armor_0(){this.contactList=new ArrayList_0();this.childPieces=new ArrayList_0()}
function Armor(){}
_=Armor_0.prototype=Armor.prototype=new Piece();_.getClass$=function(){return Lcom_ironalloygames_core_piece_Armor_2_classLit};_.getColor=function(){return -16744193};_.getCostMod=function(){return 1.7000000476837158};_.getHPMod=function(){return 4};_.getHitSparkColor=function(){return -16744193};_.castableTypeMap$={6:1,49:1};function Engine_0(){this.contactList=new ArrayList_0();this.childPieces=new ArrayList_0()}
function Engine(){}
_=Engine_0.prototype=Engine.prototype=new Piece();_.getClass$=function(){return Lcom_ironalloygames_core_piece_Engine_2_classLit};_.getColor=function(){return -256};_.getEnginePower=function(){return 0.004000000189989805*$getMass(this)};_.castableTypeMap$={6:1};function SolarCell_0(){this.contactList=new ArrayList_0();this.childPieces=new ArrayList_0()}
function SolarCell(){}
_=SolarCell_0.prototype=SolarCell.prototype=new Piece();_.getClass$=function(){return Lcom_ironalloygames_core_piece_SolarCell_2_classLit};_.getColor=function(){return -16711936};_.getCostMod=function(){return 1.600000023841858};_.getSolarPower=function(){return $getMass(this)/1400};_.castableTypeMap$={6:1};function Structure_0(){this.contactList=new ArrayList_0();this.childPieces=new ArrayList_0()}
function Structure(){}
_=Structure_0.prototype=Structure.prototype=new Piece();_.getClass$=function(){return Lcom_ironalloygames_core_piece_Structure_2_classLit};_.castableTypeMap$={6:1};function WeakPoint_0(){this.contactList=new ArrayList_0();this.childPieces=new ArrayList_0()}
function WeakPoint(){}
_=WeakPoint_0.prototype=WeakPoint.prototype=new Piece();_.getClass$=function(){return Lcom_ironalloygames_core_piece_WeakPoint_2_classLit};_.getColor=function(){return -6250336};_.getCostMod=function(){return 0.15000000596046448};_.getHPMod=function(){return 0.10000000149011612};_.castableTypeMap$={6:1};function Weapon_0(){this.contactList=new ArrayList_0();this.childPieces=new ArrayList_0()}
function Weapon(){}
_=Weapon_0.prototype=Weapon.prototype=new Piece();_.getClass$=function(){return Lcom_ironalloygames_core_piece_Weapon_2_classLit};_.getColor=function(){return -65536};_.getCostMod=function(){return 2};_.update=function(){var food,p,p$iterator;this.damage=min(this.damage+$getMass(this)/60,$getMass(this));for(p$iterator=new AbstractList$IteratorImpl_0(this.contactList);p$iterator.i<p$iterator.this$0.size_0();){p=dynamicCast($next(p$iterator),6);if(!this.owner.playerOwned||!p.owner.playerOwned){food=$takeDamage(p,this.damage)/2;this.owner.playerOwned?(s_0.playerMoney+=food):(s_0.enemyMoney+=food);this.damage>2&&(p!=null&&p.castableTypeMap$&&!!p.castableTypeMap$[49]?($clinit_2(),$containsKey(sounds,'hit_no_effect')||$put(sounds,'hit_no_effect',$getSound(platform_0.assets,'sound/hit_no_effect')),$play(dynamicCast($get_0(sounds,'hit_no_effect'),4))):play('hit'+$nextInt(s_0.rand,2)));this.damage=0;break}}};_.castableTypeMap$={6:1};_.damage=0;function $clinit_3(){$clinit_3=nullMethod}
function $addEventListener(this$static,type,listener,useCapture,priority,useWeakReference){this$static.addEventListener(type,function(evt){return listener.handleEvent(evt)},useCapture,priority,useWeakReference)}
function $clinit_4(){$clinit_4=nullMethod;$clinit_3();ENTERFRAME='enterFrame'}
var ENTERFRAME;function $setBitmapData(this$static,bitmapData){this$static.bitmapData=bitmapData;this$static.smoothing=true;this$static.pixelSnapping='auto'}
function $clinit_5(){$clinit_5=nullMethod;$clinit_4();KEYDOWN='keyDown';KEYUP='keyUp';MOUSEDOWN='mouseDown';MOUSEMOVE='mouseMove';MOUSEUP='mouseUp'}
var KEYDOWN,KEYUP,MOUSEDOWN,MOUSEMOVE,MOUSEUP;function create_0(w,h){$clinit_4();var shape=new flash.display.Shape();shape.width=w;shape.height=h;return shape}
function Enum(){}
_=Enum.prototype=new Object_0();_.compareTo$=function(other){return this.ordinal-dynamicCast(other,15).ordinal};_.equals$=function(other){return this===other};_.getClass$=function(){return Ljava_lang_Enum_2_classLit};_.hashCode$=function(){return this.$H||(this.$H=++sNextHashId)};_.toString$=function(){return this.name_0};_.castableTypeMap$={12:1,14:1,15:1};_.name_0=null;_.ordinal=0;function $clinit_6(){$clinit_6=nullMethod;BOTTOM=new StageAlign_0('BOTTOM',0,'B');BOTTOM_LEFT=new StageAlign_0('BOTTOM_LEFT',1,'BL');BOTTOM_RIGHT=new StageAlign_0('BOTTOM_RIGHT',2,'BR');TOP=new StageAlign_0('TOP',3,'T');TOP_LEFT=new StageAlign_0('TOP_LEFT',4,'TL');TOP_RIGHT=new StageAlign_0('TOP_RIGHT',5,'TR');$VALUES=initValues(_3Lflash_display_StageAlign_2_classLit,{12:1,45:1},10,[BOTTOM,BOTTOM_LEFT,BOTTOM_RIGHT,TOP,TOP_LEFT,TOP_RIGHT])}
function StageAlign_0(enum$name,enum$ordinal,nativeEnum){this.name_0=enum$name;this.ordinal=enum$ordinal;this.nativeEnum=nativeEnum}
function values(){$clinit_6();return $VALUES}
function StageAlign(){}
_=StageAlign_0.prototype=StageAlign.prototype=new Enum();_.getClass$=function(){return Lflash_display_StageAlign_2_classLit};_.castableTypeMap$={10:1,12:1,14:1,15:1};_.nativeEnum=null;var $VALUES,BOTTOM,BOTTOM_LEFT,BOTTOM_RIGHT,TOP,TOP_LEFT,TOP_RIGHT;function $clinit_7(){$clinit_7=nullMethod;EXACT_FIT=new StageScaleMode_0('EXACT_FIT',0,'exactFit');NO_BORDER=new StageScaleMode_0('NO_BORDER',1,'noBorder');NO_SCALE=new StageScaleMode_0('NO_SCALE',2,'noScale');SHOW_ALL=new StageScaleMode_0('SHOW_ALL',3,'showAll');$VALUES_0=initValues(_3Lflash_display_StageScaleMode_2_classLit,{12:1,45:1},11,[EXACT_FIT,NO_BORDER,NO_SCALE,SHOW_ALL])}
function StageScaleMode_0(enum$name,enum$ordinal,nativeEnum){this.name_0=enum$name;this.ordinal=enum$ordinal;this.nativeEnum=nativeEnum}
function values_0(){$clinit_7();return $VALUES_0}
function StageScaleMode(){}
_=StageScaleMode_0.prototype=StageScaleMode.prototype=new Enum();_.getClass$=function(){return Lflash_display_StageScaleMode_2_classLit};_.castableTypeMap$={11:1,12:1,14:1,15:1};_.nativeEnum=null;var $VALUES_0,EXACT_FIT,NO_BORDER,NO_SCALE,SHOW_ALL;function $clinit_8(){$clinit_8=nullMethod;$clinit_3()}
function IndexOutOfBoundsException_0(){$fillInStackTrace(this)}
function IndexOutOfBoundsException_1(message){$fillInStackTrace(this);this.detailMessage=message}
function IndexOutOfBoundsException(){}
_=IndexOutOfBoundsException_1.prototype=IndexOutOfBoundsException_0.prototype=IndexOutOfBoundsException.prototype=new RuntimeException();_.getClass$=function(){return Ljava_lang_IndexOutOfBoundsException_2_classLit};_.castableTypeMap$={2:1,3:1,12:1,48:1};function ArrayIndexOutOfBoundsException_0(msg){$fillInStackTrace(this);this.detailMessage=msg}
function ArrayIndexOutOfBoundsException(){}
_=ArrayIndexOutOfBoundsException_0.prototype=ArrayIndexOutOfBoundsException.prototype=new IndexOutOfBoundsException();_.getClass$=function(){return Ljava_lang_ArrayIndexOutOfBoundsException_2_classLit};_.castableTypeMap$={2:1,3:1,12:1,48:1};function ArrayStoreException_0(){$fillInStackTrace(this)}
function ArrayStoreException_1(message){$fillInStackTrace(this);this.detailMessage=message}
function ArrayStoreException(){}
_=ArrayStoreException_1.prototype=ArrayStoreException_0.prototype=ArrayStoreException.prototype=new RuntimeException();_.getClass$=function(){return Ljava_lang_ArrayStoreException_2_classLit};_.castableTypeMap$={2:1,3:1,12:1,48:1};function $clinit_9(){$clinit_9=nullMethod;FALSE=new Boolean_1(false);TRUE=new Boolean_1(true)}
function Boolean_1(value){this.value=value}
function Boolean_0(){}
_=Boolean_1.prototype=Boolean_0.prototype=new Object_0();_.compareTo$=function(other){return this.value==dynamicCast(other,50).value?0:this.value?1:-1};_.equals$=function(o){return o!=null&&o.castableTypeMap$&&!!o.castableTypeMap$[50]&&dynamicCast(o,50).value==this.value};_.getClass$=function(){return Ljava_lang_Boolean_2_classLit};_.hashCode$=function(){return this.value?1231:1237};_.toString$=function(){return this.value?'true':'false'};_.castableTypeMap$={12:1,14:1,50:1};_.value=false;var FALSE,TRUE;function Class_0(){}
function createForArray(packageName,className,componentType){var clazz;clazz=new Class_0();clazz.typeName=packageName+className;clazz.modifiers=4;clazz.componentType=componentType;return clazz}
function createForClass(packageName,className){var clazz;clazz=new Class_0();clazz.typeName=packageName+className;return clazz}
function createForEnum(packageName,className,enumConstantsFunc){var clazz;clazz=new Class_0();clazz.typeName=packageName+className;clazz.modifiers=enumConstantsFunc?8:0;return clazz}
function createForPrimitive(className){var clazz;clazz=new Class_0();clazz.typeName=''+className;clazz.modifiers=1;return clazz}
function Class(){}
_=Class_0.prototype=Class.prototype=new Object_0();_.getClass$=function(){return Ljava_lang_Class_2_classLit};_.toString$=function(){return ((this.modifiers&2)!=0?'interface ':(this.modifiers&1)!=0?'':'class ')+this.typeName};_.castableTypeMap$={};_.componentType=null;_.modifiers=0;_.typeName=null;function ClassCastException_0(){$fillInStackTrace(this)}
function ClassCastException(){}
_=ClassCastException_0.prototype=ClassCastException.prototype=new RuntimeException();_.getClass$=function(){return Ljava_lang_ClassCastException_2_classLit};_.castableTypeMap$={2:1,3:1,12:1,48:1};function Number_0(){}
_=Number_0.prototype=new Object_0();_.getClass$=function(){return Ljava_lang_Number_2_classLit};_.castableTypeMap$={12:1};function IllegalArgumentException_0(){$fillInStackTrace(this)}
function IllegalArgumentException_1(message){$fillInStackTrace(this);this.detailMessage=message}
function IllegalArgumentException(){}
_=IllegalArgumentException_1.prototype=IllegalArgumentException_0.prototype=IllegalArgumentException.prototype=new RuntimeException();_.getClass$=function(){return Ljava_lang_IllegalArgumentException_2_classLit};_.castableTypeMap$={2:1,3:1,12:1,48:1};function $compareTo(this$static,b){return this$static.value<b.value?-1:this$static.value>b.value?1:0}
function Integer_0(){this.value=1234598372}
function toPowerOfTwoString(value){var buf,digits,pos;buf=initDim(_3C_classLit,{12:1},-1,8,1);digits=($clinit_10(),digits_0);pos=7;if(value>=0){while(value>15){buf[pos--]=digits[value&15];value>>=4}}else{while(pos>0){buf[pos--]=digits[value&15];value>>=4}}buf[pos]=digits[value&15];return __valueOf(buf,pos,8)}
function Integer(){}
_=Integer_0.prototype=Integer.prototype=new Number_0();_.compareTo$=function(b){return $compareTo(this,dynamicCast(b,51))};_.equals$=function(o){return o!=null&&o.castableTypeMap$&&!!o.castableTypeMap$[51]&&dynamicCast(o,51).value==this.value};_.getClass$=function(){return Ljava_lang_Integer_2_classLit};_.hashCode$=function(){return this.value};_.toString$=function(){return ''+this.value};_.castableTypeMap$={12:1,14:1,51:1};_.value=0;function abs(x){return x<=0?0-x:x}
function max(x,y){return x>y?x:y}
function max_0(x,y){return x>y?x:y}
function min(x,y){return x<y?x:y}
function sqrt(x){return Math.sqrt(x)}
function NullPointerException_0(){$fillInStackTrace(this)}
function NullPointerException(){}
_=NullPointerException_0.prototype=NullPointerException.prototype=new RuntimeException();_.getClass$=function(){return Ljava_lang_NullPointerException_2_classLit};_.castableTypeMap$={2:1,3:1,12:1,48:1};function $clinit_10(){$clinit_10=nullMethod;digits_0=initValues(_3C_classLit,{12:1},-1,[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122])}
var digits_0;function StackTraceElement_0(methodName){this.className='Unknown';this.methodName=methodName;this.fileName=null;this.lineNumber=-1}
function StackTraceElement(){}
_=StackTraceElement_0.prototype=StackTraceElement.prototype=new Object_0();_.getClass$=function(){return Ljava_lang_StackTraceElement_2_classLit};_.toString$=function(){return this.className+'.'+this.methodName+'(Unknown Source'+(this.lineNumber>=0?':'+this.lineNumber:'')+')'};_.castableTypeMap$={12:1,16:1};_.className=null;_.fileName=null;_.lineNumber=0;_.methodName=null;function $equals(this$static,other){if(!(other!=null&&other.castableTypeMap$&&!!other.castableTypeMap$[1])){return false}return String(this$static)==other}
function $trim(this$static){if(this$static.length==0||this$static.charAt(0)>' '&&this$static.charAt(this$static.length-1)>' '){return this$static}var r1=this$static.replace(/^(\s*)/,'');var r2=r1.replace(/\s*$/,'');return r2}
function __valueOf(x,start,end){x=x.slice(start,end);return String.fromCharCode.apply(null,x)}
function compareTo(thisStr,otherStr){thisStr=String(thisStr);if(thisStr==otherStr){return 0}return thisStr<otherStr?-1:1}
_=String.prototype;_.compareTo$=function(other){return compareTo(this,dynamicCast(other,1))};_.equals$=function(other){return $equals(this,other)};_.getClass$=function(){return Ljava_lang_String_2_classLit};_.hashCode$=function(){return getHashCode(this)};_.toString$=function(){return this};_.typeMarker$=nullMethod;_.castableTypeMap$={1:1,12:1,13:1,14:1};function $clinit_11(){$clinit_11=nullMethod;back_0={};front={}}
function compute(str){var hashCode,i,n,nBatch;hashCode=0;n=str.length;nBatch=n-4;i=0;while(i<nBatch){hashCode=str.charCodeAt(i+3)+31*(str.charCodeAt(i+2)+31*(str.charCodeAt(i+1)+31*(str.charCodeAt(i)+31*hashCode)))|0;i+=4}while(i<n){hashCode=hashCode*31+str.charCodeAt(i++)}return hashCode|0}
function getHashCode(str){$clinit_11();var key=':'+str;var result=front[key];if(result!=null){return result}result=back_0[key];result==null&&(result=compute(str));increment_0();return front[key]=result}
function increment_0(){if(count_0==256){back_0=front;front={};count_0=0}++count_0}
var back_0,count_0=0,front;function StringBuffer_0(){var array;this.data=(array=[],array.explicitLength=0,array)}
function StringBuffer(){}
_=StringBuffer_0.prototype=StringBuffer.prototype=new Object_0();_.getClass$=function(){return Ljava_lang_StringBuffer_2_classLit};_.toString$=function(){return $toString_0(this.data)};_.castableTypeMap$={13:1};function $append_4(this$static,x){$append(this$static.data,x);return this$static}
function $append_5(this$static,x){$appendNonNull(this$static.data,String.fromCharCode(x));return this$static}
function $append_6(this$static,x){$appendNonNull(this$static.data,String.fromCharCode.apply(null,x));return this$static}
function $append_7(this$static,x){$append_0(this$static.data,x);return this$static}
function $append_8(this$static,x){$append_1(this$static.data,x);return this$static}
function $append_9(this$static,x){$append_2(this$static.data,x);return this$static}
function $append_10(this$static,x){$appendNonNull(this$static.data,''+x);return this$static}
function $append_11(this$static,x){$append_3(this$static.data,x);return this$static}
function $charAt(this$static,index){return $toString_0(this$static.data).charCodeAt(index)}
function $setLength(this$static,newLength){var oldLength;oldLength=$toString_0(this$static.data).length;newLength<oldLength?($replace(this$static.data,newLength,oldLength),this$static):newLength>oldLength&&$append_6(this$static,initDim(_3C_classLit,{12:1},-1,newLength-oldLength,1))}
function StringBuilder_0(){var array;this.data=(array=[],array.explicitLength=0,array)}
function StringBuilder_1(s){var array;this.data=(array=[],array.explicitLength=0,array);$append_3(this.data,s)}
function StringBuilder(){}
_=StringBuilder_1.prototype=StringBuilder_0.prototype=StringBuilder.prototype=new Object_0();_.getClass$=function(){return Ljava_lang_StringBuilder_2_classLit};_.toString$=function(){return $toString_0(this.data)};_.castableTypeMap$={13:1};function arraycopy(src,srcOfs,dest,destOfs,len){var destComp,destEnd,destType,destlen,srcComp,srcType,srclen;if(src==null||dest==null){throw new NullPointerException_0()}srcType=src.getClass$();destType=dest.getClass$();if((srcType.modifiers&4)==0||(destType.modifiers&4)==0){throw new ArrayStoreException_1('Must be array types')}srcComp=srcType.componentType;destComp=destType.componentType;if(!((srcComp.modifiers&1)!=0?srcComp==destComp:(destComp.modifiers&1)==0)){throw new ArrayStoreException_1('Array types must match')}srclen=src.length;destlen=dest.length;if(srcOfs<0||destOfs<0||len<0||srcOfs+len>srclen||destOfs+len>destlen){throw new IndexOutOfBoundsException_0()}if(src===dest&&srcOfs<destOfs){srcOfs+=len;for(destEnd=destOfs+len;destEnd-->destOfs;){dest[destEnd]=src[--srcOfs]}}else{for(destEnd=destOfs+len;destOfs<destEnd;){dest[destOfs++]=src[srcOfs++]}}}
function $get(this$static){!this$static.object&&(this$static.object=new Manifold_0());return this$static.object}
function ThreadLocal(){}
_=ThreadLocal.prototype=new Object_0();_.getClass$=function(){return Ljava_lang_ThreadLocal_2_classLit};_.castableTypeMap$={};_.object=null;function UnsupportedOperationException_0(message){$fillInStackTrace(this);this.detailMessage=message}
function UnsupportedOperationException(){}
_=UnsupportedOperationException_0.prototype=UnsupportedOperationException.prototype=new RuntimeException();_.getClass$=function(){return Ljava_lang_UnsupportedOperationException_2_classLit};_.castableTypeMap$={2:1,3:1,12:1,48:1};function $advanceToFind(iter,o){var t;while(iter.hasNext()){t=iter.next_0();if(o==null?t==null:equals__devirtual$(o,t)){return iter}}return null}
function $toString_1(this$static){var comma,iter,sb,value;sb=new StringBuffer_0();comma=null;$append_3(sb.data,'[');iter=this$static.iterator();while(iter.hasNext()){comma!=null?($append_3(sb.data,comma),sb):(comma=', ');value=iter.next_0();$append_3(sb.data,value===this$static?'(this Collection)':''+value)}$append_3(sb.data,']');return $toString_0(sb.data)}
function AbstractCollection(){}
_=AbstractCollection.prototype=new Object_0();_.add=function(o){throw new UnsupportedOperationException_0('Add not supported on this collection')};_.contains=function(o){var iter;iter=$advanceToFind(this.iterator(),o);return !!iter};_.getClass$=function(){return Ljava_util_AbstractCollection_2_classLit};_.toString$=function(){return $toString_1(this)};_.castableTypeMap$={};function AbstractMap(){}
_=AbstractMap.prototype=new Object_0();_.equals$=function(obj){var entry,entry$iterator,otherKey,otherMap,otherValue;if(obj===this){return true}if(!(obj!=null&&obj.castableTypeMap$&&!!obj.castableTypeMap$[54])){return false}otherMap=dynamicCast(obj,54);if(this.size!=otherMap.size){return false}for(entry$iterator=new AbstractHashMap$EntrySetIterator_0((new AbstractHashMap$EntrySet_0(otherMap)).this$0);$hasNext(entry$iterator.iter);){entry=dynamicCast($next(entry$iterator.iter),52);otherKey=entry.getKey();otherValue=entry.getValue();if(!(otherKey==null?this.nullSlotLive:otherKey!=null&&otherKey.castableTypeMap$&&!!otherKey.castableTypeMap$[1]?':'+dynamicCast(otherKey,1) in this.stringMap:$hasHashValue(this,otherKey,~~hashCode__devirtual$(otherKey)))){return false}if(!equalsWithNullCheck(otherValue,otherKey==null?this.nullSlot:otherKey!=null&&otherKey.castableTypeMap$&&!!otherKey.castableTypeMap$[1]?this.stringMap[':'+dynamicCast(otherKey,1)]:$getHashValue(this,otherKey,~~hashCode__devirtual$(otherKey)))){return false}}return true};_.getClass$=function(){return Ljava_util_AbstractMap_2_classLit};_.hashCode$=function(){var entry,entry$iterator,hashCode;hashCode=0;for(entry$iterator=new AbstractHashMap$EntrySetIterator_0((new AbstractHashMap$EntrySet_0(this)).this$0);$hasNext(entry$iterator.iter);){entry=dynamicCast($next(entry$iterator.iter),52);hashCode+=entry.hashCode$();hashCode=~~hashCode}return hashCode};_.toString$=function(){var comma,entry,iter,s;s='{';comma=false;for(iter=new AbstractHashMap$EntrySetIterator_0((new AbstractHashMap$EntrySet_0(this)).this$0);$hasNext(iter.iter);){entry=dynamicCast($next(iter.iter),52);comma?(s+=', '):(comma=true);s+=''+entry.getKey();s+='=';s+=''+entry.getValue()}return s+'}'};_.castableTypeMap$={54:1};function $addAllHashEntries(this$static,dest){var hashCodeMap=this$static.hashCodeMap;for(var hashCode in hashCodeMap){var hashCodeInt=parseInt(hashCode,10);if(hashCode==hashCodeInt){var array=hashCodeMap[hashCodeInt];for(var i=0,c=array.length;i<c;++i){dest.add(array[i])}}}}
function $addAllStringEntries(this$static,dest){var stringMap=this$static.stringMap;for(var key in stringMap){if(key.charCodeAt(0)==58){var entry=new AbstractHashMap$MapEntryString_0(this$static,key.substring(1));dest.add(entry)}}}
function $containsKey(this$static,key){return key==null?this$static.nullSlotLive:key!=null&&key.castableTypeMap$&&!!key.castableTypeMap$[1]?$hasStringValue(this$static,dynamicCast(key,1)):$hasHashValue(this$static,key,~~hashCode__devirtual$(key))}
function $get_0(this$static,key){return key==null?this$static.nullSlot:key!=null&&key.castableTypeMap$&&!!key.castableTypeMap$[1]?this$static.stringMap[':'+dynamicCast(key,1)]:$getHashValue(this$static,key,~~hashCode__devirtual$(key))}
function $getHashValue(this$static,key,hashCode){var array=this$static.hashCodeMap[hashCode];if(array){for(var i=0,c=array.length;i<c;++i){var entry=array[i];var entryKey=entry.getKey();if(this$static.equalsBridge(key,entryKey)){return entry.getValue()}}}return null}
function $hasHashValue(this$static,key,hashCode){var array=this$static.hashCodeMap[hashCode];if(array){for(var i=0,c=array.length;i<c;++i){var entry=array[i];var entryKey=entry.getKey();if(this$static.equalsBridge(key,entryKey)){return true}}}return false}
function $hasStringValue(this$static,key){return ':'+key in this$static.stringMap}
function $put(this$static,key,value){return key==null?$putNullSlot(this$static,value):key==null?$putHashValue(this$static,null,value,~~getHashCode(null)):$putStringValue(this$static,key,value)}
function $putHashValue(this$static,key,value,hashCode){var array=this$static.hashCodeMap[hashCode];if(array){for(var i=0,c=array.length;i<c;++i){var entry=array[i];var entryKey=entry.getKey();if(this$static.equalsBridge(key,entryKey)){var previous=entry.getValue();entry.setValue(value);return previous}}}else{array=this$static.hashCodeMap[hashCode]=[]}var entry=new MapEntryImpl_0(key,value);array.push(entry);++this$static.size;return null}
function $putNullSlot(this$static,value){var result;result=this$static.nullSlot;this$static.nullSlot=value;if(!this$static.nullSlotLive){this$static.nullSlotLive=true;++this$static.size}return result}
function $putStringValue(this$static,key,value){var result,stringMap=this$static.stringMap;key=':'+key;key in stringMap?(result=stringMap[key]):++this$static.size;stringMap[key]=value;return result}
function AbstractHashMap(){}
_=AbstractHashMap.prototype=new AbstractMap();_.equalsBridge=function(value1,value2){return (value1==null?null:value1)===(value2==null?null:value2)||value1!=null&&equals__devirtual$(value1,value2)};_.getClass$=function(){return Ljava_util_AbstractHashMap_2_classLit};_.castableTypeMap$={54:1};_.hashCodeMap=null;_.nullSlot=null;_.nullSlotLive=false;_.size=0;_.stringMap=null;function AbstractSet(){}
_=AbstractSet.prototype=new AbstractCollection();_.equals$=function(o){var iter,other,otherItem;if(o===this){return true}if(!(o!=null&&o.castableTypeMap$&&!!o.castableTypeMap$[55])){return false}other=dynamicCast(o,55);if(other.this$0.size!=this.size_0()){return false}for(iter=new AbstractHashMap$EntrySetIterator_0(other.this$0);$hasNext(iter.iter);){otherItem=dynamicCast($next(iter.iter),52);if(!this.contains(otherItem)){return false}}return true};_.getClass$=function(){return Ljava_util_AbstractSet_2_classLit};_.hashCode$=function(){var hashCode,iter,next;hashCode=0;for(iter=this.iterator();iter.hasNext();){next=iter.next_0();if(next!=null){hashCode+=hashCode__devirtual$(next);hashCode=~~hashCode}}return hashCode};_.castableTypeMap$={55:1};function AbstractHashMap$EntrySet_0(this$0){this.this$0=this$0}
function AbstractHashMap$EntrySet(){}
_=AbstractHashMap$EntrySet_0.prototype=AbstractHashMap$EntrySet.prototype=new AbstractSet();_.contains=function(o){var entry,key,value;if(o!=null&&o.castableTypeMap$&&!!o.castableTypeMap$[52]){entry=dynamicCast(o,52);key=entry.getKey();if($containsKey(this.this$0,key)){value=$get_0(this.this$0,key);return $equals_0(entry.getValue(),value)}}return false};_.getClass$=function(){return Ljava_util_AbstractHashMap$EntrySet_2_classLit};_.iterator=function(){return new AbstractHashMap$EntrySetIterator_0(this.this$0)};_.size_0=function(){return this.this$0.size};_.castableTypeMap$={55:1};_.this$0=null;function AbstractHashMap$EntrySetIterator_0(this$0){var list;list=new ArrayList_0();this$0.nullSlotLive&&$add(list,new AbstractHashMap$MapEntryNull_0(this$0));$addAllStringEntries(this$0,list);$addAllHashEntries(this$0,list);this.iter=new AbstractList$IteratorImpl_0(list)}
function AbstractHashMap$EntrySetIterator(){}
_=AbstractHashMap$EntrySetIterator_0.prototype=AbstractHashMap$EntrySetIterator.prototype=new Object_0();_.getClass$=function(){return Ljava_util_AbstractHashMap$EntrySetIterator_2_classLit};_.hasNext=function(){return $hasNext(this.iter)};_.next_0=function(){return dynamicCast($next(this.iter),52)};_.castableTypeMap$={};_.iter=null;function AbstractMapEntry(){}
_=AbstractMapEntry.prototype=new Object_0();_.equals$=function(other){var entry;if(other!=null&&other.castableTypeMap$&&!!other.castableTypeMap$[52]){entry=dynamicCast(other,52);if(equalsWithNullCheck(this.getKey(),entry.getKey())&&equalsWithNullCheck(this.getValue(),entry.getValue())){return true}}return false};_.getClass$=function(){return Ljava_util_AbstractMapEntry_2_classLit};_.hashCode$=function(){var keyHash,valueHash;keyHash=0;valueHash=0;this.getKey()!=null&&(keyHash=hashCode__devirtual$(this.getKey()));this.getValue()!=null&&(valueHash=hashCode__devirtual$(this.getValue()));return keyHash^valueHash};_.toString$=function(){return this.getKey()+'='+this.getValue()};_.castableTypeMap$={52:1};function AbstractHashMap$MapEntryNull_0(this$0){this.this$0=this$0}
function AbstractHashMap$MapEntryNull(){}
_=AbstractHashMap$MapEntryNull_0.prototype=AbstractHashMap$MapEntryNull.prototype=new AbstractMapEntry();_.getClass$=function(){return Ljava_util_AbstractHashMap$MapEntryNull_2_classLit};_.getKey=function(){return null};_.getValue=function(){return this.this$0.nullSlot};_.setValue=function(object){return $putNullSlot(this.this$0,object)};_.castableTypeMap$={52:1};_.this$0=null;function AbstractHashMap$MapEntryString_0(this$0,key){this.this$0=this$0;this.key=key}
function AbstractHashMap$MapEntryString(){}
_=AbstractHashMap$MapEntryString_0.prototype=AbstractHashMap$MapEntryString.prototype=new AbstractMapEntry();_.getClass$=function(){return Ljava_util_AbstractHashMap$MapEntryString_2_classLit};_.getKey=function(){return this.key};_.getValue=function(){return this.this$0.stringMap[':'+this.key]};_.setValue=function(object){return $putStringValue(this.this$0,this.key,object)};_.castableTypeMap$={52:1};_.key=null;_.this$0=null;function checkIndex(index,size){(index<0||index>=size)&&indexOutOfBounds(index,size)}
function indexOutOfBounds(index,size){throw new IndexOutOfBoundsException_1('Index: '+index+', Size: '+size)}
function AbstractList(){}
_=AbstractList.prototype=new AbstractCollection();_.add=function(obj){this.add_0(this.size_0(),obj);return true};_.add_0=function(index,element){throw new UnsupportedOperationException_0('Add not supported on this list')};_.equals$=function(o){var elem,elemOther,iter,iterOther,other;if(o===this){return true}if(!(o!=null&&o.castableTypeMap$&&!!o.castableTypeMap$[53])){return false}other=dynamicCast(o,53);if(this.size_0()!=other.size_0()){return false}iter=this.iterator();iterOther=other.iterator();while(iter.i<iter.this$0.size_0()){elem=$next(iter);elemOther=$next(iterOther);if(!(elem==null?elemOther==null:equals__devirtual$(elem,elemOther))){return false}}return true};_.getClass$=function(){return Ljava_util_AbstractList_2_classLit};_.hashCode$=function(){var iter,k,obj;k=1;iter=this.iterator();while(iter.i<iter.this$0.size_0()){obj=$next(iter);k=31*k+(obj==null?0:hashCode__devirtual$(obj));k=~~k}return k};_.iterator=function(){return new AbstractList$IteratorImpl_0(this)};_.castableTypeMap$={53:1};function $hasNext(this$static){return this$static.i<this$static.this$0.size_0()}
function $next(this$static){if(this$static.i>=this$static.this$0.size_0()){throw new NoSuchElementException_0()}return this$static.this$0.get_0(this$static.i++)}
function AbstractList$IteratorImpl_0(this$0){this.this$0=this$0}
function AbstractList$IteratorImpl(){}
_=AbstractList$IteratorImpl_0.prototype=AbstractList$IteratorImpl.prototype=new Object_0();_.getClass$=function(){return Ljava_util_AbstractList$IteratorImpl_2_classLit};_.hasNext=function(){return this.i<this.this$0.size_0()};_.next_0=function(){return $next(this)};_.castableTypeMap$={};_.i=0;_.this$0=null;function $add(this$static,o){setCheck(this$static.array,this$static.size++,o);return true}
function $add_0(this$static,index,o){(index<0||index>this$static.size)&&indexOutOfBounds(index,this$static.size);this$static.array.splice(index,0,o);++this$static.size}
function $addAll(this$static,c){var cArray,len,a_0,result;cArray=(a_0=c.array,result=a_0.slice(0,c.size),initValues(a_0.arrayClass$,a_0.castableTypeMap$,a_0.queryId$,result),result);len=cArray.length;if(len==0){return false}Array.prototype.splice.apply(this$static.array,[this$static.size,0].concat(cArray));this$static.size+=len;return true}
function $clear(this$static){this$static.array=initDim(_3Ljava_lang_Object_2_classLit,{12:1,45:1},0,0,0);this$static.size=0}
function $get_1(this$static,index){checkIndex(index,this$static.size);return this$static.array[index]}
function $indexOf(this$static,o,index){for(;index<this$static.size;++index){if(equalsWithNullCheck(o,this$static.array[index])){return index}}return -1}
function $remove(this$static,index){var previous;previous=(checkIndex(index,this$static.size),this$static.array[index]);this$static.array.splice(index,1);--this$static.size;return previous}
function $remove_0(this$static,o){var i;i=$indexOf(this$static,o,0);if(i==-1){return false}$remove(this$static,i);return true}
function ArrayList_0(){this.array=initDim(_3Ljava_lang_Object_2_classLit,{12:1,45:1},0,0,0)}
function ArrayList(){}
_=ArrayList_0.prototype=ArrayList.prototype=new AbstractList();_.add=function(o){return setCheck(this.array,this.size++,o),true};_.add_0=function(index,o){$add_0(this,index,o)};_.contains=function(o){return $indexOf(this,o,0)!=-1};_.get_0=function(index){return checkIndex(index,this.size),this.array[index]};_.getClass$=function(){return Ljava_util_ArrayList_2_classLit};_.size_0=function(){return this.size};_.castableTypeMap$={12:1,53:1};_.size=0;function insertionSort(array,low,high,comp){var i,j,t;for(i=low+1;i<high;++i){for(j=i;j>low&&comp.compare(array[j-1],array[j])>0;--j){t=array[j];setCheck(array,j,array[j-1]);setCheck(array,j-1,t)}}}
function merge(src,srcLow,srcMid,srcHigh,dest,destLow,destHigh,comp){var topIdx;topIdx=srcMid;while(destLow<destHigh){topIdx>=srcHigh||srcLow<srcMid&&comp.compare(src[srcLow],src[topIdx])<=0?setCheck(dest,destLow++,src[srcLow++]):setCheck(dest,destLow++,src[topIdx++])}}
function mergeSort(x,fromIndex,toIndex,comp){var temp,a_0,result;temp=(a_0=x,result=a_0.slice(fromIndex,toIndex),initValues(a_0.arrayClass$,a_0.castableTypeMap$,a_0.queryId$,result),result);mergeSort_0(temp,x,fromIndex,toIndex,-fromIndex,comp)}
function mergeSort_0(temp,array,low,high,ofs,comp){var length_0,tempHigh,tempLow,tempMid;length_0=high-low;if(length_0<7){insertionSort(array,low,high,comp);return}tempLow=low+ofs;tempHigh=high+ofs;tempMid=tempLow+(tempHigh-tempLow>>1);mergeSort_0(array,temp,tempLow,tempMid,-ofs,comp);mergeSort_0(array,temp,tempMid,tempHigh,-ofs,comp);if(comp.compare(temp[tempMid-1],temp[tempMid])<=0){while(low<high){setCheck(array,low++,temp[tempLow++])}return}merge(temp,tempLow,tempMid,tempHigh,array,low,high,comp)}
function sort(x,toIndex,c){verifySortIndices(toIndex,x.length);mergeSort(x,0,toIndex,c?c:($clinit_12(),$clinit_12(),NATURAL))}
function verifySortIndices(toIndex,length_0){if(0>toIndex){throw new IllegalArgumentException_1('fromIndex(0) > toIndex('+toIndex+')')}if(toIndex>length_0){throw new ArrayIndexOutOfBoundsException_0('fromIndex(0) or toIndex('+toIndex+') out of bounds (0 - '+length_0+')')}}
function $clinit_12(){$clinit_12=nullMethod;NATURAL=new Comparators$1_0()}
var NATURAL;function Comparators$1_0(){}
function Comparators$1(){}
_=Comparators$1_0.prototype=Comparators$1.prototype=new Object_0();_.compare=function(o1,o2){return dynamicCast(o1,14).compareTo$(o2)};_.getClass$=function(){return Ljava_util_Comparators$1_2_classLit};_.castableTypeMap$={};function EmptyStackException_0(){$fillInStackTrace(this)}
function EmptyStackException(){}
_=EmptyStackException_0.prototype=EmptyStackException.prototype=new RuntimeException();_.getClass$=function(){return Ljava_util_EmptyStackException_2_classLit};_.castableTypeMap$={2:1,3:1,12:1,48:1};function $equals_0(value1,value2){return (value1==null?null:value1)===(value2==null?null:value2)||value1!=null&&equals__devirtual$(value1,value2)}
function HashMap_0(){this.hashCodeMap=[];this.stringMap={};this.nullSlotLive=false;this.nullSlot=null;this.size=0}
function HashMap(){}
_=HashMap_0.prototype=HashMap.prototype=new AbstractHashMap();_.getClass$=function(){return Ljava_util_HashMap_2_classLit};_.castableTypeMap$={12:1,54:1};function MapEntryImpl_0(key,value){this.key=key;this.value=value}
function MapEntryImpl(){}
_=MapEntryImpl_0.prototype=MapEntryImpl.prototype=new AbstractMapEntry();_.getClass$=function(){return Ljava_util_MapEntryImpl_2_classLit};_.getKey=function(){return this.key};_.getValue=function(){return this.value};_.setValue=function(value){var old;old=this.value;this.value=value;return old};_.castableTypeMap$={52:1};_.key=null;_.value=null;function NoSuchElementException_0(){$fillInStackTrace(this)}
function NoSuchElementException(){}
_=NoSuchElementException_0.prototype=NoSuchElementException.prototype=new RuntimeException();_.getClass$=function(){return Ljava_util_NoSuchElementException_2_classLit};_.castableTypeMap$={2:1,3:1,12:1,48:1};function $clinit_13(){$clinit_13=nullMethod;var i,twoToTheXMinus24Tmp,twoToTheXMinus48Tmp;twoToTheXMinus24=initDim(_3D_classLit,{12:1},-1,25,1);twoToTheXMinus48=initDim(_3D_classLit,{12:1},-1,33,1);twoToTheXMinus48Tmp=1.52587890625E-5;for(i=32;i>=0;--i){twoToTheXMinus48[i]=twoToTheXMinus48Tmp;twoToTheXMinus48Tmp*=0.5}twoToTheXMinus24Tmp=1;for(i=24;i>=0;--i){twoToTheXMinus24[i]=twoToTheXMinus24Tmp;twoToTheXMinus24Tmp*=0.5}}
function $nextGaussian(this$static){var norm,s,v1,v2;if(this$static.haveNextNextGaussian){this$static.haveNextNextGaussian=false;return this$static.nextNextGaussian}do{v1=2*($nextInternal(this$static,26)*1.4901161193847656E-8+$nextInternal(this$static,27)*1.1102230246251565E-16)-1;v2=2*($nextInternal(this$static,26)*1.4901161193847656E-8+$nextInternal(this$static,27)*1.1102230246251565E-16)-1;s=v1*v1+v2*v2}while(s>=1);norm=s==0?0:sqrt(-2*Math.log(s)/s);this$static.nextNextGaussian=v2*norm;this$static.haveNextNextGaussian=true;return v1*norm}
function $nextInt(this$static,n){var bits,val;if(n>0){if((n&-n)==n){return ~~Math.max(Math.min(n*$nextInternal(this$static,31)*4.6566128730773926E-10,2147483647),-2147483648)}do{bits=$nextInternal(this$static,31);val=bits%n}while(bits-val+(n-1)<0);return ~~Math.max(Math.min(val,2147483647),-2147483648)}throw new IllegalArgumentException_0()}
function $nextInternal(this$static,bits){var carry,dval,h,hi,l,lo;hi=this$static.seedhi*15525485+this$static.seedlo*1502;lo=this$static.seedlo*15525485+11;carry=Math.floor(lo*5.9604644775390625E-8);hi+=carry;lo-=carry*16777216;hi%=16777216;this$static.seedhi=hi;this$static.seedlo=lo;if(bits<=24){return Math.floor(this$static.seedhi*twoToTheXMinus24[bits])}else{h=this$static.seedhi*(1<<bits-24);l=Math.floor(this$static.seedlo*twoToTheXMinus48[bits]);dval=h+l;dval>=2147483648&&(dval-=4294967296);return dval}}
function Random_0(){$clinit_13();var hi,lo,seed;seed=uniqueSeed+++(new Date()).getTime();hi=round_int(Math.floor(seed*5.9604644775390625E-8))&16777215;lo=~~Math.max(Math.min(seed-hi*16777216,2147483647),-2147483648);this.seedhi=hi^1502;this.seedlo=lo^15525485;this.haveNextNextGaussian=false}
function Random(){}
_=Random_0.prototype=Random.prototype=new Object_0();_.getClass$=function(){return Ljava_util_Random_2_classLit};_.castableTypeMap$={};_.haveNextNextGaussian=false;_.nextNextGaussian=0;_.seedhi=0;_.seedlo=0;var twoToTheXMinus24,twoToTheXMinus48,uniqueSeed=0;function Vector(){}
_=Vector.prototype=new AbstractList();_.add=function(o){return $add(this.arrayList,o)};_.add_0=function(index,o){$add_0(this.arrayList,index,o)};_.contains=function(elem){return $indexOf(this.arrayList,elem,0)!=-1};_.get_0=function(index){return $get_1(this.arrayList,index)};_.getClass$=function(){return Ljava_util_Vector_2_classLit};_.iterator=function(){return new AbstractList$IteratorImpl_0(this.arrayList)};_.size_0=function(){return this.arrayList.size};_.toString$=function(){return $toString_1(this.arrayList)};_.castableTypeMap$={12:1,53:1};_.arrayList=null;function $pop(this$static){var sz;sz=this$static.arrayList.size;if(sz>0){return $remove(this$static.arrayList,sz-1)}else{throw new EmptyStackException_0()}}
function $push(this$static,o){$add(this$static.arrayList,o);return o}
function Stack_0(){this.arrayList=new ArrayList_0()}
function Stack(){}
_=Stack_0.prototype=Stack.prototype=new Vector();_.getClass$=function(){return Ljava_util_Stack_2_classLit};_.castableTypeMap$={12:1,53:1};function equalsWithNullCheck(a_0,b){return (a_0==null?null:a_0)===(b==null?null:b)||a_0!=null&&equals__devirtual$(a_0,b)}
function $shouldCollide(fixtureA,fixtureB){var collide,filterA,filterB;filterA=fixtureA.m_filter;filterB=fixtureB.m_filter;if(filterA.groupIndex==filterB.groupIndex&&filterA.groupIndex!=0){return filterA.groupIndex>0}collide=(filterA.maskBits&filterB.categoryBits)!=0&&(filterA.categoryBits&filterB.maskBits)!=0;return collide}
function ContactFilter_0(){}
function ContactFilter(){}
_=ContactFilter_0.prototype=ContactFilter.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_callbacks_ContactFilter_2_classLit};_.castableTypeMap$={};function ContactImpulse_0(){this.normalImpulses=initDim(_3F_classLit,{12:1},-1,($clinit_19(),2),1);this.tangentImpulses=initDim(_3F_classLit,{12:1},-1,2,1)}
function ContactImpulse(){}
_=ContactImpulse_0.prototype=ContactImpulse.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_callbacks_ContactImpulse_2_classLit};_.castableTypeMap$={};function $combine(this$static,aabb1,aab){this$static.lowerBound.x=aabb1.lowerBound.x<aab.lowerBound.x?aabb1.lowerBound.x:aab.lowerBound.x;this$static.lowerBound.y=aabb1.lowerBound.y<aab.lowerBound.y?aabb1.lowerBound.y:aab.lowerBound.y;this$static.upperBound.x=aabb1.upperBound.x>aab.upperBound.x?aabb1.upperBound.x:aab.upperBound.x;this$static.upperBound.y=aabb1.upperBound.y>aab.upperBound.y?aabb1.upperBound.y:aab.upperBound.y}
function $contains(this$static,aabb){return this$static.lowerBound.x>aabb.lowerBound.x&&this$static.lowerBound.y>aabb.lowerBound.y&&aabb.upperBound.x>this$static.upperBound.x&&aabb.upperBound.y>this$static.upperBound.y}
function $getCenterToOut(this$static,out){out.x=(this$static.lowerBound.x+this$static.upperBound.x)*0.5;out.y=(this$static.lowerBound.y+this$static.upperBound.y)*0.5}
function $set(this$static,aabb){$set_12(this$static.lowerBound,aabb.lowerBound);$set_12(this$static.upperBound,aabb.upperBound)}
function AABB_0(){this.lowerBound=new Vec2_0();this.upperBound=new Vec2_0()}
function testOverlap(a_0,b){if(b.lowerBound.x-a_0.upperBound.x>0||b.lowerBound.y-a_0.upperBound.y>0){return false}if(a_0.lowerBound.x-b.upperBound.x>0||a_0.lowerBound.y-b.upperBound.y>0){return false}return true}
function AABB(){}
_=AABB_0.prototype=AABB.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_AABB_2_classLit};_.toString$=function(){var s;s='AABB['+this.lowerBound+' . '+this.upperBound+']';return s};_.castableTypeMap$={17:1};_.lowerBound=null;_.upperBound=null;function $collideCircles(this$static,manifold,circle1,xfA,circle2,xfB){var distSqr,radius;manifold.pointCount=0;mulToOut_0(xfA,circle1.m_p,this$static.pA);mulToOut_0(xfB,circle2.m_p,this$static.pB);$subLocal($set_12(this$static.d,this$static.pB),this$static.pA);distSqr=dot_0(this$static.d,this$static.d);radius=circle1.m_radius+circle2.m_radius;if(distSqr>radius*radius){return}manifold.type=($clinit_14(),CIRCLES);$set_12(manifold.localPoint,circle1.m_p);$setZero(manifold.localNormal);manifold.pointCount=1;$set_12(manifold.points[0].localPoint,circle2.m_p);$zero(manifold.points[0].id)}
function $collidePolygonAndCircle(this$static,manifold,polygon,xfA,circle,xfB){var i,normalIndex,normals,radius,s,separation,u1,u2,v1,v2,vertIndex2,vertexCount,vertices;manifold.pointCount=0;mulToOut_0(xfB,circle.m_p,this$static.c);mulTransToOut_0(xfA,this$static.c,this$static.cLocal);normalIndex=0;separation=1.401298464324817E-45;radius=polygon.m_radius+circle.m_radius;vertexCount=polygon.m_vertexCount;vertices=polygon.m_vertices;normals=polygon.m_normals;for(i=0;i<vertexCount;++i){$subLocal($set_12(this$static.temp,this$static.cLocal),vertices[i]);s=dot_0(normals[i],this$static.temp);if(s>radius){return}if(s>separation){separation=s;normalIndex=i}}vertIndex2=normalIndex+1<vertexCount?normalIndex+1:0;v1=vertices[normalIndex];v2=vertices[vertIndex2];if(separation<1.1920928955078125E-7){manifold.pointCount=1;manifold.type=($clinit_14(),FACE_A);$set_12(manifold.localNormal,normals[normalIndex]);$mulLocal($addLocal($set_12(manifold.localPoint,v1),v2),0.5);$set_12(manifold.points[0].localPoint,circle.m_p);$zero(manifold.points[0].id);return}$subLocal($set_12(this$static.temp,this$static.cLocal),v1);$subLocal($set_12(this$static.temp2,v2),v1);u1=dot_0(this$static.temp,this$static.temp2);$subLocal($set_12(this$static.temp,this$static.cLocal),v2);$subLocal($set_12(this$static.temp2,v1),v2);u2=dot_0(this$static.temp,this$static.temp2);if(u1<=0){if(distanceSquared(this$static.cLocal,v1)>radius*radius){return}manifold.pointCount=1;manifold.type=($clinit_14(),FACE_A);$subLocal($set_12(manifold.localNormal,this$static.cLocal),v1);$normalize_0(manifold.localNormal);$set_12(manifold.localPoint,v1);$set_12(manifold.points[0].localPoint,circle.m_p);$zero(manifold.points[0].id)}else if(u2<=0){if(distanceSquared(this$static.cLocal,v2)>radius*radius){return}manifold.pointCount=1;manifold.type=($clinit_14(),FACE_A);$subLocal($set_12(manifold.localNormal,this$static.cLocal),v2);$normalize_0(manifold.localNormal);$set_12(manifold.localPoint,v2);$set_12(manifold.points[0].localPoint,circle.m_p);$zero(manifold.points[0].id)}else{$mulLocal($addLocal($set_12(this$static.temp,v1),v2),0.5);$subLocal($set_12(this$static.temp2,this$static.cLocal),this$static.temp);separation=dot_0(this$static.temp2,normals[normalIndex]);if(separation>radius){return}manifold.pointCount=1;manifold.type=($clinit_14(),FACE_A);$set_12(manifold.localNormal,normals[normalIndex]);$set_12(manifold.localPoint,this$static.temp);$set_12(manifold.points[0].localPoint,circle.m_p);$zero(manifold.points[0].id)}}
function $collidePolygons(this$static,manifold,polyA,xfA,polyB,xfB){var count1,cp,edge1,flip,frontOffset,i,np,pointCount,poly1,poly2,separation,sideOffset1,sideOffset2,totalRadius,vertices1,xf1,xf2;manifold.pointCount=0;totalRadius=polyA.m_radius+polyB.m_radius;$findMaxSeparation(this$static,this$static.results1,polyA,xfA,polyB,xfB);if(this$static.results1.separation>totalRadius){return}$findMaxSeparation(this$static,this$static.results2,polyB,xfB,polyA,xfA);if(this$static.results2.separation>totalRadius){return}if(this$static.results2.separation>0.9800000190734863*this$static.results1.separation+0.0010000000474974513){poly1=polyB;poly2=polyA;xf1=xfB;xf2=xfA;edge1=this$static.results2.edgeIndex;manifold.type=($clinit_14(),FACE_B);flip=1}else{poly1=polyA;poly2=polyB;xf1=xfA;xf2=xfB;edge1=this$static.results1.edgeIndex;manifold.type=($clinit_14(),FACE_A);flip=0}$findIncidentEdge(this$static,this$static.incidentEdge,poly1,xf1,edge1,poly2,xf2);count1=poly1.m_vertexCount;vertices1=poly1.m_vertices;$set_12(this$static.v11,vertices1[edge1]);$set_12(this$static.v12,edge1+1<count1?vertices1[edge1+1]:vertices1[0]);$subLocal($set_12(this$static.localTangent,this$static.v12),this$static.v11);$normalize_0(this$static.localTangent);crossToOut(this$static.localTangent,1,this$static.localNormal);$mulLocal($addLocal($set_12(this$static.planePoint,this$static.v11),this$static.v12),0.5);mulToOut(xf1.R,this$static.localTangent,this$static.tangent);crossToOut(this$static.tangent,1,this$static.normal);mulToOut_0(xf1,this$static.v11,this$static.v11);mulToOut_0(xf1,this$static.v12,this$static.v12);frontOffset=dot_0(this$static.normal,this$static.v11);sideOffset1=-dot_0(this$static.tangent,this$static.v11)+totalRadius;sideOffset2=dot_0(this$static.tangent,this$static.v12)+totalRadius;$negateLocal(this$static.tangent);np=clipSegmentToLine(this$static.clipPoints1,this$static.incidentEdge,this$static.tangent,sideOffset1);$negateLocal(this$static.tangent);if(np<2){return}np=clipSegmentToLine(this$static.clipPoints2,this$static.clipPoints1,this$static.tangent,sideOffset2);if(np<2){return}$set_12(manifold.localNormal,this$static.localNormal);$set_12(manifold.localPoint,this$static.planePoint);pointCount=0;for(i=0;i<($clinit_19(),2);++i){separation=dot_0(this$static.normal,this$static.clipPoints2[i].v)-frontOffset;if(separation<=totalRadius){cp=manifold.points[pointCount];mulTransToOut_0(xf2,this$static.clipPoints2[i].v,cp.localPoint);$set_1(cp.id.features,this$static.clipPoints2[i].id.features);cp.id.features.flip=flip;++pointCount}}manifold.pointCount=pointCount}
function $edgeSeparation(this$static,poly1,xf1,edge1,poly2,xf2){var count2,dot,i,index,minDot,normals1,separation,vertices1,vertices2;vertices1=poly1.m_vertices;normals1=poly1.m_normals;count2=poly2.m_vertexCount;vertices2=poly2.m_vertices;mulToOut(xf1.R,normals1[edge1],this$static.normal1World);mulTransToOut(xf2.R,this$static.normal1World,this$static.normal1);index=0;minDot=3.4028234663852886E38;for(i=0;i<count2;++i){dot=dot_0(vertices2[i],this$static.normal1);if(dot<minDot){minDot=dot;index=i}}mulToOut_0(xf1,vertices1[edge1],this$static.v1);mulToOut_0(xf2,vertices2[index],this$static.v2);separation=dot_0($subLocal(this$static.v2,this$static.v1),this$static.normal1World);return separation}
function $findIncidentEdge(this$static,c,poly1,xf1,edge1,poly2,xf2){var count2,dot,i,i2,index,minDot,normals1,normals2,vertices2;normals1=poly1.m_normals;count2=poly2.m_vertexCount;vertices2=poly2.m_vertices;normals2=poly2.m_normals;mulToOut(xf1.R,normals1[edge1],this$static.normal1);mulTransToOut(xf2.R,this$static.normal1,this$static.normal1);index=0;minDot=3.4028234663852886E38;for(i=0;i<count2;++i){dot=dot_0(this$static.normal1,normals2[i]);if(dot<minDot){minDot=dot;index=i}}i2=index+1<count2?index+1:0;mulToOut_0(xf2,vertices2[index],c[0].v);c[0].id.features.referenceEdge=edge1;c[0].id.features.incidentEdge=index;c[0].id.features.incidentVertex=0;mulToOut_0(xf2,vertices2[i2],c[1].v);c[1].id.features.referenceEdge=edge1;c[1].id.features.incidentEdge=i2;c[1].id.features.incidentVertex=1}
function $findMaxSeparation(this$static,results,poly1,xf1,poly2,xf2){var bestEdge,bestSeparation,count1,dot,edge,i,increment,maxDot,nextEdge,normals1,prevEdge,s,sNext,sPrev;count1=poly1.m_vertexCount;normals1=poly1.m_normals;mulToOut_0(xf2,poly2.m_centroid,this$static.d);mulToOut_0(xf1,poly1.m_centroid,this$static.temp);$subLocal(this$static.d,this$static.temp);mulTransToOut(xf1.R,this$static.d,this$static.dLocal1);edge=0;maxDot=1.401298464324817E-45;for(i=0;i<count1;++i){dot=dot_0(normals1[i],this$static.dLocal1);if(dot>maxDot){maxDot=dot;edge=i}}s=$edgeSeparation(this$static,poly1,xf1,edge,poly2,xf2);prevEdge=edge-1>=0?edge-1:count1-1;sPrev=$edgeSeparation(this$static,poly1,xf1,prevEdge,poly2,xf2);nextEdge=edge+1<count1?edge+1:0;sNext=$edgeSeparation(this$static,poly1,xf1,nextEdge,poly2,xf2);if(sPrev>s&&sPrev>sNext){increment=-1;bestEdge=prevEdge;bestSeparation=sPrev}else if(sNext>s){increment=1;bestEdge=nextEdge;bestSeparation=sNext}else{results.edgeIndex=edge;results.separation=s;return}for(;;){increment==-1?(edge=bestEdge-1>=0?bestEdge-1:count1-1):(edge=bestEdge+1<count1?bestEdge+1:0);s=$edgeSeparation(this$static,poly1,xf1,edge,poly2,xf2);if(s>bestSeparation){bestEdge=edge;bestSeparation=s}else{break}}results.edgeIndex=bestEdge;results.separation=bestSeparation}
function $testOverlap(this$static,shapeA,shapeB,xfA,xfB){$set_2(this$static.input.proxyA,shapeA);$set_2(this$static.input.proxyB,shapeB);$set_9(this$static.input.transformA,xfA);$set_9(this$static.input.transformB,xfB);this$static.input.useRadii=true;this$static.cache.count=0;$distance(this$static.pool.dist,this$static.output,this$static.cache,this$static.input);return this$static.output.distance<1.1920928955078125E-6}
function Collision_0(argPool){this.input=new DistanceInput_0();this.cache=new Distance$SimplexCache_0();this.output=new DistanceOutput_0();this.d=new Vec2_0();this.pA=new Vec2_0();this.pB=new Vec2_0();this.c=new Vec2_0();this.cLocal=new Vec2_0();this.temp=new Vec2_0();this.temp2=new Vec2_0();this.normal1World=new Vec2_0();this.normal1=new Vec2_0();this.v1=new Vec2_0();this.v2=new Vec2_0();this.dLocal1=new Vec2_0();this.results1=new Collision$EdgeResults_0();this.results2=new Collision$EdgeResults_0();this.incidentEdge=initDim(_3Lorg_jbox2d_collision_Collision$ClipVertex_2_classLit,{12:1,45:1},18,2,0);this.localTangent=new Vec2_0();this.localNormal=new Vec2_0();this.planePoint=new Vec2_0();this.tangent=new Vec2_0();this.normal=new Vec2_0();this.v11=new Vec2_0();this.v12=new Vec2_0();this.clipPoints1=initDim(_3Lorg_jbox2d_collision_Collision$ClipVertex_2_classLit,{12:1,45:1},18,2,0);this.clipPoints2=initDim(_3Lorg_jbox2d_collision_Collision$ClipVertex_2_classLit,{12:1,45:1},18,2,0);this.incidentEdge[0]=new Collision$ClipVertex_0();this.incidentEdge[1]=new Collision$ClipVertex_0();this.clipPoints1[0]=new Collision$ClipVertex_0();this.clipPoints1[1]=new Collision$ClipVertex_0();this.clipPoints2[0]=new Collision$ClipVertex_0();this.clipPoints2[1]=new Collision$ClipVertex_0();this.pool=argPool}
function clipSegmentToLine(vOut,vIn,normal,offset){var distance0,distance1,interp,numOut;numOut=0;distance0=dot_0(normal,vIn[0].v)-offset;distance1=dot_0(normal,vIn[1].v)-offset;distance0<=0&&$set_0(vOut[numOut++],vIn[0]);distance1<=0&&$set_0(vOut[numOut++],vIn[1]);if(distance0*distance1<0){interp=distance0/(distance0-distance1);$addLocal($mulLocal($subLocal($set_12(vOut[numOut].v,vIn[1].v),vIn[0].v),interp),vIn[0].v);distance0>0?($set_1(vOut[numOut].id.features,vIn[0].id.features),undefined):($set_1(vOut[numOut].id.features,vIn[1].id.features),undefined);++numOut}return numOut}
function Collision(){}
_=Collision_0.prototype=Collision.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_Collision_2_classLit};_.castableTypeMap$={};_.pool=null;function $set_0(this$static,cv){$set_12(this$static.v,cv.v);$set_1(this$static.id.features,cv.id.features)}
function Collision$ClipVertex_0(){this.v=new Vec2_0();this.id=new ContactID_0()}
function Collision$ClipVertex(){}
_=Collision$ClipVertex_0.prototype=Collision$ClipVertex.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_Collision$ClipVertex_2_classLit};_.castableTypeMap$={18:1};_.id=null;_.v=null;function Collision$EdgeResults_0(){}
function Collision$EdgeResults(){}
_=Collision$EdgeResults_0.prototype=Collision$EdgeResults.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_Collision$EdgeResults_2_classLit};_.castableTypeMap$={};_.edgeIndex=0;_.separation=0;function $isEqual(this$static,cid){return $isEqual_0(cid.features,this$static.features)}
function $zero(this$static){this$static.features.flip=0;this$static.features.incidentEdge=0;this$static.features.incidentVertex=0;this$static.features.referenceEdge=0}
function ContactID_0(){this.features=new ContactID$Features_0()}
function ContactID(){}
_=ContactID_0.prototype=ContactID.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_ContactID_2_classLit};_.castableTypeMap$={};_.features=null;function $isEqual_0(this$static,f){return this$static.referenceEdge==f.referenceEdge&&this$static.incidentEdge==f.incidentEdge&&this$static.incidentVertex==f.incidentVertex&&this$static.flip==f.flip}
function $set_1(this$static,f){this$static.referenceEdge=f.referenceEdge;this$static.incidentEdge=f.incidentEdge;this$static.incidentVertex=f.incidentVertex;this$static.flip=f.flip}
function ContactID$Features_0(){this.referenceEdge=this.incidentEdge=this.incidentVertex=this.flip=0}
function ContactID$Features(){}
_=ContactID$Features_0.prototype=ContactID$Features.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_ContactID$Features_2_classLit};_.toString$=function(){var s;s='Features: ('+this.flip+' ,'+this.incidentEdge+' ,'+this.incidentVertex+' ,'+this.referenceEdge+')';return s};_.castableTypeMap$={};_.flip=0;_.incidentEdge=0;_.incidentVertex=0;_.referenceEdge=0;function $distance(this$static,output,cache,input){var duplicate,i,iter,proxyA,proxyB,rA,rB,saveCount,transformA,transformB,vertex,vertices;++GJK_CALLS;proxyA=input.proxyA;proxyB=input.proxyB;transformA=input.transformA;transformB=input.transformB;$readCache(this$static.simplex,cache,proxyA,transformA,proxyB,transformB);vertices=this$static.simplex.vertices;$getClosestPoint(this$static.simplex,this$static.closestPoint);$lengthSquared(this$static.closestPoint);iter=0;while(iter<GJK_MAX_ITERS){saveCount=this$static.simplex.m_count;for(i=0;i<saveCount;++i){this$static.saveA[i]=vertices[i].indexA;this$static.saveB[i]=vertices[i].indexB}switch(this$static.simplex.m_count){case 2:$solve2(this$static.simplex);break;case 3:$solve3(this$static.simplex);}if(this$static.simplex.m_count==3){break}$getClosestPoint(this$static.simplex,this$static.closestPoint);$lengthSquared(this$static.closestPoint);$getSearchDirection(this$static.simplex,this$static.d);if($lengthSquared(this$static.d)<1.4210854715202004E-14){break}vertex=vertices[this$static.simplex.m_count];mulTransToOut(transformA.R,$negateLocal(this$static.d),this$static.temp);vertex.indexA=$getSupport(proxyA,this$static.temp);mulToOut_0(transformA,proxyA.m_vertices[vertex.indexA],vertex.wA);mulTransToOut(transformB.R,$negateLocal(this$static.d),this$static.temp);vertex.indexB=$getSupport(proxyB,this$static.temp);mulToOut_0(transformB,proxyB.m_vertices[vertex.indexB],vertex.wB);$subLocal($set_12(vertex.w,vertex.wB),vertex.wA);++iter;++GJK_ITERS;duplicate=false;for(i=0;i<saveCount;++i){if(vertex.indexA==this$static.saveA[i]&&vertex.indexB==this$static.saveB[i]){duplicate=true;break}}if(duplicate){break}++this$static.simplex.m_count}GJK_MAX_ITERS=max_2(GJK_MAX_ITERS,iter);$getWitnessPoints(this$static.simplex,output.pointA,output.pointB);output.distance=($clinit_18(),$clinit_18(),Math.sqrt(distanceSquared(output.pointA,output.pointB)));$writeCache(this$static.simplex,cache);if(input.useRadii){rA=proxyA.m_radius;rB=proxyB.m_radius;if(output.distance>rA+rB&&output.distance>1.1920928955078125E-7){output.distance-=rA+rB;$subLocal($set_12(this$static.normal,output.pointB),output.pointA);$normalize_0(this$static.normal);$mulLocal($set_12(this$static.temp,this$static.normal),rA);$addLocal(output.pointA,this$static.temp);$mulLocal($set_12(this$static.temp,this$static.normal),rB);$subLocal(output.pointB,this$static.temp)}else{$mulLocal($addLocal(output.pointA,output.pointB),0.5);$set_12(output.pointB,output.pointA);output.distance=0}}}
function Distance_0(){this.simplex=new Distance$Simplex_0();this.saveA=initDim(_3I_classLit,{12:1},-1,3,1);this.saveB=initDim(_3I_classLit,{12:1},-1,3,1);this.closestPoint=new Vec2_0();this.d=new Vec2_0();this.temp=new Vec2_0();this.normal=new Vec2_0()}
function Distance(){}
_=Distance_0.prototype=Distance.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_Distance_2_classLit};_.castableTypeMap$={};var GJK_CALLS=0,GJK_ITERS=0,GJK_MAX_ITERS=20;function $getSupport(this$static,d){var bestIndex,bestValue,i,value;bestIndex=0;bestValue=dot_0(this$static.m_vertices[0],d);for(i=1;i<this$static.m_count;++i){value=dot_0(this$static.m_vertices[i],d);if(value>bestValue){bestIndex=i;bestValue=value}}return bestIndex}
function $set_2(this$static,shape){var circle,i,poly;switch(shape.m_type.ordinal){case 1:circle=dynamicCast(shape,56);$set_12(this$static.m_vertices[0],circle.m_p);this$static.m_count=1;this$static.m_radius=circle.m_radius;break;case 2:poly=dynamicCast(shape,57);this$static.m_count=poly.m_vertexCount;this$static.m_radius=poly.m_radius;for(i=0;i<this$static.m_count;++i){$set_12(this$static.m_vertices[i],poly.m_vertices[i])}}}
function Distance$DistanceProxy_0(){var i;this.m_vertices=initDim(_3Lorg_jbox2d_common_Vec2_2_classLit,{12:1,45:1,61:1},28,($clinit_19(),8),0);for(i=0;i<this.m_vertices.length;++i){this.m_vertices[i]=new Vec2_0()}this.m_count=0;this.m_radius=0}
function Distance$DistanceProxy(){}
_=Distance$DistanceProxy_0.prototype=Distance$DistanceProxy.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_Distance$DistanceProxy_2_classLit};_.castableTypeMap$={};_.m_count=0;_.m_radius=0;_.m_vertices=null;function $getClosestPoint(this$static,out){switch(this$static.m_count){case 3:default:case 0:out.x=0;out.y=0;return;case 1:$set_12(out,this$static.m_v1.w);return;case 2:$mulLocal($set_12(this$static.case22,this$static.m_v2.w),this$static.m_v2.a_0);$addLocal($mulLocal($set_12(this$static.case2,this$static.m_v1.w),this$static.m_v1.a_0),this$static.case22);$set_12(out,this$static.case2);return;}}
function $getMetric(this$static){switch(this$static.m_count){case 1:default:case 0:return 0;case 2:return $clinit_18(),$clinit_18(),Math.sqrt(distanceSquared(this$static.m_v1.w,this$static.m_v2.w));case 3:$subLocal($set_12(this$static.case3,this$static.m_v2.w),this$static.m_v1.w);$subLocal($set_12(this$static.case33,this$static.m_v3.w),this$static.m_v1.w);return cross(this$static.case3,this$static.case33);}}
function $getSearchDirection(this$static,out){var sgn;switch(this$static.m_count){case 1:$negateLocal($set_12(out,this$static.m_v1.w));return;case 2:$subLocal($set_12(this$static.e12,this$static.m_v2.w),this$static.m_v1.w);$negateLocal($set_12(out,this$static.m_v1.w));sgn=cross(this$static.e12,out);if(sgn>0){crossToOut_0(1,this$static.e12,out);return}else{crossToOut(this$static.e12,1,out);return}default:out.x=0;out.y=0;return;}}
function $getWitnessPoints(this$static,pA,pB){switch(this$static.m_count){case 1:$set_12(pA,this$static.m_v1.wA);$set_12(pB,this$static.m_v1.wB);break;case 2:$mulLocal($set_12(this$static.case2,this$static.m_v1.wA),this$static.m_v1.a_0);$addLocal($mulLocal($set_12(pA,this$static.m_v2.wA),this$static.m_v2.a_0),this$static.case2);$mulLocal($set_12(this$static.case2,this$static.m_v1.wB),this$static.m_v1.a_0);$addLocal($mulLocal($set_12(pB,this$static.m_v2.wB),this$static.m_v2.a_0),this$static.case2);break;case 3:$mulLocal($set_12(pA,this$static.m_v1.wA),this$static.m_v1.a_0);$mulLocal($set_12(this$static.case3,this$static.m_v2.wA),this$static.m_v2.a_0);$mulLocal($set_12(this$static.case33,this$static.m_v3.wA),this$static.m_v3.a_0);$addLocal($addLocal(pA,this$static.case3),this$static.case33);pB.x=pA.x;pB.y=pA.y;}}
function $readCache(this$static,cache,proxyA,transformA,proxyB,transformB){var i,metric1,metric2,v,wALocal,wBLocal;this$static.m_count=cache.count;for(i=0;i<this$static.m_count;++i){v=this$static.vertices[i];v.indexA=cache.indexA[i];v.indexB=cache.indexB[i];wALocal=proxyA.m_vertices[v.indexA];wBLocal=proxyB.m_vertices[v.indexB];mulToOut_0(transformA,wALocal,v.wA);mulToOut_0(transformB,wBLocal,v.wB);$subLocal($set_12(v.w,v.wB),v.wA);v.a_0=0}if(this$static.m_count>1){metric1=cache.metric;metric2=$getMetric(this$static);(metric2<0.5*metric1||2*metric1<metric2||metric2<1.1920928955078125E-7)&&(this$static.m_count=0)}if(this$static.m_count==0){v=this$static.vertices[0];v.indexA=0;v.indexB=0;wALocal=proxyA.m_vertices[0];wBLocal=proxyB.m_vertices[0];mulToOut_0(transformA,wALocal,v.wA);mulToOut_0(transformB,wBLocal,v.wB);$subLocal($set_12(v.w,v.wB),v.wA);this$static.m_count=1}}
function $solve2(this$static){var d12_1,d12_2,inv_d12,w1,w2;w1=this$static.m_v1.w;w2=this$static.m_v2.w;$subLocal($set_12(this$static.e12,w2),w1);d12_2=-dot_0(w1,this$static.e12);if(d12_2<=0){this$static.m_v1.a_0=1;this$static.m_count=1;return}d12_1=dot_0(w2,this$static.e12);if(d12_1<=0){this$static.m_v2.a_0=1;this$static.m_count=1;$set_3(this$static.m_v1,this$static.m_v2);return}inv_d12=1/(d12_1+d12_2);this$static.m_v1.a_0=d12_1*inv_d12;this$static.m_v2.a_0=d12_2*inv_d12;this$static.m_count=2}
function $solve3(this$static){var d123_1,d123_2,d123_3,d12_2,d13_2,d23_2,inv_d12,inv_d123,inv_d13,inv_d23,n123,w1e12,w1e13,w2e12,w2e23,w3e13,w3e23;$set_12(this$static.w1,this$static.m_v1.w);$set_12(this$static.w2,this$static.m_v2.w);$set_12(this$static.w3,this$static.m_v3.w);$subLocal($set_12(this$static.e12,this$static.w2),this$static.w1);w1e12=dot_0(this$static.w1,this$static.e12);w2e12=dot_0(this$static.w2,this$static.e12);d12_2=-w1e12;$subLocal($set_12(this$static.e13,this$static.w3),this$static.w1);w1e13=dot_0(this$static.w1,this$static.e13);w3e13=dot_0(this$static.w3,this$static.e13);d13_2=-w1e13;$subLocal($set_12(this$static.e23,this$static.w3),this$static.w2);w2e23=dot_0(this$static.w2,this$static.e23);w3e23=dot_0(this$static.w3,this$static.e23);d23_2=-w2e23;n123=cross(this$static.e12,this$static.e13);d123_1=n123*cross(this$static.w2,this$static.w3);d123_2=n123*cross(this$static.w3,this$static.w1);d123_3=n123*cross(this$static.w1,this$static.w2);if(d12_2<=0&&d13_2<=0){this$static.m_v1.a_0=1;this$static.m_count=1;return}if(w2e12>0&&d12_2>0&&d123_3<=0){inv_d12=1/(w2e12+d12_2);this$static.m_v1.a_0=w2e12*inv_d12;this$static.m_v2.a_0=d12_2*inv_d12;this$static.m_count=2;return}if(w3e13>0&&d13_2>0&&d123_2<=0){inv_d13=1/(w3e13+d13_2);this$static.m_v1.a_0=w3e13*inv_d13;this$static.m_v3.a_0=d13_2*inv_d13;this$static.m_count=2;$set_3(this$static.m_v2,this$static.m_v3);return}if(w2e12<=0&&d23_2<=0){this$static.m_v2.a_0=1;this$static.m_count=1;$set_3(this$static.m_v1,this$static.m_v2);return}if(w3e13<=0&&w3e23<=0){this$static.m_v3.a_0=1;this$static.m_count=1;$set_3(this$static.m_v1,this$static.m_v3);return}if(w3e23>0&&d23_2>0&&d123_1<=0){inv_d23=1/(w3e23+d23_2);this$static.m_v2.a_0=w3e23*inv_d23;this$static.m_v3.a_0=d23_2*inv_d23;this$static.m_count=2;$set_3(this$static.m_v1,this$static.m_v3);return}inv_d123=1/(d123_1+d123_2+d123_3);this$static.m_v1.a_0=d123_1*inv_d123;this$static.m_v2.a_0=d123_2*inv_d123;this$static.m_v3.a_0=d123_3*inv_d123;this$static.m_count=3}
function $writeCache(this$static,cache){var i;cache.metric=$getMetric(this$static);cache.count=this$static.m_count;for(i=0;i<this$static.m_count;++i){cache.indexA[i]=this$static.vertices[i].indexA;cache.indexB[i]=this$static.vertices[i].indexB}}
function Distance$Simplex_0(){this.m_v1=new Distance$SimplexVertex_0();this.m_v2=new Distance$SimplexVertex_0();this.m_v3=new Distance$SimplexVertex_0();this.vertices=initValues(_3Lorg_jbox2d_collision_Distance$SimplexVertex_2_classLit,{12:1,45:1},19,[this.m_v1,this.m_v2,this.m_v3]);this.e12=new Vec2_0();this.case2=new Vec2_0();this.case22=new Vec2_0();this.case3=new Vec2_0();this.case33=new Vec2_0();this.e13=new Vec2_0();this.e23=new Vec2_0();this.w1=new Vec2_0();this.w2=new Vec2_0();this.w3=new Vec2_0()}
function Distance$Simplex(){}
_=Distance$Simplex_0.prototype=Distance$Simplex.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_Distance$Simplex_2_classLit};_.castableTypeMap$={};_.m_count=0;function Distance$SimplexCache_0(){this.indexA=initDim(_3I_classLit,{12:1},-1,3,1);this.indexB=initDim(_3I_classLit,{12:1},-1,3,1);this.metric=0;this.count=0;this.indexA[0]=2147483647;this.indexA[1]=2147483647;this.indexA[2]=2147483647;this.indexB[0]=2147483647;this.indexB[1]=2147483647;this.indexB[2]=2147483647}
function Distance$SimplexCache(){}
_=Distance$SimplexCache_0.prototype=Distance$SimplexCache.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_Distance$SimplexCache_2_classLit};_.castableTypeMap$={};_.count=0;_.metric=0;function $set_3(this$static,sv){$set_12(this$static.wA,sv.wA);$set_12(this$static.wB,sv.wB);$set_12(this$static.w,sv.w);this$static.a_0=sv.a_0;this$static.indexA=sv.indexA;this$static.indexB=sv.indexB}
function Distance$SimplexVertex_0(){this.wA=new Vec2_0();this.wB=new Vec2_0();this.w=new Vec2_0()}
function Distance$SimplexVertex(){}
_=Distance$SimplexVertex_0.prototype=Distance$SimplexVertex.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_Distance$SimplexVertex_2_classLit};_.castableTypeMap$={19:1};_.a_0=0;_.indexA=0;_.indexB=0;function DistanceInput_0(){this.proxyA=new Distance$DistanceProxy_0();this.proxyB=new Distance$DistanceProxy_0();this.transformA=new Transform_0();this.transformB=new Transform_0()}
function DistanceInput(){}
_=DistanceInput_0.prototype=DistanceInput.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_DistanceInput_2_classLit};_.castableTypeMap$={};_.useRadii=false;function DistanceOutput_0(){this.pointA=new Vec2_0();this.pointB=new Vec2_0()}
function DistanceOutput(){}
_=DistanceOutput_0.prototype=DistanceOutput.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_DistanceOutput_2_classLit};_.castableTypeMap$={};_.distance=0;function $set_4(this$static,cp){var i;for(i=0;i<cp.pointCount;++i){$set_5(this$static.points[i],cp.points[i])}this$static.type=cp.type;$set_12(this$static.localNormal,cp.localNormal);$set_12(this$static.localPoint,cp.localPoint);this$static.pointCount=cp.pointCount}
function Manifold_0(){var i;this.points=initDim(_3Lorg_jbox2d_collision_ManifoldPoint_2_classLit,{12:1,45:1},21,($clinit_19(),2),0);for(i=0;i<2;++i){this.points[i]=new ManifoldPoint_0()}this.localNormal=new Vec2_0();this.localPoint=new Vec2_0();this.pointCount=0}
function Manifold(){}
_=Manifold_0.prototype=Manifold.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_Manifold_2_classLit};_.castableTypeMap$={};_.localNormal=null;_.localPoint=null;_.pointCount=0;_.points=null;_.type=null;function $clinit_14(){$clinit_14=nullMethod;CIRCLES=new Manifold$ManifoldType_0('CIRCLES',0);FACE_A=new Manifold$ManifoldType_0('FACE_A',1);FACE_B=new Manifold$ManifoldType_0('FACE_B',2);$VALUES_1=initValues(_3Lorg_jbox2d_collision_Manifold$ManifoldType_2_classLit,{12:1,45:1},20,[CIRCLES,FACE_A,FACE_B])}
function Manifold$ManifoldType_0(enum$name,enum$ordinal){this.name_0=enum$name;this.ordinal=enum$ordinal}
function values_1(){$clinit_14();return $VALUES_1}
function Manifold$ManifoldType(){}
_=Manifold$ManifoldType_0.prototype=Manifold$ManifoldType.prototype=new Enum();_.getClass$=function(){return Lorg_jbox2d_collision_Manifold$ManifoldType_2_classLit};_.castableTypeMap$={12:1,14:1,15:1,20:1};var $VALUES_1,CIRCLES,FACE_A,FACE_B;function $set_5(this$static,cp){$set_12(this$static.localPoint,cp.localPoint);this$static.normalImpulse=cp.normalImpulse;this$static.tangentImpulse=cp.tangentImpulse;$set_1(this$static.id.features,cp.id.features)}
function ManifoldPoint_0(){this.localPoint=new Vec2_0();this.normalImpulse=this.tangentImpulse=0;this.id=new ContactID_0()}
function ManifoldPoint(){}
_=ManifoldPoint_0.prototype=ManifoldPoint.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_ManifoldPoint_2_classLit};_.castableTypeMap$={21:1};_.id=null;_.localPoint=null;_.normalImpulse=0;_.tangentImpulse=0;function RayCastInput_0(){new Vec2_0();new Vec2_0()}
function RayCastInput(){}
_=RayCastInput_0.prototype=RayCastInput.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_RayCastInput_2_classLit};_.castableTypeMap$={};function RayCastOutput_0(){new Vec2_0()}
function RayCastOutput(){}
_=RayCastOutput_0.prototype=RayCastOutput.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_RayCastOutput_2_classLit};_.castableTypeMap$={};function $evaluate(this$static,indexA,indexB,t){var separation;$getTransform(this$static.m_sweepA,this$static.xfa,t);$getTransform(this$static.m_sweepB,this$static.xfb,t);switch(this$static.m_type.ordinal){case 0:{mulTransToOut(this$static.xfa.R,this$static.m_axis,this$static.axisA);mulTransToOut(this$static.xfb.R,$negateLocal(this$static.m_axis),this$static.axisB);$negateLocal(this$static.m_axis);$set_12(this$static.localPointA,this$static.m_proxyA.m_vertices[indexA]);$set_12(this$static.localPointB,this$static.m_proxyB.m_vertices[indexB]);mulToOut_0(this$static.xfa,this$static.localPointA,this$static.pointA);mulToOut_0(this$static.xfb,this$static.localPointB,this$static.pointB);separation=dot_0($subLocal(this$static.pointB,this$static.pointA),this$static.m_axis);return separation}case 1:{mulToOut(this$static.xfa.R,this$static.m_axis,this$static.normal);mulToOut_0(this$static.xfa,this$static.m_localPoint,this$static.pointA);mulTransToOut(this$static.xfb.R,$negateLocal(this$static.normal),this$static.axisB);$negateLocal(this$static.normal);$set_12(this$static.localPointB,this$static.m_proxyB.m_vertices[indexB]);mulToOut_0(this$static.xfb,this$static.localPointB,this$static.pointB);separation=dot_0($subLocal(this$static.pointB,this$static.pointA),this$static.normal);return separation}case 2:{mulToOut(this$static.xfb.R,this$static.m_axis,this$static.normal);mulToOut_0(this$static.xfb,this$static.m_localPoint,this$static.pointB);mulTransToOut(this$static.xfa.R,$negateLocal(this$static.normal),this$static.axisA);$negateLocal(this$static.normal);$set_12(this$static.localPointA,this$static.m_proxyA.m_vertices[indexA]);mulToOut_0(this$static.xfa,this$static.localPointA,this$static.pointA);separation=dot_0($subLocal(this$static.pointA,this$static.pointB),this$static.normal);return separation}default:return 0;}}
function $findMinSeparation(this$static,indexes,t){var separation;$getTransform(this$static.m_sweepA,this$static.xfa,t);$getTransform(this$static.m_sweepB,this$static.xfb,t);switch(this$static.m_type.ordinal){case 0:{mulTransToOut(this$static.xfa.R,this$static.m_axis,this$static.axisA);mulTransToOut(this$static.xfb.R,$negateLocal(this$static.m_axis),this$static.axisB);$negateLocal(this$static.m_axis);indexes[0]=$getSupport(this$static.m_proxyA,this$static.axisA);indexes[1]=$getSupport(this$static.m_proxyB,this$static.axisB);$set_12(this$static.localPointA,this$static.m_proxyA.m_vertices[indexes[0]]);$set_12(this$static.localPointB,this$static.m_proxyB.m_vertices[indexes[1]]);mulToOut_0(this$static.xfa,this$static.localPointA,this$static.pointA);mulToOut_0(this$static.xfb,this$static.localPointB,this$static.pointB);separation=dot_0($subLocal(this$static.pointB,this$static.pointA),this$static.m_axis);return separation}case 1:{mulToOut(this$static.xfa.R,this$static.m_axis,this$static.normal);mulToOut_0(this$static.xfa,this$static.m_localPoint,this$static.pointA);mulTransToOut(this$static.xfb.R,$negateLocal(this$static.normal),this$static.axisB);$negateLocal(this$static.normal);indexes[0]=-1;indexes[1]=$getSupport(this$static.m_proxyB,this$static.axisB);$set_12(this$static.localPointB,this$static.m_proxyB.m_vertices[indexes[1]]);mulToOut_0(this$static.xfb,this$static.localPointB,this$static.pointB);separation=dot_0($subLocal(this$static.pointB,this$static.pointA),this$static.normal);return separation}case 2:{mulToOut(this$static.xfb.R,this$static.m_axis,this$static.normal);mulToOut_0(this$static.xfb,this$static.m_localPoint,this$static.pointB);mulTransToOut(this$static.xfa.R,$negateLocal(this$static.normal),this$static.axisA);$negateLocal(this$static.normal);indexes[1]=-1;indexes[0]=$getSupport(this$static.m_proxyA,this$static.axisA);$set_12(this$static.localPointA,this$static.m_proxyA.m_vertices[indexes[0]]);mulToOut_0(this$static.xfa,this$static.localPointA,this$static.pointA);separation=dot_0($subLocal(this$static.pointA,this$static.pointB),this$static.normal);return separation}default:indexes[0]=-1;indexes[1]=-1;return 0;}}
function $initialize(this$static,cache,proxyA,sweepA,proxyB,sweepB,t1){var count,s;this$static.m_proxyA=proxyA;this$static.m_proxyB=proxyB;count=cache.count;this$static.m_sweepA=sweepA;this$static.m_sweepB=sweepB;$getTransform(this$static.m_sweepA,this$static.xfa,t1);$getTransform(this$static.m_sweepB,this$static.xfb,t1);if(count==1){this$static.m_type=($clinit_16(),POINTS);$set_12(this$static.localPointA,this$static.m_proxyA.m_vertices[cache.indexA[0]]);$set_12(this$static.localPointB,this$static.m_proxyB.m_vertices[cache.indexB[0]]);mulToOut_0(this$static.xfa,this$static.localPointA,this$static.pointA);mulToOut_0(this$static.xfb,this$static.localPointB,this$static.pointB);$subLocal($set_12(this$static.m_axis,this$static.pointB),this$static.pointA);s=$normalize_0(this$static.m_axis);return s}else if(cache.indexA[0]==cache.indexA[1]){this$static.m_type=($clinit_16(),FACE_B_0);$set_12(this$static.localPointB1,this$static.m_proxyB.m_vertices[cache.indexB[0]]);$set_12(this$static.localPointB2,this$static.m_proxyB.m_vertices[cache.indexB[1]]);$subLocal($set_12(this$static.temp,this$static.localPointB2),this$static.localPointB1);crossToOut(this$static.temp,1,this$static.m_axis);$normalize_0(this$static.m_axis);mulToOut(this$static.xfb.R,this$static.m_axis,this$static.normal);$mulLocal($addLocal($set_12(this$static.m_localPoint,this$static.localPointB1),this$static.localPointB2),0.5);mulToOut_0(this$static.xfb,this$static.m_localPoint,this$static.pointB);$set_12(this$static.localPointA,proxyA.m_vertices[cache.indexA[0]]);mulToOut_0(this$static.xfa,this$static.localPointA,this$static.pointA);$subLocal($set_12(this$static.temp,this$static.pointA),this$static.pointB);s=dot_0(this$static.temp,this$static.normal);if(s<0){$negateLocal(this$static.m_axis);s=-s}return s}else{this$static.m_type=($clinit_16(),FACE_A_0);$set_12(this$static.localPointA1,this$static.m_proxyA.m_vertices[cache.indexA[0]]);$set_12(this$static.localPointA2,this$static.m_proxyA.m_vertices[cache.indexA[1]]);$subLocal($set_12(this$static.temp,this$static.localPointA2),this$static.localPointA1);crossToOut(this$static.temp,1,this$static.m_axis);$normalize_0(this$static.m_axis);mulToOut(this$static.xfa.R,this$static.m_axis,this$static.normal);$mulLocal($addLocal($set_12(this$static.m_localPoint,this$static.localPointA1),this$static.localPointA2),0.5);mulToOut_0(this$static.xfa,this$static.m_localPoint,this$static.pointA);$set_12(this$static.localPointB,this$static.m_proxyB.m_vertices[cache.indexB[0]]);mulToOut_0(this$static.xfb,this$static.localPointB,this$static.pointB);$subLocal($set_12(this$static.temp,this$static.pointB),this$static.pointA);s=dot_0(this$static.temp,this$static.normal);if(s<0){$negateLocal(this$static.m_axis);s=-s}return s}}
function SeparationFunction_0(){this.m_localPoint=new Vec2_0();this.m_axis=new Vec2_0();this.localPointA=new Vec2_0();this.localPointB=new Vec2_0();this.pointA=new Vec2_0();this.pointB=new Vec2_0();this.localPointA1=new Vec2_0();this.localPointA2=new Vec2_0();this.normal=new Vec2_0();this.localPointB1=new Vec2_0();this.localPointB2=new Vec2_0();this.temp=new Vec2_0();this.xfa=new Transform_0();this.xfb=new Transform_0();this.axisA=new Vec2_0();this.axisB=new Vec2_0()}
function SeparationFunction(){}
_=SeparationFunction_0.prototype=SeparationFunction.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_SeparationFunction_2_classLit};_.castableTypeMap$={};_.m_proxyA=null;_.m_proxyB=null;_.m_sweepA=null;_.m_sweepB=null;_.m_type=null;function $timeOfImpact(this$static,output,input){var a1,a2,done,iter,proxyA,proxyB,pushBackIter,rootIterCount,s,s1,s2,t,t1,t2,tMax,target,tolerance,totalRadius;++toiCalls;output.state=($clinit_15(),UNKNOWN);output.t=input.tMax;proxyA=input.proxyA;proxyB=input.proxyB;$set_8(this$static.sweepA,input.sweepA);$set_8(this$static.sweepB,input.sweepB);$normalize(this$static.sweepA);$normalize(this$static.sweepB);tMax=input.tMax;totalRadius=proxyA.m_radius+proxyB.m_radius;target=max_1(($clinit_19(),0.004999999888241291),totalRadius-3*0.004999999888241291);tolerance=0.25*0.004999999888241291;t1=0;iter=0;this$static.cache.count=0;this$static.distanceInput.proxyA=input.proxyA;this$static.distanceInput.proxyB=input.proxyB;this$static.distanceInput.useRadii=false;for(;;){$getTransform(this$static.sweepA,this$static.xfA,t1);$getTransform(this$static.sweepB,this$static.xfB,t1);this$static.distanceInput.transformA=this$static.xfA;this$static.distanceInput.transformB=this$static.xfB;$distance(this$static.pool.dist,this$static.distanceOutput,this$static.cache,this$static.distanceInput);if(this$static.distanceOutput.distance<=0){output.state=OVERLAPPED;output.t=0;break}if(this$static.distanceOutput.distance<target+tolerance){output.state=TOUCHING;output.t=t1;break}$initialize(this$static.fcn,this$static.cache,proxyA,this$static.sweepA,proxyB,this$static.sweepB,t1);done=false;t2=tMax;pushBackIter=0;for(;;){s2=$findMinSeparation(this$static.fcn,this$static.indexes,t2);if(s2>target+tolerance){output.state=SEPARATED;output.t=tMax;done=true;break}if(s2>target-tolerance){t1=t2;break}s1=$evaluate(this$static.fcn,this$static.indexes[0],this$static.indexes[1],t1);if(s1<target-tolerance){output.state=FAILED;output.t=t1;done=true;break}if(s1<=target+tolerance){output.state=TOUCHING;output.t=t1;done=true;break}rootIterCount=0;a1=t1;a2=t2;for(;;){(rootIterCount&1)==1?(t=a1+(target-s1)*(a2-a1)/(s2-s1)):(t=0.5*(a1+a2));s=$evaluate(this$static.fcn,this$static.indexes[0],this$static.indexes[1],t);if(($clinit_18(),s-target>0?s-target:-(s-target))<tolerance){t2=t;break}if(s>target){a1=t;s1=s}else{a2=t;s2=s}++rootIterCount;++toiRootIters;if(rootIterCount==50){break}}toiMaxRootIters=max_2(toiMaxRootIters,rootIterCount);++pushBackIter;if(pushBackIter==8){break}}++iter;++toiIters;if(done){break}if(iter==1000){output.state=FAILED;output.t=t1;break}}toiMaxIters=max_2(toiMaxIters,iter)}
function TimeOfImpact_0(argPool){this.cache=new Distance$SimplexCache_0();this.distanceInput=new DistanceInput_0();this.xfA=new Transform_0();this.xfB=new Transform_0();this.distanceOutput=new DistanceOutput_0();this.fcn=new SeparationFunction_0();this.indexes=initDim(_3I_classLit,{12:1},-1,2,1);this.sweepA=new Sweep_0();this.sweepB=new Sweep_0();this.pool=argPool}
function TimeOfImpact(){}
_=TimeOfImpact_0.prototype=TimeOfImpact.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_TimeOfImpact_2_classLit};_.castableTypeMap$={};_.pool=null;var toiCalls=0,toiIters=0,toiMaxIters=0,toiMaxRootIters=0,toiRootIters=0;function TimeOfImpact$TOIInput_0(){this.proxyA=new Distance$DistanceProxy_0();this.proxyB=new Distance$DistanceProxy_0();this.sweepA=new Sweep_0();this.sweepB=new Sweep_0()}
function TimeOfImpact$TOIInput(){}
_=TimeOfImpact$TOIInput_0.prototype=TimeOfImpact$TOIInput.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_TimeOfImpact$TOIInput_2_classLit};_.castableTypeMap$={};_.tMax=0;function TimeOfImpact$TOIOutput_0(){}
function TimeOfImpact$TOIOutput(){}
_=TimeOfImpact$TOIOutput_0.prototype=TimeOfImpact$TOIOutput.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_TimeOfImpact$TOIOutput_2_classLit};_.castableTypeMap$={};_.state=null;_.t=0;function $clinit_15(){$clinit_15=nullMethod;UNKNOWN=new TimeOfImpact$TOIOutputState_0('UNKNOWN',0);FAILED=new TimeOfImpact$TOIOutputState_0('FAILED',1);OVERLAPPED=new TimeOfImpact$TOIOutputState_0('OVERLAPPED',2);TOUCHING=new TimeOfImpact$TOIOutputState_0('TOUCHING',3);SEPARATED=new TimeOfImpact$TOIOutputState_0('SEPARATED',4);$VALUES_2=initValues(_3Lorg_jbox2d_collision_TimeOfImpact$TOIOutputState_2_classLit,{12:1,45:1},22,[UNKNOWN,FAILED,OVERLAPPED,TOUCHING,SEPARATED])}
function TimeOfImpact$TOIOutputState_0(enum$name,enum$ordinal){this.name_0=enum$name;this.ordinal=enum$ordinal}
function values_2(){$clinit_15();return $VALUES_2}
function TimeOfImpact$TOIOutputState(){}
_=TimeOfImpact$TOIOutputState_0.prototype=TimeOfImpact$TOIOutputState.prototype=new Enum();_.getClass$=function(){return Lorg_jbox2d_collision_TimeOfImpact$TOIOutputState_2_classLit};_.castableTypeMap$={12:1,14:1,15:1,22:1};var $VALUES_2,FAILED,OVERLAPPED,SEPARATED,TOUCHING,UNKNOWN;function $clinit_16(){$clinit_16=nullMethod;POINTS=new Type_0('POINTS',0);FACE_A_0=new Type_0('FACE_A',1);FACE_B_0=new Type_0('FACE_B',2);$VALUES_3=initValues(_3Lorg_jbox2d_collision_Type_2_classLit,{12:1,45:1},23,[POINTS,FACE_A_0,FACE_B_0])}
function Type_0(enum$name,enum$ordinal){this.name_0=enum$name;this.ordinal=enum$ordinal}
function values_3(){$clinit_16();return $VALUES_3}
function Type(){}
_=Type_0.prototype=Type.prototype=new Enum();_.getClass$=function(){return Lorg_jbox2d_collision_Type_2_classLit};_.castableTypeMap$={12:1,14:1,15:1,23:1};var $VALUES_3,FACE_A_0,FACE_B_0,POINTS;function $initialize_0(this$static,manifold,xfA,radiusA,xfB,radiusB){var R,cAx,cAy,cBx,cBy,clipPoint,i,planePoint,pointA,pointB,scalar,v;if(manifold.pointCount==0){return}switch(manifold.type.ordinal){case 0:{pointA=this$static.pool3;pointB=this$static.pool4;this$static.normal.x=1;this$static.normal.y=0;pointA.x=xfA.position.x+xfA.R.m11*manifold.localPoint.x+xfA.R.m21*manifold.localPoint.y;pointA.y=xfA.position.y+xfA.R.m12*manifold.localPoint.x+xfA.R.m22*manifold.localPoint.y;pointB.x=xfB.position.x+xfB.R.m11*manifold.points[0].localPoint.x+xfB.R.m21*manifold.points[0].localPoint.y;pointB.y=xfB.position.y+xfB.R.m12*manifold.points[0].localPoint.x+xfB.R.m22*manifold.points[0].localPoint.y;if(distanceSquared(pointA,pointB)>1.4210854715202004E-14){this$static.normal.x=pointB.x-pointA.x;this$static.normal.y=pointB.y-pointA.y;$normalize_0(this$static.normal)}cAx=this$static.normal.x*radiusA+pointA.x;cAy=this$static.normal.y*radiusA+pointA.y;cBx=-this$static.normal.x*radiusB+pointB.x;cBy=-this$static.normal.y*radiusB+pointB.y;this$static.points[0].x=(cAx+cBx)*0.5;this$static.points[0].y=(cAy+cBy)*0.5}break;case 1:{planePoint=this$static.pool3;this$static.normal.x=xfA.R.m11*manifold.localNormal.x+xfA.R.m21*manifold.localNormal.y;this$static.normal.y=xfA.R.m12*manifold.localNormal.x+xfA.R.m22*manifold.localNormal.y;planePoint.x=xfA.position.x+xfA.R.m11*manifold.localPoint.x+xfA.R.m21*manifold.localPoint.y;planePoint.y=xfA.position.y+xfA.R.m12*manifold.localPoint.x+xfA.R.m22*manifold.localPoint.y;clipPoint=this$static.pool4;for(i=0;i<manifold.pointCount;++i){clipPoint.x=xfB.position.x+xfB.R.m11*manifold.points[i].localPoint.x+xfB.R.m21*manifold.points[i].localPoint.y;clipPoint.y=xfB.position.y+xfB.R.m12*manifold.points[i].localPoint.x+xfB.R.m22*manifold.points[i].localPoint.y;scalar=radiusA-((clipPoint.x-planePoint.x)*this$static.normal.x+(clipPoint.y-planePoint.y)*this$static.normal.y);cAx=this$static.normal.x*scalar+clipPoint.x;cAy=this$static.normal.y*scalar+clipPoint.y;cBx=-this$static.normal.x*radiusB+clipPoint.x;cBy=-this$static.normal.y*radiusB+clipPoint.y;this$static.points[i].x=(cAx+cBx)*0.5;this$static.points[i].y=(cAy+cBy)*0.5}}break;case 2:planePoint=this$static.pool3;R=xfB.R;this$static.normal.x=R.m11*manifold.localNormal.x+R.m21*manifold.localNormal.y;this$static.normal.y=R.m12*manifold.localNormal.x+R.m22*manifold.localNormal.y;v=manifold.localPoint;planePoint.x=xfB.position.x+xfB.R.m11*v.x+xfB.R.m21*v.y;planePoint.y=xfB.position.y+xfB.R.m12*v.x+xfB.R.m22*v.y;clipPoint=this$static.pool4;for(i=0;i<manifold.pointCount;++i){clipPoint.x=xfA.position.x+xfA.R.m11*manifold.points[i].localPoint.x+xfA.R.m21*manifold.points[i].localPoint.y;clipPoint.y=xfA.position.y+xfA.R.m12*manifold.points[i].localPoint.x+xfA.R.m22*manifold.points[i].localPoint.y;scalar=radiusB-((clipPoint.x-planePoint.x)*this$static.normal.x+(clipPoint.y-planePoint.y)*this$static.normal.y);cBx=this$static.normal.x*scalar+clipPoint.x;cBy=this$static.normal.y*scalar+clipPoint.y;cAx=-this$static.normal.x*radiusA+clipPoint.x;cAy=-this$static.normal.y*radiusA+clipPoint.y;this$static.points[i].x=(cAx+cBx)*0.5;this$static.points[i].y=(cAy+cBy)*0.5}this$static.normal.x=-this$static.normal.x;this$static.normal.y=-this$static.normal.y;}}
function WorldManifold_0(){var i;this.pool3=new Vec2_0();this.pool4=new Vec2_0();this.normal=new Vec2_0();this.points=initDim(_3Lorg_jbox2d_common_Vec2_2_classLit,{12:1,45:1,61:1},28,($clinit_19(),2),0);for(i=0;i<2;++i){this.points[i]=new Vec2_0()}}
function WorldManifold(){}
_=WorldManifold_0.prototype=WorldManifold.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_WorldManifold_2_classLit};_.castableTypeMap$={};_.normal=null;_.points=null;function $bufferMove(this$static,node){var i,old;if(this$static.m_moveCount==this$static.m_moveCapacity){old=this$static.m_moveBuffer;this$static.m_moveCapacity*=2;this$static.m_moveBuffer=initDim(_3Lorg_jbox2d_collision_broadphase_DynamicTreeNode_2_classLit,{12:1,45:1},24,this$static.m_moveCapacity,0);for(i=0;i<old.length;++i){this$static.m_moveBuffer[i]=old[i]}}this$static.m_moveBuffer[this$static.m_moveCount]=node;++this$static.m_moveCount}
function $createProxy(this$static,aabb,userData){var node;node=$createProxy_0(this$static.m_tree,aabb,userData);++this$static.m_proxyCount;$bufferMove(this$static,node);return node}
function $destroyProxy(this$static,proxy){$unbufferMove(this$static,proxy);--this$static.m_proxyCount;$destroyProxy_0(this$static.m_tree,proxy)}
function $moveProxy(this$static,proxy,aabb,displacement){var buffer;buffer=$moveProxy_0(this$static.m_tree,proxy,aabb,displacement);buffer&&$bufferMove(this$static,proxy)}
function $testOverlap_0(proxyA,proxyB){var a_0,b;a_0=proxyA.aabb;b=proxyB.aabb;if(b.lowerBound.x-a_0.upperBound.x>0||b.lowerBound.y-a_0.upperBound.y>0){return false}if(a_0.lowerBound.x-b.upperBound.x>0||a_0.lowerBound.y-b.upperBound.y>0){return false}return true}
function $treeCallback(this$static,proxy){var i,oldBuffer;if(proxy==this$static.m_queryProxy){return true}if(this$static.m_pairCount==this$static.m_pairCapacity){oldBuffer=this$static.m_pairBuffer;this$static.m_pairCapacity*=2;this$static.m_pairBuffer=initDim(_3Lorg_jbox2d_collision_broadphase_Pair_2_classLit,{12:1,45:1},25,this$static.m_pairCapacity,0);for(i=0;i<oldBuffer.length;++i){this$static.m_pairBuffer[i]=oldBuffer[i]}for(i=oldBuffer.length;i<this$static.m_pairCapacity;++i){this$static.m_pairBuffer[i]=new Pair_0()}}if(proxy.key<this$static.m_queryProxy.key){this$static.m_pairBuffer[this$static.m_pairCount].proxyA=proxy;this$static.m_pairBuffer[this$static.m_pairCount].proxyB=this$static.m_queryProxy}else{this$static.m_pairBuffer[this$static.m_pairCount].proxyA=this$static.m_queryProxy;this$static.m_pairBuffer[this$static.m_pairCount].proxyB=proxy}++this$static.m_pairCount;return true}
function $unbufferMove(this$static,proxy){var i;for(i=0;i<this$static.m_moveCount;++i){if(this$static.m_moveBuffer[i]==proxy){this$static.m_moveBuffer[i]=null;return}}}
function $updatePairs(this$static,callback){var i,pair,primaryPair,userDataA,userDataB;this$static.m_pairCount=0;for(i=0;i<this$static.m_moveCount;++i){this$static.m_queryProxy=this$static.m_moveBuffer[i];if(!this$static.m_queryProxy){continue}$query(this$static.m_tree,this$static,this$static.m_queryProxy.aabb)}this$static.m_moveCount=0;$clinit_19();for(i=0;i<this$static.m_pairCount;++i){this$static.m_pairBuffer[i].stableIdx=i}sort(this$static.m_pairBuffer,this$static.m_pairCount,new Pair$StableComparator_0());i=0;while(i<this$static.m_pairCount){primaryPair=this$static.m_pairBuffer[i];userDataA=primaryPair.proxyA.userData;userDataB=primaryPair.proxyB.userData;$addPair(callback,userDataA,userDataB);++i;while(i<this$static.m_pairCount){pair=this$static.m_pairBuffer[i];if(pair.proxyA!=primaryPair.proxyA||pair.proxyB!=primaryPair.proxyB){break}++i}}$rebalance(this$static.m_tree,4)}
function BroadPhase_0(){var i;this.m_proxyCount=0;this.m_pairCapacity=16;this.m_pairCount=0;this.m_pairBuffer=initDim(_3Lorg_jbox2d_collision_broadphase_Pair_2_classLit,{12:1,45:1},25,this.m_pairCapacity,0);for(i=0;i<this.m_pairCapacity;++i){this.m_pairBuffer[i]=new Pair_0()}this.m_moveCapacity=16;this.m_moveCount=0;this.m_moveBuffer=initDim(_3Lorg_jbox2d_collision_broadphase_DynamicTreeNode_2_classLit,{12:1,45:1},24,this.m_moveCapacity,0);this.m_tree=new DynamicTree_0();this.m_queryProxy=null}
function BroadPhase(){}
_=BroadPhase_0.prototype=BroadPhase.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_broadphase_BroadPhase_2_classLit};_.castableTypeMap$={};_.m_moveBuffer=null;_.m_moveCapacity=0;_.m_moveCount=0;_.m_pairBuffer=null;_.m_pairCapacity=0;_.m_pairCount=0;_.m_proxyCount=0;_.m_queryProxy=null;_.m_tree=null;function $allocateNode(this$static){var node;if(this$static.nodeStack.arrayList.size==0){$push(this$static.nodeStack,new DynamicTreeNode_0());$push(this$static.nodeStack,new DynamicTreeNode_0());$push(this$static.nodeStack,new DynamicTreeNode_0());$push(this$static.nodeStack,new DynamicTreeNode_0());$push(this$static.nodeStack,new DynamicTreeNode_0());$push(this$static.nodeStack,new DynamicTreeNode_0())}node=dynamicCast($pop(this$static.nodeStack),24);node.parent_0=null;node.child1=null;node.child2=null;node.userData=null;node.key=this$static.nodeCounter++;++this$static.m_nodeCount;return node}
function $computeHeight(this$static,argNode){var height1,height2;if(!argNode){return 0}height1=$computeHeight(this$static,argNode.child1);height2=$computeHeight(this$static,argNode.child2);return 1+($clinit_18(),height1>height2?height1:height2)}
function $createProxy_0(this$static,argAABB,argUserData){var height,iterationCount,proxy,tryCount;proxy=$allocateNode(this$static);proxy.aabb.lowerBound.x=argAABB.lowerBound.x-($clinit_19(),0.10000000149011612);proxy.aabb.lowerBound.y=argAABB.lowerBound.y-0.10000000149011612;proxy.aabb.upperBound.x=argAABB.upperBound.x+0.10000000149011612;proxy.aabb.upperBound.y=argAABB.upperBound.y+0.10000000149011612;proxy.userData=argUserData;$insertLeaf(this$static,proxy);iterationCount=this$static.m_nodeCount>>4;tryCount=0;height=$computeHeight(this$static,this$static.m_root);while(height>64&&tryCount<10){$rebalance(this$static,iterationCount);height=$computeHeight(this$static,this$static.m_root);++tryCount}return proxy}
function $destroyProxy_0(this$static,argProxy){$removeLeaf(this$static,argProxy);$push(this$static.nodeStack,argProxy);--this$static.m_nodeCount}
function $insertLeaf(this$static,argNode){var child1,child2,node1,node2,norm1,norm2,sibling;++this$static.m_insertionCount;if(!this$static.m_root){this$static.m_root=argNode;argNode.parent_0=null;return}$getCenterToOut(argNode.aabb,this$static.center);sibling=this$static.m_root;if(sibling.child1){do{child1=sibling.child1;child2=sibling.child2;$getCenterToOut(child1.aabb,this$static.delta1);$getCenterToOut(child2.aabb,this$static.delta2);$absLocal($subLocal(this$static.delta1,this$static.center));$absLocal($subLocal(this$static.delta2,this$static.center));norm1=this$static.delta1.x+this$static.delta1.y;norm2=this$static.delta2.x+this$static.delta2.y;norm1<norm2?(sibling=child1):(sibling=child2)}while(sibling.child1)}node1=sibling.parent_0;node2=$allocateNode(this$static);node2.parent_0=node1;node2.userData=null;$combine(node2.aabb,argNode.aabb,sibling.aabb);if(node1){sibling.parent_0.child1==sibling?(node1.child1=node2):(node1.child2=node2);node2.child1=sibling;node2.child2=argNode;sibling.parent_0=node2;argNode.parent_0=node2;do{if($contains(node1.aabb,node2.aabb)){break}$combine(node1.aabb,node1.child1.aabb,node1.child2.aabb);node2=node1;node1=node1.parent_0}while(node1)}else{node2.child1=sibling;node2.child2=argNode;sibling.parent_0=node2;argNode.parent_0=node2;this$static.m_root=node2}}
function $moveProxy_0(this$static,argProxy,argAABB,displacement){if($contains(argProxy.aabb,argAABB)){return false}$removeLeaf(this$static,argProxy);argAABB.lowerBound.x-=($clinit_19(),0.10000000149011612);argAABB.lowerBound.y-=0.10000000149011612;argAABB.upperBound.x+=0.10000000149011612;argAABB.upperBound.y+=0.10000000149011612;$mulLocal($set_12(this$static.d,displacement),2);this$static.d.x<0?(argAABB.lowerBound.x+=this$static.d.x):(argAABB.upperBound.x+=this$static.d.x);this$static.d.y<0?(argAABB.lowerBound.y+=this$static.d.y):(argAABB.upperBound.y+=this$static.d.y);$set(argProxy.aabb,argAABB);$insertLeaf(this$static,argProxy);return true}
function $query(this$static,argCallback,argAABB){$query_0(this$static,argCallback,argAABB,this$static.m_root,1)}
function $query_0(this$static,argCallback,argAABB,argNode,count){var proceed;if(!argNode){return true}if(testOverlap(argAABB,argNode.aabb)){if(!argNode.child1){proceed=$treeCallback(argCallback,argNode);if(!proceed){return false}}else{if(count<128){proceed=$query_0(this$static,argCallback,argAABB,argNode.child1,++count);if(!proceed){return false}}if(count<128){proceed=$query_0(this$static,argCallback,argAABB,argNode.child2,++count);if(!proceed){return false}}}}return true}
function $rebalance(this$static,argIterations){var bit,currNode,goLeft,i;if(!this$static.m_root){return}for(i=0;i<argIterations;++i){currNode=this$static.m_root;bit=0;while(currNode.child1){goLeft=this$static.m_path>>bit&1;goLeft==0?(currNode=currNode.child1):(currNode=currNode.child2);bit=bit+1&31}++this$static.m_path;$removeLeaf(this$static,currNode);$insertLeaf(this$static,currNode)}}
function $removeLeaf(this$static,argNode){var node1,node2,sibling;if(argNode==this$static.m_root){this$static.m_root=null;this$static.lastLeaf==argNode&&(this$static.lastLeaf=null);return}node2=argNode.parent_0;node1=node2.parent_0;node2.child1==argNode?(sibling=node2.child2):(sibling=node2.child1);if(node1){node1.child1==node2?(node1.child1=sibling):(node1.child2=sibling);sibling.parent_0=node1;$push(this$static.nodeStack,node2);--this$static.m_nodeCount;while(node1){$set(this$static.oldAABB,node1.aabb);$combine(node1.aabb,node1.child1.aabb,node1.child2.aabb);if($contains(this$static.oldAABB,node1.aabb)){break}node1=node1.parent_0}}else{this$static.m_root=sibling;sibling.parent_0=null;$push(this$static.nodeStack,node2);--this$static.m_nodeCount}this$static.lastLeaf==argNode&&(this$static.lastLeaf=this$static.m_root)}
function DynamicTree_0(){var i;this.nodeStack=new Stack_0();this.drawVecs=initDim(_3Lorg_jbox2d_common_Vec2_2_classLit,{12:1,45:1,61:1},28,4,0);this.d=new Vec2_0();new OrderedStackVec2_0(388);new AABB_0();new RayCastInput_0();this.center=new Vec2_0();this.delta1=new Vec2_0();this.delta2=new Vec2_0();this.oldAABB=new AABB_0();new Vec2_0();this.m_root=null;this.m_nodeCount=0;this.m_insertionCount=0;this.m_path=0;this.lastLeaf=null;for(i=0;i<this.drawVecs.length;++i){this.drawVecs[i]=new Vec2_0()}}
function DynamicTree(){}
_=DynamicTree_0.prototype=DynamicTree.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_broadphase_DynamicTree_2_classLit};_.castableTypeMap$={};_.lastLeaf=null;_.m_insertionCount=0;_.m_nodeCount=0;_.m_path=0;_.m_root=null;_.nodeCounter=0;function DynamicTreeNode_0(){this.aabb=new AABB_0()}
function DynamicTreeNode(){}
_=DynamicTreeNode_0.prototype=DynamicTreeNode.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_broadphase_DynamicTreeNode_2_classLit};_.castableTypeMap$={24:1};_.child1=null;_.child2=null;_.key=0;_.parent_0=null;_.userData=null;function $compareTo_0(this$static,pair2){if(this$static.proxyA.key<pair2.proxyA.key){return -1}if(this$static.proxyA.key==pair2.proxyA.key){return this$static.proxyB.key<pair2.proxyB.key?-1:this$static.proxyB.key==pair2.proxyB.key?0:1}return 1}
function Pair_0(){}
function Pair(){}
_=Pair_0.prototype=Pair.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_broadphase_Pair_2_classLit};_.castableTypeMap$={25:1};_.proxyA=null;_.proxyB=null;_.stableIdx=0;function $compare(pair1,pair2){var stdRtn;stdRtn=$compareTo_0(pair1,pair2);return stdRtn==0?pair1.stableIdx<pair2.stableIdx?-1:pair1.stableIdx>pair2.stableIdx?1:0:stdRtn}
function Pair$StableComparator_0(){}
function Pair$StableComparator(){}
_=Pair$StableComparator_0.prototype=Pair$StableComparator.prototype=new Object_0();_.compare=function(pair1,pair2){return $compare(dynamicCast(pair1,25),dynamicCast(pair2,25))};_.getClass$=function(){return Lorg_jbox2d_collision_broadphase_Pair$StableComparator_2_classLit};_.castableTypeMap$={};function Shape(){}
_=Shape.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_shapes_Shape_2_classLit};_.castableTypeMap$={};_.m_radius=0;_.m_type=null;function CircleShape_0(){this.m_type=($clinit_17(),UNKNOWN_0);this.pool1=new Vec2_0();new Vec2_0();new Vec2_0();this.m_type=CIRCLE;this.m_p=new Vec2_0();this.m_radius=0}
function CircleShape(){}
_=CircleShape_0.prototype=CircleShape.prototype=new Shape();_.clone=function(){var shape;shape=new CircleShape_0();$set_12(shape.m_p,this.m_p);shape.m_radius=this.m_radius;return shape};_.computeAABB=function(argAabb,argTransform){var p;p=this.pool1;mulToOut(argTransform.R,this.m_p,p);$addLocal(p,argTransform.position);argAabb.lowerBound.x=p.x-this.m_radius;argAabb.lowerBound.y=p.y-this.m_radius;argAabb.upperBound.x=p.x+this.m_radius;argAabb.upperBound.y=p.y+this.m_radius};_.computeMass=function(massData,density){massData.mass=density*3.1415927410125732*this.m_radius*this.m_radius;$set_12(massData.center,this.m_p);massData.I=massData.mass*(0.5*this.m_radius*this.m_radius+dot_0(this.m_p,this.m_p))};_.getClass$=function(){return Lorg_jbox2d_collision_shapes_CircleShape_2_classLit};_.castableTypeMap$={56:1};_.m_p=null;function MassData_0(){this.mass=this.I=0;this.center=new Vec2_0()}
function MassData(){}
_=MassData_0.prototype=MassData.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_collision_shapes_MassData_2_classLit};_.castableTypeMap$={};_.I=0;_.center=null;_.mass=0;function $setAsBox(this$static,hx,hy,center,angle){var i,xf;this$static.m_vertexCount=4;$set_11(this$static.m_vertices[0],-hx,-hy);$set_11(this$static.m_vertices[1],hx,-hy);$set_11(this$static.m_vertices[2],hx,hy);$set_11(this$static.m_vertices[3],-hx,hy);$set_11(this$static.m_normals[0],0,-1);$set_11(this$static.m_normals[1],1,0);$set_11(this$static.m_normals[2],0,1);$set_11(this$static.m_normals[3],-1,0);$set_12(this$static.m_centroid,center);xf=this$static.poolt1;$set_12(xf.position,center);$set_7(xf.R,angle);for(i=0;i<this$static.m_vertexCount;++i){mulToOut_0(xf,this$static.m_vertices[i],this$static.m_vertices[i]);mulToOut(xf.R,this$static.m_normals[i],this$static.m_normals[i])}}
function PolygonShape_0(){var i;this.m_type=($clinit_17(),UNKNOWN_0);this.m_centroid=new Vec2_0();this.pool1=new Vec2_0();this.pool2=new Vec2_0();this.pool3=new Vec2_0();this.pool4=new Vec2_0();new Vec2_0();new Vec2_0();this.poolt1=new Transform_0();this.m_type=POLYGON;this.m_vertexCount=0;this.m_vertices=initDim(_3Lorg_jbox2d_common_Vec2_2_classLit,{12:1,45:1,61:1},28,($clinit_19(),8),0);for(i=0;i<this.m_vertices.length;++i){this.m_vertices[i]=new Vec2_0()}this.m_normals=initDim(_3Lorg_jbox2d_common_Vec2_2_classLit,{12:1,45:1,61:1},28,8,0);for(i=0;i<this.m_normals.length;++i){this.m_normals[i]=new Vec2_0()}this.m_radius=0.009999999776482582;$setZero(this.m_centroid)}
function PolygonShape(){}
_=PolygonShape_0.prototype=PolygonShape.prototype=new Shape();_.clone=function(){var i,shape;shape=new PolygonShape_0();$set_12(shape.m_centroid,this.m_centroid);for(i=0;i<shape.m_normals.length;++i){$set_12(shape.m_normals[i],this.m_normals[i]);$set_12(shape.m_vertices[i],this.m_vertices[i])}shape.m_radius=this.m_radius;shape.m_vertexCount=this.m_vertexCount;return shape};_.computeAABB=function(argAabb,argXf){var i,lower,upper,v;lower=this.pool1;upper=this.pool2;v=this.pool3;mulToOut_0(argXf,this.m_vertices[0],lower);upper.x=lower.x;upper.y=lower.y;for(i=1;i<this.m_vertexCount;++i){mulToOut_0(argXf,this.m_vertices[i],v);lower.x=lower.x<v.x?lower.x:v.x;lower.y=lower.y<v.y?lower.y:v.y;upper.x=upper.x>v.x?upper.x:v.x;upper.y=upper.y>v.y?upper.y:v.y}argAabb.lowerBound.x=lower.x-this.m_radius;argAabb.lowerBound.y=lower.y-this.m_radius;argAabb.upperBound.x=upper.x+this.m_radius;argAabb.upperBound.y=upper.y+this.m_radius};_.computeMass=function(massData,density){var D,I,area,center,e1,e2,ex1,ex2,ey1,ey2,i,intx2,inty2,p2,p3,pRef,px,py,triangleArea;if(this.m_vertexCount==2){$mulLocal($addLocal($set_12(massData.center,this.m_vertices[0]),this.m_vertices[1]),0.5);massData.mass=0;massData.I=0;return}center=this.pool1;center.x=0;center.y=0;area=0;I=0;pRef=this.pool2;pRef.x=0;pRef.y=0;e1=this.pool3;e2=this.pool4;for(i=0;i<this.m_vertexCount;++i){p2=this.m_vertices[i];p3=i+1<this.m_vertexCount?this.m_vertices[i+1]:this.m_vertices[0];e1.x=p2.x;e1.y=p2.y;e1.x-=pRef.x;e1.y-=pRef.y;e2.x=p3.x;e2.y=p3.y;e2.x-=pRef.x;e2.y-=pRef.y;D=e1.x*e2.y-e1.y*e2.x;triangleArea=0.5*D;area+=triangleArea;center.x+=triangleArea*0.3333333432674408*(pRef.x+p2.x+p3.x);center.y+=triangleArea*0.3333333432674408*(pRef.y+p2.y+p3.y);px=pRef.x;py=pRef.y;ex1=e1.x;ey1=e1.y;ex2=e2.x;ey2=e2.y;intx2=0.3333333432674408*(0.25*(ex1*ex1+ex2*ex1+ex2*ex2)+(px*ex1+px*ex2))+0.5*px*px;inty2=0.3333333432674408*(0.25*(ey1*ey1+ey2*ey1+ey2*ey2)+(py*ey1+py*ey2))+0.5*py*py;I+=D*(intx2+inty2)}massData.mass=density*area;center.x*=1/area;center.y*=1/area;$set_12(massData.center,center);massData.I=I*density};_.getClass$=function(){return Lorg_jbox2d_collision_shapes_PolygonShape_2_classLit};_.castableTypeMap$={57:1};_.m_normals=null;_.m_vertexCount=0;_.m_vertices=null;function $clinit_17(){$clinit_17=nullMethod;UNKNOWN_0=new ShapeType_0('UNKNOWN',0,-1);CIRCLE=new ShapeType_0('CIRCLE',1,0);POLYGON=new ShapeType_0('POLYGON',2,1);$VALUES_4=initValues(_3Lorg_jbox2d_collision_shapes_ShapeType_2_classLit,{12:1,45:1},26,[UNKNOWN_0,CIRCLE,POLYGON])}
function ShapeType_0(enum$name,enum$ordinal,argValue){this.name_0=enum$name;this.ordinal=enum$ordinal;this.intValue=argValue}
function values_4(){$clinit_17();return $VALUES_4}
function ShapeType(){}
_=ShapeType_0.prototype=ShapeType.prototype=new Enum();_.getClass$=function(){return Lorg_jbox2d_collision_shapes_ShapeType_2_classLit};_.castableTypeMap$={12:1,14:1,15:1,26:1};_.intValue=0;var $VALUES_4,CIRCLE,POLYGON,UNKNOWN_0;function $invertLocal(this$static){var a_0,b,c,d,det;a_0=this$static.m11;b=this$static.m21;c=this$static.m12;d=this$static.m22;det=a_0*d-b*c;det!=0&&(det=1/det);this$static.m11=det*d;this$static.m21=-det*b;this$static.m12=-det*c;this$static.m22=det*a_0;return this$static}
function $set_6(this$static,m){this$static.m11=m.m11;this$static.m12=m.m12;this$static.m21=m.m21;this$static.m22=m.m22;return this$static}
function $set_7(this$static,angle){var c,s;c=Math.cos(angle);s=Math.sin(angle);this$static.m11=c;this$static.m21=-s;this$static.m12=s;this$static.m22=c}
function $setIdentity(this$static){this$static.m11=1;this$static.m21=0;this$static.m12=0;this$static.m22=1}
function Mat22_0(){}
function mulToOut(R,v,out){var tempy;tempy=R.m12*v.x+R.m22*v.y;out.x=R.m11*v.x+R.m21*v.y;out.y=tempy}
function mulTransToOut(R,v,out){var outx;outx=v.x*R.m11+v.y*R.m12;out.y=v.x*R.m21+v.y*R.m22;out.x=outx}
function Mat22(){}
_=Mat22_0.prototype=Mat22.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_common_Mat22_2_classLit};_.toString$=function(){var s;s='';s+='['+this.m11+','+this.m21+']\n';s+='['+this.m12+','+this.m22+']';return s};_.castableTypeMap$={27:1};_.m11=0;_.m12=0;_.m21=0;_.m22=0;function $clinit_18(){$clinit_18=nullMethod;var i;sinLUT=initDim(_3F_classLit,{12:1},-1,($clinit_19(),SINCOS_LUT_LENGTH),1);cosLUT=initDim(_3F_classLit,{12:1},-1,SINCOS_LUT_LENGTH,1);for(i=0;i<SINCOS_LUT_LENGTH;++i){sinLUT[i]=Math.sin(i*1.1000000085914508E-4);cosLUT[i]=Math.cos(i*1.1000000085914508E-4)}}
function abs_0(x){$clinit_18();return x>0?x:-x}
function clamp(a_0,low,high){$clinit_18();return low>(a_0<high?a_0:high)?low:a_0<high?a_0:high}
function distanceSquared(v1,v2){$clinit_18();var dx,dy;dx=v1.x-v2.x;dy=v1.y-v2.y;return dx*dx+dy*dy}
function fastAtan2(y,x){$clinit_18();var atan,z;if(x==0){if(y>0)return 1.5707963705062866;if(y==0)return 0;return -1.5707963705062866}z=y/x;if((z>0?z:-z)<1){atan=z/(1+0.2800000011920929*z*z);if(x<0){if(y<0)return atan-3.1415927410125732;return atan+3.1415927410125732}}else{atan=1.5707963705062866-z/(z*z+0.2800000011920929);if(y<0)return atan-3.1415927410125732}return atan}
function floor(x){$clinit_18();var y;y=~~Math.max(Math.min(x,2147483647),-2147483648);x<0&&x!=y&&--y;return y}
function max_1(a_0,b){$clinit_18();return a_0>b?a_0:b}
function max_2(a_0,b){$clinit_18();return a_0>b?a_0:b}
function min_0(a_0,b){$clinit_18();return a_0<b?a_0:b}
var cosLUT,sinLUT;function $clinit_19(){$clinit_19=nullMethod;SINCOS_LUT_LENGTH=round_int(Math.ceil(57119.86598277577))}
function mixRestitution(restitution1,restitution2){$clinit_19();return restitution1>restitution2?restitution1:restitution2}
var SINCOS_LUT_LENGTH;function $advance(this$static,t){this$static.c0.x=(1-t)*this$static.c0.x+t*this$static.c.x;this$static.c0.y=(1-t)*this$static.c0.y+t*this$static.c.y;this$static.a0=(1-t)*this$static.a0+t*this$static.a_0}
function $getTransform(this$static,xf,alpha){xf.position.x=(1-alpha)*this$static.c0.x+alpha*this$static.c.x;xf.position.y=(1-alpha)*this$static.c0.y+alpha*this$static.c.y;$set_7(xf.R,(1-alpha)*this$static.a0+alpha*this$static.a_0);xf.position.x-=xf.R.m11*this$static.localCenter.x+xf.R.m21*this$static.localCenter.y;xf.position.y-=xf.R.m12*this$static.localCenter.x+xf.R.m22*this$static.localCenter.y}
function $normalize(this$static){var d;d=6.2831854820251465*floor(this$static.a0/6.2831854820251465);this$static.a0-=d;this$static.a_0-=d}
function $set_8(this$static,argCloneFrom){$set_12(this$static.localCenter,argCloneFrom.localCenter);$set_12(this$static.c0,argCloneFrom.c0);$set_12(this$static.c,argCloneFrom.c);this$static.a0=argCloneFrom.a0;this$static.a_0=argCloneFrom.a_0;return this$static}
function Sweep_0(){this.localCenter=new Vec2_0();this.c0=new Vec2_0();this.c=new Vec2_0()}
function Sweep(){}
_=Sweep_0.prototype=Sweep.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_common_Sweep_2_classLit};_.toString$=function(){var s;s='Sweep:\nlocalCenter: '+this.localCenter+'\n';s+='c0: '+this.c0+', c: '+this.c+'\n';s+='a0: '+this.a0+', a: '+this.a_0+'\n';return s};_.castableTypeMap$={};_.a_0=0;_.a0=0;_.c=null;_.c0=null;_.localCenter=null;function $clinit_20(){$clinit_20=nullMethod;identity=new Transform_0();$setIdentity_0(identity)}
function $set_9(this$static,xf){$set_12(this$static.position,xf.position);$set_6(this$static.R,xf.R);return this$static}
function $set_10(this$static,p,angle){$set_12(this$static.position,p);$set_7(this$static.R,angle)}
function $setIdentity_0(this$static){$setZero(this$static.position);$setIdentity(this$static.R)}
function Transform_0(){$clinit_20();this.position=new Vec2_0();this.R=new Mat22_0()}
function mul(T,v){$clinit_20();return new Vec2_1(T.position.x+T.R.m11*v.x+T.R.m21*v.y,T.position.y+T.R.m12*v.x+T.R.m22*v.y)}
function mulToOut_0(T,v,out){$clinit_20();var tempy;tempy=T.position.y+T.R.m12*v.x+T.R.m22*v.y;out.x=T.position.x+T.R.m11*v.x+T.R.m21*v.y;out.y=tempy}
function mulTransToOut_0(T,v,out){$clinit_20();var tempy,v1x,v1y;v1x=v.x-T.position.x;v1y=v.y-T.position.y;tempy=v1x*T.R.m21+v1y*T.R.m22;out.x=v1x*T.R.m11+v1y*T.R.m12;out.y=tempy}
function Transform(){}
_=Transform_0.prototype=Transform.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_common_Transform_2_classLit};_.toString$=function(){var s;s='XForm:\n';s+='Position: '+this.position+'\n';s+='R: \n'+this.R+'\n';return s};_.castableTypeMap$={};_.R=null;_.position=null;var identity=null;function $absLocal(this$static){this$static.x=abs_0(this$static.x);this$static.y=abs_0(this$static.y)}
function $add_1(this$static,v){return new Vec2_1(this$static.x+v.x,this$static.y+v.y)}
function $addLocal(this$static,v){this$static.x+=v.x;this$static.y+=v.y;return this$static}
function $addLocal_0(this$static,x,y){this$static.x+=x;this$static.y+=y;return this$static}
function $length(this$static){return $clinit_18(),Math.sqrt(this$static.x*this$static.x+this$static.y*this$static.y)}
function $lengthSquared(this$static){return this$static.x*this$static.x+this$static.y*this$static.y}
function $mul(this$static,a_0){return new Vec2_1(this$static.x*a_0,this$static.y*a_0)}
function $mulLocal(this$static,a_0){this$static.x*=a_0;this$static.y*=a_0;return this$static}
function $negateLocal(this$static){this$static.x=-this$static.x;this$static.y=-this$static.y;return this$static}
function $normalize_0(this$static){var invLength,length_0;length_0=($clinit_18(),Math.sqrt(this$static.x*this$static.x+this$static.y*this$static.y));if(length_0<1.1920928955078125E-7){return 0}invLength=1/length_0;this$static.x*=invLength;this$static.y*=invLength;return length_0}
function $set_11(this$static,x,y){this$static.x=x;this$static.y=y;return this$static}
function $set_12(this$static,v){this$static.x=v.x;this$static.y=v.y;return this$static}
function $setZero(this$static){this$static.x=0;this$static.y=0}
function $sub(this$static,v){return new Vec2_1(this$static.x-v.x,this$static.y-v.y)}
function $subLocal(this$static,v){this$static.x-=v.x;this$static.y-=v.y;return this$static}
function Vec2_0(){this.x=0;this.y=0}
function Vec2_1(x,y){this.x=x;this.y=y}
function Vec2_2(toCopy){Vec2_1.call(this,toCopy.x,toCopy.y)}
function cross(a_0,b){return a_0.x*b.y-a_0.y*b.x}
function crossToOut(a_0,s,out){var tempy;tempy=-s*a_0.x;out.x=s*a_0.y;out.y=tempy}
function crossToOut_0(s,a_0,out){var tempY;tempY=s*a_0.x;out.x=-s*a_0.y;out.y=tempY}
function dot_0(a_0,b){return a_0.x*b.x+a_0.y*b.y}
function Vec2(){}
_=Vec2_2.prototype=Vec2_1.prototype=Vec2_0.prototype=Vec2.prototype=new Object_0();_.equals$=function(obj){var other;if(this===obj)return true;if(obj==null)return false;if(Lorg_jbox2d_common_Vec2_2_classLit!=getClass__devirtual$(obj))return false;other=dynamicCast(obj,28);if(this.x!=other.x)return false;if(this.y!=other.y)return false;return true};_.getClass$=function(){return Lorg_jbox2d_common_Vec2_2_classLit};_.hashCode$=function(){var result;result=31+~~Math.max(Math.min(this.x,2147483647),-2147483648);result=31*result+~~Math.max(Math.min(this.y,2147483647),-2147483648);return result};_.toString$=function(){return '('+this.x+','+this.y+')'};_.castableTypeMap$={28:1};_.x=0;_.y=0;function Vec3_0(){this.x=this.y=this.z=0}
function Vec3(){}
_=Vec3_0.prototype=Vec3.prototype=new Object_0();_.equals$=function(obj){var other;if(this===obj)return true;if(obj==null)return false;if(Lorg_jbox2d_common_Vec3_2_classLit!=getClass__devirtual$(obj))return false;other=dynamicCast(obj,29);if(this.x!=other.x)return false;if(this.y!=other.y)return false;if(this.z!=other.z)return false;return true};_.getClass$=function(){return Lorg_jbox2d_common_Vec3_2_classLit};_.hashCode$=function(){var result;result=31+~~Math.max(Math.min(this.x,2147483647),-2147483648);result=31*result+~~Math.max(Math.min(this.y,2147483647),-2147483648);result=31*result+~~Math.max(Math.min(this.z,2147483647),-2147483648);return result};_.toString$=function(){return '('+this.x+','+this.y+','+this.z+')'};_.castableTypeMap$={29:1};_.x=0;_.y=0;_.z=0;function $advance_0(this$static,t){$advance(this$static.m_sweep,t);$set_12(this$static.m_sweep.c,this$static.m_sweep.c0);this$static.m_sweep.a_0=this$static.m_sweep.a0;$synchronizeTransform(this$static)}
function $applyForce(this$static,force,point){if(this$static.m_type!=($clinit_21(),DYNAMIC)){return}(this$static.m_flags&2)==2||$setAwake(this$static,true);this$static.m_force.x+=force.x;this$static.m_force.y+=force.y;this$static.m_torque+=(point.x-this$static.m_sweep.c.x)*force.y-(point.y-this$static.m_sweep.c.y)*force.x}
function $applyTorque(this$static,torque){if(this$static.m_type!=($clinit_21(),DYNAMIC)){return}(this$static.m_flags&2)==2||$setAwake(this$static,true);this$static.m_torque+=torque}
function $createFixture(this$static,def){var broadPhase,fixture;if((this$static.m_world.m_flags&2)==2){return null}fixture=new Fixture_0();fixture.m_userData=def.userData;fixture.m_friction=def.friction;fixture.m_restitution=def.restitution;fixture.m_body=this$static;fixture.m_next=null;$set_13(fixture.m_filter,def.filter);fixture.m_isSensor=def.isSensor;fixture.m_shape=def.shape.clone();fixture.m_density=def.density;if((this$static.m_flags&32)==32){broadPhase=this$static.m_world.m_contactManager.m_broadPhase;$createProxy_1(fixture,broadPhase,this$static.m_xf)}fixture.m_next=this$static.m_fixtureList;this$static.m_fixtureList=fixture;++this$static.m_fixtureCount;fixture.m_body=this$static;fixture.m_density>0&&$resetMassData(this$static);this$static.m_world.m_flags|=1;return fixture}
function $createFixture_0(this$static,shape,density){this$static.fixDef.shape=shape;this$static.fixDef.density=density;return $createFixture(this$static,this$static.fixDef)}
function $destroyFixture(this$static,fixture){var broadPhase,c,edge,fixtureA,fixtureB,last,node;if((this$static.m_world.m_flags&2)==2){return}node=this$static.m_fixtureList;last=null;while(node){if(node==fixture){break}last=node;node=node.m_next}!last?(this$static.m_fixtureList=fixture.m_next):(last.m_next=fixture.m_next);edge=this$static.m_contactList;while(edge){c=edge.contact;edge=edge.next;fixtureA=c.m_fixtureA;fixtureB=c.m_fixtureB;(fixture==fixtureA||fixture==fixtureB)&&$destroy(this$static.m_world.m_contactManager,c)}if((this$static.m_flags&32)==32){broadPhase=this$static.m_world.m_contactManager.m_broadPhase;$destroyProxy_1(fixture,broadPhase)}fixture.m_shape=null;fixture.m_body=null;fixture.m_next=null;--this$static.m_fixtureCount;$resetMassData(this$static)}
function $resetMassData(this$static){var center,f,massData,oldCenter,temp;this$static.m_mass=0;this$static.m_invMass=0;this$static.m_I=0;this$static.m_invI=0;$setZero(this$static.m_sweep.localCenter);if(this$static.m_type==($clinit_21(),STATIC)||this$static.m_type==KINEMATIC){$set_12(this$static.m_sweep.c,this$static.m_xf.position);$set_12(this$static.m_sweep.c0,this$static.m_xf.position);return}center=dynamicCast($pop_1(this$static.m_world.pool.vecs),28);center.x=0;center.y=0;temp=dynamicCast($pop_1(this$static.m_world.pool.vecs),28);massData=this$static.pmd;for(f=this$static.m_fixtureList;f;f=f.m_next){if(f.m_density==0){continue}f.m_shape.computeMass(massData,f.m_density);this$static.m_mass+=massData.mass;$mulLocal($set_12(temp,massData.center),massData.mass);center.x+=temp.x;center.y+=temp.y;this$static.m_I+=massData.I}if(this$static.m_mass>0){this$static.m_invMass=1/this$static.m_mass;$mulLocal(center,this$static.m_invMass)}else{this$static.m_mass=1;this$static.m_invMass=1}if(this$static.m_I>0&&(this$static.m_flags&16)==0){this$static.m_I-=this$static.m_mass*(center.x*center.x+center.y*center.y);this$static.m_invI=1/this$static.m_I}else{this$static.m_I=0;this$static.m_invI=0}oldCenter=dynamicCast($pop_1(this$static.m_world.pool.vecs),28);$set_12(oldCenter,this$static.m_sweep.c);$set_12(this$static.m_sweep.localCenter,center);mulToOut_0(this$static.m_xf,this$static.m_sweep.localCenter,this$static.m_sweep.c0);$set_12(this$static.m_sweep.c,this$static.m_sweep.c0);$subLocal($set_12(temp,this$static.m_sweep.c),oldCenter);crossToOut_0(this$static.m_angularVelocity,temp,temp);$addLocal(this$static.m_linearVelocity,temp);this$static.m_world.pool.vecs.index-=3}
function $setActive(this$static,flag){var broadPhase,ce,ce0,f;if(flag==((this$static.m_flags&32)==32)){return}if(flag){this$static.m_flags|=32;broadPhase=this$static.m_world.m_contactManager.m_broadPhase;for(f=this$static.m_fixtureList;f;f=f.m_next){$createProxy_1(f,broadPhase,this$static.m_xf)}}else{this$static.m_flags&=-33;broadPhase=this$static.m_world.m_contactManager.m_broadPhase;for(f=this$static.m_fixtureList;f;f=f.m_next){$destroyProxy_1(f,broadPhase)}ce=this$static.m_contactList;while(ce){ce0=ce;ce=ce.next;$destroy(this$static.m_world.m_contactManager,ce0.contact)}this$static.m_contactList=null}}
function $setAngularVelocity(this$static,w){if(this$static.m_type==($clinit_21(),STATIC)){return}w*w>0&&$setAwake(this$static,true);this$static.m_angularVelocity=w}
function $setAwake(this$static,flag){if(flag){if((this$static.m_flags&2)==0){this$static.m_flags|=2;this$static.m_sleepTime=0}}else{this$static.m_flags&=-3;this$static.m_sleepTime=0;$setZero(this$static.m_linearVelocity);this$static.m_angularVelocity=0;$setZero(this$static.m_force);this$static.m_torque=0}}
function $setLinearVelocity(this$static,v){if(this$static.m_type==($clinit_21(),STATIC)){return}v.x*v.x+v.y*v.y>0&&$setAwake(this$static,true);$set_12(this$static.m_linearVelocity,v)}
function $shouldCollide_0(this$static,other){if(this$static.m_type!=($clinit_21(),DYNAMIC)&&other.m_type!=DYNAMIC){return false}return true}
function $synchronizeFixtures(this$static){var broadPhase,f,xf1;xf1=this$static.pxf;$set_7(xf1.R,this$static.m_sweep.a0);mulToOut(xf1.R,this$static.m_sweep.localCenter,xf1.position);$addLocal($mulLocal(xf1.position,-1),this$static.m_sweep.c0);broadPhase=this$static.m_world.m_contactManager.m_broadPhase;for(f=this$static.m_fixtureList;f;f=f.m_next){$synchronize(f,broadPhase,xf1,this$static.m_xf)}}
function $synchronizeTransform(this$static){var c,s;c=($clinit_18(),Math.cos(this$static.m_sweep.a_0));s=Math.sin(this$static.m_sweep.a_0);this$static.m_xf.R.m11=c;this$static.m_xf.R.m21=-s;this$static.m_xf.R.m12=s;this$static.m_xf.R.m22=c;this$static.m_xf.position.x=this$static.m_xf.R.m11*this$static.m_sweep.localCenter.x+this$static.m_xf.R.m21*this$static.m_sweep.localCenter.y;this$static.m_xf.position.y=this$static.m_xf.R.m12*this$static.m_sweep.localCenter.x+this$static.m_xf.R.m22*this$static.m_sweep.localCenter.y;this$static.m_xf.position.x*=-1;this$static.m_xf.position.y*=-1;this$static.m_xf.position.x+=this$static.m_sweep.c.x;this$static.m_xf.position.y+=this$static.m_sweep.c.y}
function Body_0(bd,world){this.m_xf=new Transform_0();this.m_sweep=new Sweep_0();this.m_linearVelocity=new Vec2_0();this.m_force=new Vec2_0();this.fixDef=new FixtureDef_0();this.pmd=new MassData_0();this.pxf=new Transform_0();this.m_flags=0;bd.bullet&&(this.m_flags|=8);bd.fixedRotation&&(this.m_flags|=16);bd.allowSleep&&(this.m_flags|=4);bd.awake&&(this.m_flags|=2);bd.active&&(this.m_flags|=32);this.m_world=world;$set_12(this.m_xf.position,bd.position);$set_7(this.m_xf.R,bd.angle);$setZero(this.m_sweep.localCenter);this.m_sweep.a0=this.m_sweep.a_0=bd.angle;mulToOut_0(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c0);$set_12(this.m_sweep.c,this.m_sweep.c0);this.m_contactList=null;this.m_prev=null;this.m_next=null;$set_12(this.m_linearVelocity,bd.linearVelocity);this.m_angularVelocity=bd.angularVelocity;this.m_linearDamping=bd.linearDamping;this.m_angularDamping=bd.angularDamping;$setZero(this.m_force);this.m_torque=0;this.m_sleepTime=0;this.m_type=bd.type;if(this.m_type==($clinit_21(),DYNAMIC)){this.m_mass=1;this.m_invMass=1}else{this.m_mass=0;this.m_invMass=0}this.m_I=0;this.m_invI=0;this.m_fixtureList=null;this.m_fixtureCount=0}
function Body(){}
_=Body_0.prototype=Body.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_Body_2_classLit};_.castableTypeMap$={31:1};_.m_I=0;_.m_angularDamping=0;_.m_angularVelocity=0;_.m_contactList=null;_.m_fixtureCount=0;_.m_fixtureList=null;_.m_flags=0;_.m_invI=0;_.m_invMass=0;_.m_linearDamping=0;_.m_mass=0;_.m_next=null;_.m_prev=null;_.m_sleepTime=0;_.m_torque=0;_.m_type=null;_.m_world=null;function BodyDef_0(){this.position=new Vec2_0();this.angle=0;this.linearVelocity=new Vec2_0();this.angularVelocity=0;this.linearDamping=0;this.angularDamping=0;this.allowSleep=true;this.awake=true;this.fixedRotation=false;this.bullet=false;this.type=($clinit_21(),STATIC);this.active=true}
function BodyDef(){}
_=BodyDef_0.prototype=BodyDef.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_BodyDef_2_classLit};_.castableTypeMap$={};_.active=false;_.allowSleep=false;_.angle=0;_.angularDamping=0;_.angularVelocity=0;_.awake=false;_.bullet=false;_.fixedRotation=false;_.linearDamping=0;_.linearVelocity=null;_.position=null;_.type=null;function $clinit_21(){$clinit_21=nullMethod;STATIC=new BodyType_0('STATIC',0);KINEMATIC=new BodyType_0('KINEMATIC',1);DYNAMIC=new BodyType_0('DYNAMIC',2);$VALUES_5=initValues(_3Lorg_jbox2d_dynamics_BodyType_2_classLit,{12:1,45:1},30,[STATIC,KINEMATIC,DYNAMIC])}
function BodyType_0(enum$name,enum$ordinal){this.name_0=enum$name;this.ordinal=enum$ordinal}
function values_5(){$clinit_21();return $VALUES_5}
function BodyType(){}
_=BodyType_0.prototype=BodyType.prototype=new Enum();_.getClass$=function(){return Lorg_jbox2d_dynamics_BodyType_2_classLit};_.castableTypeMap$={12:1,14:1,15:1,30:1};var $VALUES_5,DYNAMIC,KINEMATIC,STATIC;function $addPair(this$static,proxyUserDataA,proxyUserDataB){var bodyA,bodyB,c,edge,fA,fB,fixtureA,fixtureB;bodyA=proxyUserDataA.m_body;bodyB=proxyUserDataB.m_body;if(bodyA==bodyB){return}edge=bodyB.m_contactList;while(edge){if(edge.other==bodyA){fA=edge.contact.m_fixtureA;fB=edge.contact.m_fixtureB;if(fA==proxyUserDataA&&fB==proxyUserDataB){return}if(fA==proxyUserDataB&&fB==proxyUserDataA){return}}edge=edge.next}if(!$shouldCollide_0(bodyB,bodyA)){return}if(!!this$static.m_contactFilter&&!$shouldCollide(proxyUserDataA,proxyUserDataB)){return}c=$popContact(this$static.pool,proxyUserDataA,proxyUserDataB);fixtureA=c.m_fixtureA;fixtureB=c.m_fixtureB;bodyA=fixtureA.m_body;bodyB=fixtureB.m_body;c.m_prev=null;c.m_next=this$static.m_contactList;!!this$static.m_contactList&&(this$static.m_contactList.m_prev=c);this$static.m_contactList=c;c.m_nodeA.contact=c;c.m_nodeA.other=bodyB;c.m_nodeA.prev=null;c.m_nodeA.next=bodyA.m_contactList;!!bodyA.m_contactList&&(bodyA.m_contactList.prev=c.m_nodeA);bodyA.m_contactList=c.m_nodeA;c.m_nodeB.contact=c;c.m_nodeB.other=bodyA;c.m_nodeB.prev=null;c.m_nodeB.next=bodyB.m_contactList;!!bodyB.m_contactList&&(bodyB.m_contactList.prev=c.m_nodeB);bodyB.m_contactList=c.m_nodeB;++this$static.m_contactCount}
function $collide(this$static){var bodyA,bodyB,c,cNuke,fixtureA,fixtureB,overlap,proxyIdA,proxyIdB;c=this$static.m_contactList;while(c){fixtureA=c.m_fixtureA;fixtureB=c.m_fixtureB;bodyA=fixtureA.m_body;bodyB=fixtureB.m_body;if((bodyA.m_flags&2)!=2&&(bodyB.m_flags&2)!=2){c=c.m_next;continue}if((c.m_flags&8)==8){if(!$shouldCollide_0(bodyB,bodyA)){cNuke=c;c=c.m_next;$destroy(this$static,cNuke);continue}if(!!this$static.m_contactFilter&&!$shouldCollide(fixtureA,fixtureB)){cNuke=c;c=c.m_next;$destroy(this$static,cNuke);continue}c.m_flags&=-9}proxyIdA=fixtureA.m_proxy;proxyIdB=fixtureB.m_proxy;overlap=$testOverlap_0(proxyIdA,proxyIdB);if(!overlap){cNuke=c;c=c.m_next;$destroy(this$static,cNuke);continue}$update_0(c,this$static.m_contactListener);c=c.m_next}}
function $destroy(this$static,c){var bodyA,bodyB,fixtureA,fixtureB;fixtureA=c.m_fixtureA;fixtureB=c.m_fixtureB;bodyA=fixtureA.m_body;bodyB=fixtureB.m_body;!!this$static.m_contactListener&&(c.m_flags&2)==2&&$endContact(c);!!c.m_prev&&(c.m_prev.m_next=c.m_next);!!c.m_next&&(c.m_next.m_prev=c.m_prev);c==this$static.m_contactList&&(this$static.m_contactList=c.m_next);!!c.m_nodeA.prev&&(c.m_nodeA.prev.next=c.m_nodeA.next);!!c.m_nodeA.next&&(c.m_nodeA.next.prev=c.m_nodeA.prev);c.m_nodeA==bodyA.m_contactList&&(bodyA.m_contactList=c.m_nodeA.next);!!c.m_nodeB.prev&&(c.m_nodeB.prev.next=c.m_nodeB.next);!!c.m_nodeB.next&&(c.m_nodeB.next.prev=c.m_nodeB.prev);c.m_nodeB==bodyB.m_contactList&&(bodyB.m_contactList=c.m_nodeB.next);$pushContact(this$static.pool,c);--this$static.m_contactCount}
function $findNewContacts(this$static){$updatePairs(this$static.m_broadPhase,this$static)}
function ContactManager_0(argPool){this.m_contactList=null;this.m_contactCount=0;this.m_contactFilter=new ContactFilter_0();this.m_contactListener=null;this.m_broadPhase=new BroadPhase_0();this.pool=argPool}
function ContactManager(){}
_=ContactManager_0.prototype=ContactManager.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_ContactManager_2_classLit};_.castableTypeMap$={};_.m_broadPhase=null;_.m_contactCount=0;_.m_contactFilter=null;_.m_contactList=null;_.m_contactListener=null;_.pool=null;function $set_13(this$static,argOther){this$static.categoryBits=argOther.categoryBits;this$static.maskBits=argOther.maskBits;this$static.groupIndex=argOther.groupIndex}
function Filter_0(){}
function Filter(){}
_=Filter_0.prototype=Filter.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_Filter_2_classLit};_.castableTypeMap$={};_.categoryBits=0;_.groupIndex=0;_.maskBits=0;function $createProxy_1(this$static,broadPhase,xf){this$static.m_shape.computeAABB(this$static.m_aabb,xf);this$static.m_proxy=$createProxy(broadPhase,this$static.m_aabb,this$static)}
function $destroyProxy_1(this$static,broadPhase){if(!this$static.m_proxy){return}$destroyProxy(broadPhase,this$static.m_proxy);this$static.m_proxy=null}
function $getMassData(this$static,massData){this$static.m_shape.computeMass(massData,this$static.m_density)}
function $synchronize(this$static,broadPhase,transform1,transform2){var disp;if(!this$static.m_proxy){return}this$static.m_shape.computeAABB(this$static.pool1,transform1);this$static.m_shape.computeAABB(this$static.pool2,transform2);this$static.m_aabb.lowerBound.x=this$static.pool1.lowerBound.x<this$static.pool2.lowerBound.x?this$static.pool1.lowerBound.x:this$static.pool2.lowerBound.x;this$static.m_aabb.lowerBound.y=this$static.pool1.lowerBound.y<this$static.pool2.lowerBound.y?this$static.pool1.lowerBound.y:this$static.pool2.lowerBound.y;this$static.m_aabb.upperBound.x=this$static.pool1.upperBound.x>this$static.pool2.upperBound.x?this$static.pool1.upperBound.x:this$static.pool2.upperBound.x;this$static.m_aabb.upperBound.y=this$static.pool1.upperBound.y>this$static.pool2.upperBound.y?this$static.pool1.upperBound.y:this$static.pool2.upperBound.y;disp=this$static.pool1.lowerBound;disp.x=transform2.position.x-transform1.position.x;disp.y=transform2.position.y-transform1.position.y;$moveProxy(broadPhase,this$static.m_proxy,this$static.m_aabb,disp)}
function Fixture_0(){this.m_aabb=new AABB_0();this.pool1=new AABB_0();this.pool2=new AABB_0();this.m_userData=null;this.m_body=null;this.m_next=null;this.m_proxy=null;this.m_shape=null;this.m_filter=new Filter_0()}
function Fixture(){}
_=Fixture_0.prototype=Fixture.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_Fixture_2_classLit};_.castableTypeMap$={};_.m_body=null;_.m_density=0;_.m_filter=null;_.m_friction=0;_.m_isSensor=false;_.m_next=null;_.m_proxy=null;_.m_restitution=0;_.m_shape=null;_.m_userData=null;function FixtureDef_0(){this.shape=null;this.userData=null;this.friction=0.20000000298023224;this.restitution=0;this.density=0;this.filter=new Filter_0();this.filter.categoryBits=1;this.filter.maskBits=65535;this.filter.groupIndex=0;this.isSensor=false}
function FixtureDef(){}
_=FixtureDef_0.prototype=FixtureDef.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_FixtureDef_2_classLit};_.castableTypeMap$={};_.density=0;_.filter=null;_.friction=0;_.isSensor=false;_.restitution=0;_.shape=null;_.userData=null;function $add_2(this$static,body){this$static.m_bodies[this$static.m_bodyCount++]=body}
function $add_3(this$static,contact){setCheck(this$static.m_contacts,this$static.m_contactCount++,contact)}
function $clear_0(this$static){this$static.m_bodyCount=0;this$static.m_contactCount=0;this$static.m_jointCount=0}
function $init_0(this$static,bodyCapacity,contactCapacity,jointCapacity,listener){var i;this$static.m_bodyCapacity=bodyCapacity;this$static.m_contactCapacity=contactCapacity;this$static.m_jointCapacity=jointCapacity;this$static.m_bodyCount=0;this$static.m_contactCount=0;this$static.m_jointCount=0;this$static.m_listener=listener;(this$static.m_bodies==null||this$static.m_bodyCapacity>this$static.m_bodies.length)&&(this$static.m_bodies=initDim(_3Lorg_jbox2d_dynamics_Body_2_classLit,{12:1,45:1},31,this$static.m_bodyCapacity,0));(this$static.m_joints==null||this$static.m_jointCapacity>this$static.m_joints.length)&&(this$static.m_joints=initDim(_3Lorg_jbox2d_dynamics_joints_Joint_2_classLit,{12:1,45:1},42,this$static.m_jointCapacity,0));(this$static.m_contacts==null||this$static.m_contactCapacity>this$static.m_contacts.length)&&(this$static.m_contacts=initDim(_3Lorg_jbox2d_dynamics_contacts_Contact_2_classLit,{12:1,45:1},38,this$static.m_contactCapacity,0));if(this$static.m_velocities==null||this$static.m_bodyCapacity>this$static.m_velocities.length){this$static.m_velocities=initDim(_3Lorg_jbox2d_dynamics_Velocity_2_classLit,{12:1,45:1},33,this$static.m_bodyCapacity,0);for(i=0;i<this$static.m_velocities.length;++i){this$static.m_velocities[i]=new Velocity_0()}}if(this$static.m_positions==null||this$static.m_bodyCapacity>this$static.m_positions.length){this$static.m_positions=initDim(_3Lorg_jbox2d_dynamics_Position_2_classLit,{12:1,45:1},32,this$static.m_bodyCapacity,0);for(i=0;i<this$static.m_positions.length;++i){this$static.m_positions[i]=new Position_0()}}}
function $report(this$static,constraints){var cc,i,j;if(!this$static.m_listener){return}for(i=0;i<this$static.m_contactCount;++i){cc=constraints[i];for(j=0;j<cc.pointCount;++j){this$static.impulse.normalImpulses[j]=cc.points[j].normalImpulse;this$static.impulse.tangentImpulses[j]=cc.points[j].tangentImpulse}}}
function $solve(this$static,step,gravity,allowSleep){var a_0,a1,a2,angTolSqr,b,b1,bodyA,bodyB,contactsOkay,fixtureA,fixtureB,i,i1,i2,j,jointOkay,jointsOkay,linTolSqr,minSleepTime,nonStatic,ratio,rotation,temp;for(i=0;i<this$static.m_bodyCount;++i){b=this$static.m_bodies[i];if(b.m_type!=($clinit_21(),DYNAMIC)){continue}b.m_linearVelocity.x+=(b.m_force.x*b.m_invMass+gravity.x)*step.dt;b.m_linearVelocity.y+=(b.m_force.y*b.m_invMass+gravity.y)*step.dt;b.m_angularVelocity+=step.dt*b.m_invI*b.m_torque;a_0=1-step.dt*b.m_linearDamping;a1=0>(a_0<1?a_0:1)?0:a_0<1?a_0:1;b.m_linearVelocity.x*=a1;b.m_linearVelocity.y*=a1;a2=1-step.dt*b.m_angularDamping;b1=a2<1?a2:1;b.m_angularVelocity*=0>b1?0:b1}i1=-1;for(i2=0;i2<this$static.m_contactCount;++i2){fixtureA=this$static.m_contacts[i2].m_fixtureA;fixtureB=this$static.m_contacts[i2].m_fixtureB;bodyA=fixtureA.m_body;bodyB=fixtureB.m_body;nonStatic=bodyA.m_type!=($clinit_21(),STATIC)&&bodyB.m_type!=STATIC;if(nonStatic){++i1;temp=this$static.m_contacts[i1];setCheck(this$static.m_contacts,i1,this$static.m_contacts[i2]);setCheck(this$static.m_contacts,i2,temp)}}$init_2(this$static.contactSolver,this$static.m_contacts,this$static.m_contactCount,step.dtRatio);$warmStart(this$static.contactSolver);for(i=0;i<this$static.m_jointCount;++i){$Null.nullMethod()}for(i=0;i<step.velocityIterations;++i){for(j=0;j<this$static.m_jointCount;++j){$Null.nullMethod()}$solveVelocityConstraints(this$static.contactSolver)}$storeImpulses(this$static.contactSolver);for(i=0;i<this$static.m_bodyCount;++i){b=this$static.m_bodies[i];if(b.m_type==($clinit_21(),STATIC)){continue}$mulLocal($set_12(this$static.translation,b.m_linearVelocity),step.dt);if(dot_0(this$static.translation,this$static.translation)>($clinit_19(),4)){ratio=2/$length(this$static.translation);$mulLocal(b.m_linearVelocity,ratio)}rotation=step.dt*b.m_angularVelocity;if(rotation*rotation>2.4674012660980225){ratio=1.5707963705062866/(rotation<=0?0-rotation:rotation);b.m_angularVelocity*=ratio}$set_12(b.m_sweep.c0,b.m_sweep.c);b.m_sweep.a0=b.m_sweep.a_0;$mulLocal($set_12(this$static.temp,b.m_linearVelocity),step.dt);$addLocal(b.m_sweep.c,this$static.temp);b.m_sweep.a_0+=step.dt*b.m_angularVelocity;$synchronizeTransform(b)}for(i=0;i<step.positionIterations;++i){contactsOkay=$solvePositionConstraints(this$static.contactSolver,($clinit_19(),0.20000000298023224));jointsOkay=true;for(j=0;j<this$static.m_jointCount;++j){jointOkay=$Null.nullMethod($clinit_19());jointsOkay=jointsOkay&&jointOkay}if(contactsOkay&&jointsOkay){break}}$report(this$static,this$static.contactSolver.m_constraints);if(allowSleep){minSleepTime=3.4028234663852886E38;linTolSqr=($clinit_19(),0.009999999776482582)*0.009999999776482582;angTolSqr=0.03490658849477768*0.03490658849477768;for(i=0;i<this$static.m_bodyCount;++i){b=this$static.m_bodies[i];if(b.m_type==($clinit_21(),STATIC)){continue}if((b.m_flags&4)==0){b.m_sleepTime=0;minSleepTime=0}if((b.m_flags&4)==0||b.m_angularVelocity*b.m_angularVelocity>angTolSqr||dot_0(b.m_linearVelocity,b.m_linearVelocity)>linTolSqr){b.m_sleepTime=0;minSleepTime=0}else{b.m_sleepTime+=step.dt;minSleepTime=min_0(minSleepTime,b.m_sleepTime)}}if(minSleepTime>=0.5){for(i=0;i<this$static.m_bodyCount;++i){b=this$static.m_bodies[i];$setAwake(b,false)}}}}
function Island_0(){this.temp=new Vec2_0();this.contactSolver=new ContactSolver_0();this.translation=new Vec2_0();this.impulse=new ContactImpulse_0()}
function Island(){}
_=Island_0.prototype=Island.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_Island_2_classLit};_.castableTypeMap$={};_.m_bodies=null;_.m_bodyCapacity=0;_.m_bodyCount=0;_.m_contactCapacity=0;_.m_contactCount=0;_.m_contacts=null;_.m_jointCapacity=0;_.m_jointCount=0;_.m_joints=null;_.m_listener=null;_.m_positions=null;_.m_velocities=null;function Position_0(){new Vec2_0()}
function Position(){}
_=Position_0.prototype=Position.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_Position_2_classLit};_.castableTypeMap$={32:1};function TimeStep_0(){}
function TimeStep(){}
_=TimeStep_0.prototype=TimeStep.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_TimeStep_2_classLit};_.castableTypeMap$={};_.dt=0;_.dtRatio=0;_.inv_dt=0;_.positionIterations=0;_.velocityIterations=0;function Velocity_0(){new Vec2_0()}
function Velocity(){}
_=Velocity_0.prototype=Velocity.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_Velocity_2_classLit};_.castableTypeMap$={33:1};function $clinit_22(){$clinit_22=nullMethod;new Integer_0()}
function $addType(this$static,creator,type1,type2){var register,register2;register=new ContactRegister_0();register.creator=creator;register.primary=true;this$static.contactStacks[type1.intValue][type2.intValue]=register;if(type1!=type2){register2=new ContactRegister_0();register2.creator=creator;register2.primary=false;this$static.contactStacks[type2.intValue][type1.intValue]=register2}}
function $clearForces(this$static){var body;for(body=this$static.m_bodyList;body;body=body.m_next){$setZero(body.m_force);body.m_torque=0}}
function $createBody(this$static,def){var b;if((this$static.m_flags&2)==2){return null}b=new Body_0(def,this$static);b.m_prev=null;b.m_next=this$static.m_bodyList;!!this$static.m_bodyList&&(this$static.m_bodyList.m_prev=b);this$static.m_bodyList=b;++this$static.m_bodyCount;return b}
function $destroyBody(this$static,body){var ce,ce0,f,f0;if((this$static.m_flags&2)==2){return}ce=body.m_contactList;while(ce){ce0=ce;ce=ce.next;$destroy(this$static.m_contactManager,ce0.contact)}body.m_contactList=null;f=body.m_fixtureList;while(f){f0=f;f=f.m_next;$destroyProxy_1(f0,this$static.m_contactManager.m_broadPhase);f0.m_shape=null}body.m_fixtureList=null;body.m_fixtureCount=0;!!body.m_prev&&(body.m_prev.m_next=body.m_next);!!body.m_next&&(body.m_next.m_prev=body.m_prev);body==this$static.m_bodyList&&(this$static.m_bodyList=body.m_next);--this$static.m_bodyCount}
function $popContact(this$static,fixtureA,fixtureB){var c,creator,reg,type1,type2;type1=fixtureA.m_shape.m_type;type2=fixtureB.m_shape.m_type;reg=this$static.contactStacks[type1.intValue][type2.intValue];creator=reg.creator;if(creator){if(reg.primary){c=$pop_0(creator);c.init(fixtureA,fixtureB);return c}else{c=$pop_0(creator);c.init(fixtureB,fixtureA);return c}}else{return null}}
function $pushContact(this$static,contact){var creator,type1,type2;if(contact.m_manifold.pointCount>0){$setAwake(contact.m_fixtureA.m_body,true);$setAwake(contact.m_fixtureB.m_body,true)}type1=contact.m_fixtureA.m_shape.m_type;type2=contact.m_fixtureB.m_shape.m_type;creator=this$static.contactStacks[type1.intValue][type2.intValue].creator;setCheck(creator.stack_0,--creator.index,contact)}
function $solve_0(this$static,step){var b,c,ce,contact,i,other,seed,sensorA,sensorB,stackCount,stackSize;$init_0(this$static.island,this$static.m_bodyCount,this$static.m_contactManager.m_contactCount,this$static.m_jointCount,this$static.m_contactManager.m_contactListener);for(b=this$static.m_bodyList;b;b=b.m_next){b.m_flags&=-2}for(c=this$static.m_contactManager.m_contactList;c;c=c.m_next){c.m_flags&=-2}stackSize=this$static.m_bodyCount;this$static.stack_0.length<stackSize&&(this$static.stack_0=initDim(_3Lorg_jbox2d_dynamics_Body_2_classLit,{12:1,45:1},31,stackSize,0));for(seed=this$static.m_bodyList;seed;seed=seed.m_next){if((seed.m_flags&1)==1){continue}if((seed.m_flags&2)!=2||(seed.m_flags&32)!=32){continue}if(seed.m_type==($clinit_21(),STATIC)){continue}$clear_0(this$static.island);stackCount=0;this$static.stack_0[stackCount++]=seed;seed.m_flags|=1;while(stackCount>0){b=this$static.stack_0[--stackCount];$add_2(this$static.island,b);$setAwake(b,true);if(b.m_type==STATIC){continue}for(ce=b.m_contactList;ce;ce=ce.next){contact=ce.contact;if((contact.m_flags&1)==1){continue}if((contact.m_flags&4)!=4||(contact.m_flags&2)!=2){continue}sensorA=contact.m_fixtureA.m_isSensor;sensorB=contact.m_fixtureB.m_isSensor;if(sensorA||sensorB){continue}$add_3(this$static.island,contact);contact.m_flags|=1;other=ce.other;if((other.m_flags&1)==1){continue}this$static.stack_0[stackCount++]=other;other.m_flags|=1}}$solve(this$static.island,step,this$static.m_gravity,this$static.m_allowSleep);for(i=0;i<this$static.island.m_bodyCount;++i){b=this$static.island.m_bodies[i];b.m_type==STATIC&&(b.m_flags&=-2)}}for(b=this$static.m_bodyList;b;b=b.m_next){if((b.m_flags&1)==0){continue}if(b.m_type==($clinit_21(),STATIC)){continue}$synchronizeFixtures(b)}$findNewContacts(this$static.m_contactManager)}
function $solveTOI(this$static){var body,c;for(c=this$static.m_contactManager.m_contactList;c;c=c.m_next){c.m_flags|=4;c.m_toiCount=0}for(body=this$static.m_bodyList;body;body=body.m_next){(body.m_flags&1)==0||body.m_type==($clinit_21(),KINEMATIC)||body.m_type==($clinit_21(),STATIC)?(body.m_flags|=64):(body.m_flags&=-65)}for(body=this$static.m_bodyList;body;body=body.m_next){if((body.m_flags&64)==64){continue}if((body.m_flags&8)==8){continue}$solveTOI_0(this$static,body);body.m_flags|=64}for(body=this$static.m_bodyList;body;body=body.m_next){if((body.m_flags&64)==64){continue}if((body.m_flags&8)!=8){continue}$solveTOI_0(this$static,body);body.m_flags|=64}}
function $solveTOI_0(this$static,body){var bodyA,bodyB,bullet,ce,contact,contactsOkay,count,fixtureA,fixtureB,found,i,iter,other,toi,toiContact,toiOther,type;toiContact=null;toi=1;toiOther=null;iter=0;bullet=(body.m_flags&8)==8;do{count=0;found=false;for(ce=body.m_contactList;ce;ce=ce.next){if(ce.contact==toiContact){continue}other=ce.other;type=other.m_type;if(bullet){if((other.m_flags&64)==0){continue}if(type!=($clinit_21(),STATIC)&&(ce.contact.m_flags&16)!=0){continue}}else if(type==($clinit_21(),DYNAMIC)){continue}contact=ce.contact;if((contact.m_flags&4)!=4){continue}if(contact.m_toiCount>10){continue}fixtureA=contact.m_fixtureA;fixtureB=contact.m_fixtureB;if(fixtureA.m_isSensor||fixtureB.m_isSensor){continue}bodyA=fixtureA.m_body;bodyB=fixtureB.m_body;$set_2(this$static.toiInput.proxyA,fixtureA.m_shape);$set_2(this$static.toiInput.proxyB,fixtureB.m_shape);$set_8(this$static.toiInput.sweepA,bodyA.m_sweep);$set_8(this$static.toiInput.sweepB,bodyB.m_sweep);this$static.toiInput.tMax=toi;$timeOfImpact(this$static.pool.toi,this$static.toiOutput,this$static.toiInput);if(this$static.toiOutput.state==($clinit_15(),TOUCHING)&&this$static.toiOutput.t<toi){toiContact=contact;toi=this$static.toiOutput.t;toiOther=other;found=true}++count}++iter}while(found&&count>1&&iter<50);if(!toiContact){$advance_0(body,1);return}$set_8(this$static.backup,body.m_sweep);$advance_0(body,toi);$update_0(toiContact,this$static.m_contactManager.m_contactListener);if((toiContact.m_flags&4)!=4){$set_8(body.m_sweep,this$static.backup);$solveTOI_0(this$static,body)}++toiContact.m_toiCount;(this$static.m_contacts==null||this$static.m_contacts.length<($clinit_19(),32))&&(this$static.m_contacts=initDim(_3Lorg_jbox2d_dynamics_contacts_Contact_2_classLit,{12:1,45:1},38,($clinit_19(),32),0));count=0;for(ce=body.m_contactList;!!ce&&count<($clinit_19(),32);ce=ce.next){other=ce.other;type=other.m_type;if(type==($clinit_21(),DYNAMIC)){continue}contact=ce.contact;if((contact.m_flags&4)!=4){continue}fixtureA=contact.m_fixtureA;fixtureB=contact.m_fixtureB;if(fixtureA.m_isSensor||fixtureB.m_isSensor){continue}contact!=toiContact&&$update_0(contact,this$static.m_contactManager.m_contactListener);if((contact.m_flags&4)!=4){continue}if((contact.m_flags&2)!=2){continue}setCheck(this$static.m_contacts,count,contact);++count}$initialize_2(this$static.toiSolver,this$static.m_contacts,count,body);for(i=0;i<20;++i){contactsOkay=$solve_1(this$static.toiSolver);if(contactsOkay){break}}toiOther.m_type!=($clinit_21(),STATIC)&&(toiContact.m_flags|=16)}
function $step(this$static,dt){if((this$static.m_flags&1)==1){$findNewContacts(this$static.m_contactManager);this$static.m_flags&=-2}this$static.m_flags|=2;this$static.step.dt=dt;this$static.step.velocityIterations=3;this$static.step.positionIterations=3;dt>0?(this$static.step.inv_dt=1/dt):(this$static.step.inv_dt=0);this$static.step.dtRatio=this$static.m_inv_dt0*dt;$collide(this$static.m_contactManager);this$static.step.dt>0&&$solve_0(this$static,this$static.step);this$static.m_continuousPhysics&&this$static.step.dt>0&&$solveTOI(this$static);this$static.step.dt>0&&(this$static.m_inv_dt0=this$static.step.inv_dt);(this$static.m_flags&4)==4&&$clearForces(this$static);this$static.m_flags&=-3}
function World_0(gravity){$clinit_22();World_1.call(this,gravity,new WorldPool_0())}
function World_1(gravity,argPool){this.m_gravity=new Vec2_0();this.contactStacks=initDims([_3_3Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit,_3Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit],[{12:1,45:1},{12:1,45:1,46:1}],[46,37],[2,2],0,2,0);this.step=new TimeStep_0();new Transform_0();new Vec2_0();new Vec2_0();new WorldRayCastWrapper_0();new RayCastInput_0();this.island=new Island_0();this.stack_0=initDim(_3Lorg_jbox2d_dynamics_Body_2_classLit,{12:1,45:1},31,10,0);this.toiInput=new TimeOfImpact$TOIInput_0();this.toiOutput=new TimeOfImpact$TOIOutput_0();this.backup=new Sweep_0();this.toiSolver=new TOISolver_0();this.m_contacts=initDim(_3Lorg_jbox2d_dynamics_contacts_Contact_2_classLit,{12:1,45:1},38,($clinit_19(),32),0);new Vec2_0();new Vec2_0();new Vec2_0();new Vec2_0();this.pool=argPool;this.m_bodyList=null;this.m_bodyCount=0;this.m_jointCount=0;this.m_continuousPhysics=true;this.m_allowSleep=true;$set_12(this.m_gravity,gravity);this.m_flags=4;this.m_inv_dt0=0;this.m_contactManager=new ContactManager_0(this);$addType(this,this.pool.ccstack,($clinit_17(),CIRCLE),CIRCLE);$addType(this,this.pool.cpstack,POLYGON,CIRCLE);$addType(this,this.pool.pcstack,POLYGON,POLYGON)}
function World(){}
_=World_0.prototype=World.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_World_2_classLit};_.castableTypeMap$={};_.m_allowSleep=false;_.m_bodyCount=0;_.m_bodyList=null;_.m_contactManager=null;_.m_continuousPhysics=false;_.m_flags=0;_.m_inv_dt0=0;_.m_jointCount=0;_.pool=null;function WorldRayCastWrapper_0(){new RayCastOutput_0();new Vec2_0();new Vec2_0()}
function WorldRayCastWrapper(){}
_=WorldRayCastWrapper_0.prototype=WorldRayCastWrapper.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_WorldRayCastWrapper_2_classLit};_.castableTypeMap$={};function $clinit_23(){$clinit_23=nullMethod;tloldManifold=new TLManifold_0()}
function $init_1(this$static,fA,fB){this$static.m_flags=0;this$static.m_fixtureA=fA;this$static.m_fixtureB=fB;this$static.m_manifold.pointCount=0;this$static.m_prev=null;this$static.m_next=null;this$static.m_nodeA.contact=null;this$static.m_nodeA.prev=null;this$static.m_nodeA.next=null;this$static.m_nodeA.other=null;this$static.m_nodeB.contact=null;this$static.m_nodeB.prev=null;this$static.m_nodeB.next=null;this$static.m_nodeB.other=null;this$static.m_toiCount=0}
function $update_0(this$static,listener){var bodyA,bodyB,i,id2,j,mp1,mp2,oldManifold,sensor,sensorA,sensorB,shapeA,shapeB,touching,wasTouching,xfA,xfB;oldManifold=$get(tloldManifold);$set_4(oldManifold,this$static.m_manifold);this$static.m_flags|=4;wasTouching=(this$static.m_flags&2)==2;sensorA=this$static.m_fixtureA.m_isSensor;sensorB=this$static.m_fixtureB.m_isSensor;sensor=sensorA||sensorB;bodyA=this$static.m_fixtureA.m_body;bodyB=this$static.m_fixtureB.m_body;xfA=bodyA.m_xf;xfB=bodyB.m_xf;if(sensor){shapeA=this$static.m_fixtureA.m_shape;shapeB=this$static.m_fixtureB.m_shape;touching=$testOverlap(this$static.pool.collision,shapeA,shapeB,xfA,xfB);this$static.m_manifold.pointCount=0}else{this$static.evaluate(this$static.m_manifold,xfA,xfB);touching=this$static.m_manifold.pointCount>0;for(i=0;i<this$static.m_manifold.pointCount;++i){mp2=this$static.m_manifold.points[i];mp2.normalImpulse=0;mp2.tangentImpulse=0;id2=mp2.id;for(j=0;j<oldManifold.pointCount;++j){mp1=oldManifold.points[j];if($isEqual(mp1.id,id2)){mp2.normalImpulse=mp1.normalImpulse;mp2.tangentImpulse=mp1.tangentImpulse;break}}}if(touching!=wasTouching){$setAwake(bodyA,true);$setAwake(bodyB,true)}}touching?(this$static.m_flags|=2):(this$static.m_flags&=-3);if(!listener){return}!wasTouching&&touching&&$beginContact(this$static);wasTouching&&!touching&&$endContact(this$static)}
function Contact_0(argPool){this.m_fixtureA=null;this.m_fixtureB=null;this.m_nodeA=new ContactEdge_0();this.m_nodeB=new ContactEdge_0();this.m_manifold=new Manifold_0();this.pool=argPool}
function Contact(){}
_=Contact.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_contacts_Contact_2_classLit};_.init=function(fA,fB){$init_1(this,fA,fB)};_.castableTypeMap$={38:1};_.m_fixtureA=null;_.m_fixtureB=null;_.m_flags=0;_.m_manifold=null;_.m_next=null;_.m_nodeA=null;_.m_nodeB=null;_.m_prev=null;_.m_toiCount=0;_.pool=null;var tloldManifold;function CircleContact_0(argPool){$clinit_23();Contact_0.call(this,argPool)}
function CircleContact(){}
_=CircleContact_0.prototype=CircleContact.prototype=new Contact();_.evaluate=function(manifold,xfA,xfB){$collideCircles(this.pool.collision,manifold,dynamicCast(this.m_fixtureA.m_shape,56),xfA,dynamicCast(this.m_fixtureB.m_shape,56),xfB)};_.getClass$=function(){return Lorg_jbox2d_dynamics_contacts_CircleContact_2_classLit};_.init=function(fixtureA,fixtureB){$init_1(this,fixtureA,fixtureB)};_.castableTypeMap$={34:1,38:1};function ContactConstraint_0(){var i;this.points=initDim(_3Lorg_jbox2d_dynamics_contacts_ContactConstraintPoint_2_classLit,{12:1,45:1},35,($clinit_19(),2),0);for(i=0;i<2;++i){this.points[i]=new ContactConstraintPoint_0()}this.pointCount=0;this.localNormal=new Vec2_0();this.localPoint=new Vec2_0();this.normal=new Vec2_0();this.normalMass=new Mat22_0();this.K=new Mat22_0()}
function ContactConstraint(){}
_=ContactConstraint_0.prototype=ContactConstraint.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_contacts_ContactConstraint_2_classLit};_.castableTypeMap$={36:1};_.K=null;_.bodyA=null;_.bodyB=null;_.friction=0;_.localNormal=null;_.localPoint=null;_.manifold=null;_.normal=null;_.normalMass=null;_.pointCount=0;_.points=null;_.radius=0;_.type=null;function ContactConstraintPoint_0(){this.localPoint=new Vec2_0();this.rA=new Vec2_0();this.rB=new Vec2_0()}
function ContactConstraintPoint(){}
_=ContactConstraintPoint_0.prototype=ContactConstraintPoint.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_contacts_ContactConstraintPoint_2_classLit};_.castableTypeMap$={35:1};_.localPoint=null;_.normalImpulse=0;_.normalMass=0;_.rA=null;_.rB=null;_.tangentImpulse=0;_.tangentMass=0;_.velocityBias=0;function ContactEdge_0(){}
function ContactEdge(){}
_=ContactEdge_0.prototype=ContactEdge.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_contacts_ContactEdge_2_classLit};_.castableTypeMap$={};_.contact=null;_.next=null;_.other=null;_.prev=null;function ContactRegister_0(){}
function ContactRegister(){}
_=ContactRegister_0.prototype=ContactRegister.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit};_.castableTypeMap$={37:1};_.creator=null;_.primary=false;function $init_2(this$static,contacts,contactCount,impulseRatio){var a_0,bodyA,bodyB,cc,ccp,ccp1,ccp2,contact,cp,fixtureA,fixtureB,friction,i,invIA,invIB,invMassA,invMassB,j,k11,k12,k22,kNormal,kTangent,manifold,newConstraints,radiusA,radiusB,restitution,rn1A,rn1B,rn2A,rn2B,rnA,rnB,rtA,rtB,shapeA,shapeB,vA,vB,vRel,wA,wB;this$static.m_constraintCount=contactCount;if(this$static.m_constraints.length<=contactCount){newConstraints=initDim(_3Lorg_jbox2d_dynamics_contacts_ContactConstraint_2_classLit,{12:1,45:1},36,this$static.m_constraintCount*2,0);for(i=0;i<newConstraints.length;++i){i<this$static.m_constraints.length?(newConstraints[i]=this$static.m_constraints[i]):(newConstraints[i]=new ContactConstraint_0())}this$static.m_constraints=newConstraints}for(i=0;i<this$static.m_constraintCount;++i){contact=contacts[i];fixtureA=contact.m_fixtureA;fixtureB=contact.m_fixtureB;shapeA=fixtureA.m_shape;shapeB=fixtureB.m_shape;radiusA=shapeA.m_radius;radiusB=shapeB.m_radius;bodyA=fixtureA.m_body;bodyB=fixtureB.m_body;manifold=contact.m_manifold;friction=($clinit_19(),$clinit_18(),Math.sqrt(fixtureA.m_friction*fixtureB.m_friction));restitution=mixRestitution(fixtureA.m_restitution,fixtureB.m_restitution);vA=bodyA.m_linearVelocity;vB=bodyB.m_linearVelocity;wA=bodyA.m_angularVelocity;wB=bodyB.m_angularVelocity;$initialize_0(this$static.worldManifold,manifold,bodyA.m_xf,radiusA,bodyB.m_xf,radiusB);cc=this$static.m_constraints[i];cc.bodyA=bodyA;cc.bodyB=bodyB;cc.manifold=manifold;cc.normal.x=this$static.worldManifold.normal.x;cc.normal.y=this$static.worldManifold.normal.y;cc.pointCount=manifold.pointCount;cc.friction=friction;cc.localNormal.x=manifold.localNormal.x;cc.localNormal.y=manifold.localNormal.y;cc.localPoint.x=manifold.localPoint.x;cc.localPoint.y=manifold.localPoint.y;cc.radius=radiusA+radiusB;cc.type=manifold.type;for(j=0;j<cc.pointCount;++j){cp=manifold.points[j];ccp=cc.points[j];ccp.normalImpulse=impulseRatio*cp.normalImpulse;ccp.tangentImpulse=impulseRatio*cp.tangentImpulse;ccp.localPoint.x=cp.localPoint.x;ccp.localPoint.y=cp.localPoint.y;ccp.rA.x=this$static.worldManifold.points[j].x-bodyA.m_sweep.c.x;ccp.rA.y=this$static.worldManifold.points[j].y-bodyA.m_sweep.c.y;ccp.rB.x=this$static.worldManifold.points[j].x-bodyB.m_sweep.c.x;ccp.rB.y=this$static.worldManifold.points[j].y-bodyB.m_sweep.c.y;rnA=ccp.rA.x*cc.normal.y-ccp.rA.y*cc.normal.x;rnB=ccp.rB.x*cc.normal.y-ccp.rB.y*cc.normal.x;rnA*=rnA;rnB*=rnB;kNormal=bodyA.m_invMass+bodyB.m_invMass+bodyA.m_invI*rnA+bodyB.m_invI*rnB;ccp.normalMass=1/kNormal;this$static.tangent.x=cc.normal.y;this$static.tangent.y=-cc.normal.x;rtA=ccp.rA.x*this$static.tangent.y-ccp.rA.y*this$static.tangent.x;rtB=ccp.rB.x*this$static.tangent.y-ccp.rB.y*this$static.tangent.x;rtA*=rtA;rtB*=rtB;kTangent=bodyA.m_invMass+bodyB.m_invMass+bodyA.m_invI*rtA+bodyB.m_invI*rtB;ccp.tangentMass=1/kTangent;ccp.velocityBias=0;this$static.temp2.x=-wA*ccp.rA.y;this$static.temp2.y=wA*ccp.rA.x;this$static.temp1.x=-wB*ccp.rB.y+vB.x-vA.x-this$static.temp2.x;this$static.temp1.y=wB*ccp.rB.x+vB.y-vA.y-this$static.temp2.y;a_0=cc.normal;vRel=a_0.x*this$static.temp1.x+a_0.y*this$static.temp1.y;vRel<-1&&(ccp.velocityBias=-restitution*vRel)}if(cc.pointCount==2){ccp1=cc.points[0];ccp2=cc.points[1];invMassA=bodyA.m_invMass;invIA=bodyA.m_invI;invMassB=bodyB.m_invMass;invIB=bodyB.m_invI;rn1A=cross(ccp1.rA,cc.normal);rn1B=cross(ccp1.rB,cc.normal);rn2A=cross(ccp2.rA,cc.normal);rn2B=cross(ccp2.rB,cc.normal);k11=invMassA+invMassB+invIA*rn1A*rn1A+invIB*rn1B*rn1B;k22=invMassA+invMassB+invIA*rn2A*rn2A+invIB*rn2B*rn2B;k12=invMassA+invMassB+invIA*rn1A*rn2A+invIB*rn1B*rn2B;if(k11*k11<100*(k11*k22-k12*k12)){cc.K.m11=k11;cc.K.m12=k12;cc.K.m21=k12;cc.K.m22=k22;cc.normalMass.m11=cc.K.m11;cc.normalMass.m12=cc.K.m12;cc.normalMass.m21=cc.K.m21;cc.normalMass.m22=cc.K.m22;$invertLocal(cc.normalMass)}else{cc.pointCount=1}}}}
function $solvePositionConstraints(this$static,baumgarte){var C,K,bodyA,bodyB,c,i,impulse,invIA,invIB,invMassA,invMassB,j,minSeparation,normal,point,psm,rnA,rnB,separation;minSeparation=0;for(i=0;i<this$static.m_constraintCount;++i){c=this$static.m_constraints[i];bodyA=c.bodyA;bodyB=c.bodyB;invMassA=bodyA.m_mass*bodyA.m_invMass;invIA=bodyA.m_mass*bodyA.m_invI;invMassB=bodyB.m_mass*bodyB.m_invMass;invIB=bodyB.m_mass*bodyB.m_invI;for(j=0;j<c.pointCount;++j){psm=this$static.psolver;$initialize_1(psm,c,j);normal=psm.normal;point=psm.point;separation=psm.separation;$subLocal($set_12(this$static.rA,point),bodyA.m_sweep.c);$subLocal($set_12(this$static.rB,point),bodyB.m_sweep.c);minSeparation=($clinit_18(),minSeparation<separation?minSeparation:separation);C=clamp(baumgarte*(separation+($clinit_19(),0.004999999888241291)),-0.20000000298023224,0);rnA=cross(this$static.rA,normal);rnB=cross(this$static.rB,normal);K=invMassA+invMassB+invIA*rnA*rnA+invIB*rnB*rnB;impulse=K>0?-C/K:0;$mulLocal($set_12(this$static.P,normal),impulse);$mulLocal($set_12(this$static.temp1,this$static.P),invMassA);$subLocal(bodyA.m_sweep.c,this$static.temp1);bodyA.m_sweep.a_0-=invIA*cross(this$static.rA,this$static.P);$synchronizeTransform(bodyA);$mulLocal($set_12(this$static.temp1,this$static.P),invMassB);$addLocal(bodyB.m_sweep.c,this$static.temp1);bodyB.m_sweep.a_0+=invIB*cross(this$static.rB,this$static.P);$synchronizeTransform(bodyB)}}return minSeparation>=-1.5*($clinit_19(),0.004999999888241291)}
function $solveVelocityConstraints(this$static){var Px,Py,a_0,a1,b,bodyA,bodyB,c,ccp,cp1,cp2,friction,i,invIA,invIB,invMassA,invMassB,j,lambda,maxFriction,newImpulse,vA,vB,vn,vn1,vn2,vt,wA,wB;for(i=0;i<this$static.m_constraintCount;++i){c=this$static.m_constraints[i];bodyA=c.bodyA;bodyB=c.bodyB;wA=bodyA.m_angularVelocity;wB=bodyB.m_angularVelocity;vA=bodyA.m_linearVelocity;vB=bodyB.m_linearVelocity;invMassA=bodyA.m_invMass;invIA=bodyA.m_invI;invMassB=bodyB.m_invMass;invIB=bodyB.m_invI;this$static.tangent.x=c.normal.y;this$static.tangent.y=-c.normal.x;friction=c.friction;for(j=0;j<c.pointCount;++j){ccp=c.points[j];a_0=ccp.rA;this$static.dv.x=-wB*ccp.rB.y+vB.x-vA.x+wA*a_0.y;this$static.dv.y=wB*ccp.rB.x+vB.y-vA.y-wA*a_0.x;vt=this$static.dv.x*this$static.tangent.x+this$static.dv.y*this$static.tangent.y;lambda=ccp.tangentMass*-vt;maxFriction=friction*ccp.normalImpulse;newImpulse=clamp(ccp.tangentImpulse+lambda,-maxFriction,maxFriction);lambda=newImpulse-ccp.tangentImpulse;Px=this$static.tangent.x*lambda;Py=this$static.tangent.y*lambda;vA.x-=Px*invMassA;vA.y-=Py*invMassA;wA-=invIA*(ccp.rA.x*Py-ccp.rA.y*Px);vB.x+=Px*invMassB;vB.y+=Py*invMassB;wB+=invIB*(ccp.rB.x*Py-ccp.rB.y*Px);ccp.tangentImpulse=newImpulse}if(c.pointCount==1){ccp=c.points[0];a1=ccp.rA;this$static.dv.x=-wB*ccp.rB.y+vB.x-vA.x+wA*a1.y;this$static.dv.y=wB*ccp.rB.x+vB.y-vA.y-wA*a1.x;b=c.normal;vn=this$static.dv.x*b.x+this$static.dv.y*b.y;lambda=-ccp.normalMass*(vn-ccp.velocityBias);a_0=ccp.normalImpulse+lambda;newImpulse=a_0>0?a_0:0;lambda=newImpulse-ccp.normalImpulse;Px=c.normal.x*lambda;Py=c.normal.y*lambda;vA.x-=Px*invMassA;vA.y-=Py*invMassA;wA-=invIA*(ccp.rA.x*Py-ccp.rA.y*Px);vB.x+=Px*invMassB;vB.y+=Py*invMassB;wB+=invIB*(ccp.rB.x*Py-ccp.rB.y*Px);ccp.normalImpulse=newImpulse}else{cp1=c.points[0];cp2=c.points[1];this$static.a_0.x=cp1.normalImpulse;this$static.a_0.y=cp2.normalImpulse;this$static.dv1.x=-wB*cp1.rB.y+vB.x-vA.x+wA*cp1.rA.y;this$static.dv1.y=wB*cp1.rB.x+vB.y-vA.y-wA*cp1.rA.x;this$static.dv2.x=-wB*cp2.rB.y+vB.x-vA.x+wA*cp2.rA.y;this$static.dv2.y=wB*cp2.rB.x+vB.y-vA.y-wA*cp2.rA.x;vn1=this$static.dv1.x*c.normal.x+this$static.dv1.y*c.normal.y;vn2=this$static.dv2.x*c.normal.x+this$static.dv2.y*c.normal.y;this$static.b.x=vn1-cp1.velocityBias;this$static.b.y=vn2-cp2.velocityBias;this$static.temp2.x=c.K.m11*this$static.a_0.x+c.K.m21*this$static.a_0.y;this$static.temp2.y=c.K.m12*this$static.a_0.x+c.K.m22*this$static.a_0.y;this$static.b.x-=this$static.temp2.x;this$static.b.y-=this$static.temp2.y;for(;;){mulToOut(c.normalMass,this$static.b,this$static.x);$mulLocal(this$static.x,-1);if(this$static.x.x>=0&&this$static.x.y>=0){$subLocal($set_12(this$static.d,this$static.x),this$static.a_0);$mulLocal($set_12(this$static.P1,c.normal),this$static.d.x);$mulLocal($set_12(this$static.P2,c.normal),this$static.d.y);$addLocal($set_12(this$static.temp1,this$static.P1),this$static.P2);$mulLocal($set_12(this$static.temp2,this$static.temp1),invMassA);$subLocal(vA,this$static.temp2);$mulLocal($set_12(this$static.temp2,this$static.temp1),invMassB);$addLocal(vB,this$static.temp2);wA-=invIA*(cross(cp1.rA,this$static.P1)+cross(cp2.rA,this$static.P2));wB+=invIB*(cross(cp1.rB,this$static.P1)+cross(cp2.rB,this$static.P2));cp1.normalImpulse=this$static.x.x;cp2.normalImpulse=this$static.x.y;break}this$static.x.x=-cp1.normalMass*this$static.b.x;this$static.x.y=0;vn2=c.K.m12*this$static.x.x+this$static.b.y;if(this$static.x.x>=0&&vn2>=0){$subLocal($set_12(this$static.d,this$static.x),this$static.a_0);$mulLocal($set_12(this$static.P1,c.normal),this$static.d.x);$mulLocal($set_12(this$static.P2,c.normal),this$static.d.y);$addLocal($set_12(this$static.temp1,this$static.P1),this$static.P2);$mulLocal($set_12(this$static.temp2,this$static.temp1),invMassA);$subLocal(vA,this$static.temp2);$mulLocal($set_12(this$static.temp2,this$static.temp1),invMassB);$addLocal(vB,this$static.temp2);wA-=invIA*(cross(cp1.rA,this$static.P1)+cross(cp2.rA,this$static.P2));wB+=invIB*(cross(cp1.rB,this$static.P1)+cross(cp2.rB,this$static.P2));cp1.normalImpulse=this$static.x.x;cp2.normalImpulse=this$static.x.y;break}this$static.x.x=0;this$static.x.y=-cp2.normalMass*this$static.b.y;vn1=c.K.m21*this$static.x.y+this$static.b.x;if(this$static.x.y>=0&&vn1>=0){$subLocal($set_12(this$static.d,this$static.x),this$static.a_0);$mulLocal($set_12(this$static.P1,c.normal),this$static.d.x);$mulLocal($set_12(this$static.P2,c.normal),this$static.d.y);$addLocal($set_12(this$static.temp1,this$static.P1),this$static.P2);$mulLocal($set_12(this$static.temp2,this$static.temp1),invMassA);$subLocal(vA,this$static.temp2);$mulLocal($set_12(this$static.temp2,this$static.temp1),invMassB);$addLocal(vB,this$static.temp2);wA-=invIA*(cross(cp1.rA,this$static.P1)+cross(cp2.rA,this$static.P2));wB+=invIB*(cross(cp1.rB,this$static.P1)+cross(cp2.rB,this$static.P2));cp1.normalImpulse=this$static.x.x;cp2.normalImpulse=this$static.x.y;break}this$static.x.x=0;this$static.x.y=0;vn1=this$static.b.x;vn2=this$static.b.y;if(vn1>=0&&vn2>=0){$subLocal($set_12(this$static.d,this$static.x),this$static.a_0);$mulLocal($set_12(this$static.P1,c.normal),this$static.d.x);$mulLocal($set_12(this$static.P2,c.normal),this$static.d.y);$addLocal($set_12(this$static.temp1,this$static.P1),this$static.P2);$mulLocal($set_12(this$static.temp2,this$static.temp1),invMassA);$subLocal(vA,this$static.temp2);$mulLocal($set_12(this$static.temp2,this$static.temp1),invMassB);$addLocal(vB,this$static.temp2);wA-=invIA*(cross(cp1.rA,this$static.P1)+cross(cp2.rA,this$static.P2));wB+=invIB*(cross(cp1.rB,this$static.P1)+cross(cp2.rB,this$static.P2));cp1.normalImpulse=this$static.x.x;cp2.normalImpulse=this$static.x.y;break}break}}$set_12(bodyA.m_linearVelocity,vA);bodyA.m_angularVelocity=wA;$set_12(bodyB.m_linearVelocity,vB);bodyB.m_angularVelocity=wB}}
function $storeImpulses(this$static){var c,i,j,m;for(i=0;i<this$static.m_constraintCount;++i){c=this$static.m_constraints[i];m=c.manifold;for(j=0;j<c.pointCount;++j){m.points[j].normalImpulse=c.points[j].normalImpulse;m.points[j].tangentImpulse=c.points[j].tangentImpulse}}}
function $warmStart(this$static){var Px,Py,bodyA,bodyB,c,ccp,i,invIA,invIB,invMassA,invMassB,j,normal;for(i=0;i<this$static.m_constraintCount;++i){c=this$static.m_constraints[i];bodyA=c.bodyA;bodyB=c.bodyB;invMassA=bodyA.m_invMass;invIA=bodyA.m_invI;invMassB=bodyB.m_invMass;invIB=bodyB.m_invI;normal=c.normal;crossToOut(normal,1,this$static.tangent);for(j=0;j<c.pointCount;++j){ccp=c.points[j];Px=ccp.normalImpulse*normal.x+ccp.tangentImpulse*this$static.tangent.x;Py=ccp.normalImpulse*normal.y+ccp.tangentImpulse*this$static.tangent.y;bodyA.m_angularVelocity-=invIA*(ccp.rA.x*Py-ccp.rA.y*Px);bodyA.m_linearVelocity.x-=Px*invMassA;bodyA.m_linearVelocity.y-=Py*invMassA;bodyB.m_angularVelocity+=invIB*(ccp.rB.x*Py-ccp.rB.y*Px);bodyB.m_linearVelocity.x+=Px*invMassB;bodyB.m_linearVelocity.y+=Py*invMassB}}}
function ContactSolver_0(){var i;this.worldManifold=new WorldManifold_0();this.tangent=new Vec2_0();this.temp1=new Vec2_0();this.temp2=new Vec2_0();this.P=new Vec2_0();this.dv=new Vec2_0();this.a_0=new Vec2_0();this.b=new Vec2_0();this.dv1=new Vec2_0();this.dv2=new Vec2_0();this.x=new Vec2_0();this.d=new Vec2_0();this.P1=new Vec2_0();this.P2=new Vec2_0();this.psolver=new PositionSolverManifold_0();this.rA=new Vec2_0();this.rB=new Vec2_0();this.m_constraints=initDim(_3Lorg_jbox2d_dynamics_contacts_ContactConstraint_2_classLit,{12:1,45:1},36,256,0);for(i=0;i<this.m_constraints.length;++i){this.m_constraints[i]=new ContactConstraint_0()}}
function ContactSolver(){}
_=ContactSolver_0.prototype=ContactSolver.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_contacts_ContactSolver_2_classLit};_.castableTypeMap$={};_.m_constraintCount=0;_.m_constraints=null;function PolygonAndCircleContact_0(argPool){$clinit_23();Contact_0.call(this,argPool)}
function PolygonAndCircleContact(){}
_=PolygonAndCircleContact_0.prototype=PolygonAndCircleContact.prototype=new Contact();_.evaluate=function(manifold,xfA,xfB){$collidePolygonAndCircle(this.pool.collision,this.m_manifold,dynamicCast(this.m_fixtureA.m_shape,57),xfA,dynamicCast(this.m_fixtureB.m_shape,56),xfB)};_.getClass$=function(){return Lorg_jbox2d_dynamics_contacts_PolygonAndCircleContact_2_classLit};_.init=function(fixtureA,fixtureB){$init_1(this,fixtureA,fixtureB)};_.castableTypeMap$={38:1,39:1};function PolygonContact_0(argPool){$clinit_23();Contact_0.call(this,argPool)}
function PolygonContact(){}
_=PolygonContact_0.prototype=PolygonContact.prototype=new Contact();_.evaluate=function(manifold,xfA,xfB){$collidePolygons(this.pool.collision,this.m_manifold,dynamicCast(this.m_fixtureA.m_shape,57),xfA,dynamicCast(this.m_fixtureB.m_shape,57),xfB)};_.getClass$=function(){return Lorg_jbox2d_dynamics_contacts_PolygonContact_2_classLit};_.init=function(fixtureA,fixtureB){$init_1(this,fixtureA,fixtureB)};_.castableTypeMap$={38:1,40:1};function $initialize_1(this$static,cc,index){switch(cc.type.ordinal){case 0:{mulToOut_0(cc.bodyA.m_xf,cc.localPoint,this$static.pointA);mulToOut_0(cc.bodyB.m_xf,cc.points[0].localPoint,this$static.pointB);if(distanceSquared(this$static.pointA,this$static.pointB)>1.4210854715202004E-14){$subLocal($set_12(this$static.normal,this$static.pointB),this$static.pointA);$normalize_0(this$static.normal)}else{$set_11(this$static.normal,1,0)}$mulLocal($addLocal($set_12(this$static.point,this$static.pointA),this$static.pointB),0.5);$subLocal($set_12(this$static.temp,this$static.pointB),this$static.pointA);this$static.separation=dot_0(this$static.temp,this$static.normal)-cc.radius;break}case 1:{mulToOut(cc.bodyA.m_xf.R,cc.localNormal,this$static.normal);mulToOut_0(cc.bodyA.m_xf,cc.localPoint,this$static.planePoint);mulToOut_0(cc.bodyB.m_xf,cc.points[index].localPoint,this$static.clipPoint);$subLocal($set_12(this$static.temp,this$static.clipPoint),this$static.planePoint);this$static.separation=dot_0(this$static.temp,this$static.normal)-cc.radius;$set_12(this$static.point,this$static.clipPoint);break}case 2:{mulToOut(cc.bodyB.m_xf.R,cc.localNormal,this$static.normal);mulToOut_0(cc.bodyB.m_xf,cc.localPoint,this$static.planePoint);mulToOut_0(cc.bodyA.m_xf,cc.points[index].localPoint,this$static.clipPoint);$subLocal($set_12(this$static.temp,this$static.clipPoint),this$static.planePoint);this$static.separation=dot_0(this$static.temp,this$static.normal)-cc.radius;$set_12(this$static.point,this$static.clipPoint);$negateLocal(this$static.normal)}}}
function PositionSolverManifold_0(){this.normal=new Vec2_0();this.point=new Vec2_0();this.pointA=new Vec2_0();this.pointB=new Vec2_0();this.temp=new Vec2_0();this.planePoint=new Vec2_0();this.clipPoint=new Vec2_0()}
function PositionSolverManifold(){}
_=PositionSolverManifold_0.prototype=PositionSolverManifold.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_contacts_PositionSolverManifold_2_classLit};_.castableTypeMap$={};_.separation=0;function TOIConstraint_0(){var i;this.localPoints=initDim(_3Lorg_jbox2d_common_Vec2_2_classLit,{12:1,45:1,61:1},28,($clinit_19(),2),0);this.localNormal=new Vec2_0();this.localPoint=new Vec2_0();for(i=0;i<this.localPoints.length;++i){this.localPoints[i]=new Vec2_0()}}
function TOIConstraint(){}
_=TOIConstraint_0.prototype=TOIConstraint.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_contacts_TOIConstraint_2_classLit};_.castableTypeMap$={41:1};_.bodyA=null;_.bodyB=null;_.pointCount=0;_.radius=0;_.type=null;function $initialize_2(this$static,contacts,count,toiBody){var bodyA,bodyB,constraint,contact,cp,fixtureA,fixtureB,i,j,manifold,old,radiusA,radiusB,shapeA,shapeB;this$static.m_count=count;this$static.m_toiBody=toiBody;if(this$static.m_count>=this$static.m_constraints.length){old=this$static.m_constraints;this$static.m_constraints=initDim(_3Lorg_jbox2d_dynamics_contacts_TOIConstraint_2_classLit,{12:1,45:1},41,old.length*2,0);arraycopy(old,0,this$static.m_constraints,0,old.length);for(i=old.length;i<this$static.m_constraints.length;++i){this$static.m_constraints[i]=new TOIConstraint_0()}}for(i=0;i<this$static.m_count;++i){contact=contacts[i];fixtureA=contact.m_fixtureA;fixtureB=contact.m_fixtureB;shapeA=fixtureA.m_shape;shapeB=fixtureB.m_shape;radiusA=shapeA.m_radius;radiusB=shapeB.m_radius;bodyA=fixtureA.m_body;bodyB=fixtureB.m_body;manifold=contact.m_manifold;constraint=this$static.m_constraints[i];constraint.bodyA=bodyA;constraint.bodyB=bodyB;$set_12(constraint.localNormal,manifold.localNormal);$set_12(constraint.localPoint,manifold.localPoint);constraint.type=manifold.type;constraint.pointCount=manifold.pointCount;constraint.radius=radiusA+radiusB;for(j=0;j<constraint.pointCount;++j){cp=manifold.points[j];constraint.localPoints[j]=cp.localPoint}}}
function $solve_1(this$static){var C,K,bodyA,bodyB,c,i,impulse,invIA,invIB,invMassA,invMassB,j,massA,massB,minSeparation,normal,point,rnA,rnB,separation;minSeparation=0;for(i=0;i<this$static.m_count;++i){c=this$static.m_constraints[i];bodyA=c.bodyA;bodyB=c.bodyB;massA=bodyA.m_mass;massB=bodyB.m_mass;bodyA==this$static.m_toiBody?(massB=0):(massA=0);invMassA=massA*bodyA.m_invMass;invIA=massA*bodyA.m_invI;invMassB=massB*bodyB.m_invMass;invIB=massB*bodyB.m_invI;for(j=0;j<c.pointCount;++j){$initialize_3(this$static.psm,c,j);normal=this$static.psm.normal;point=this$static.psm.point;separation=this$static.psm.separation;$subLocal($set_12(this$static.rA,point),bodyA.m_sweep.c);$subLocal($set_12(this$static.rB,point),bodyB.m_sweep.c);minSeparation=($clinit_18(),minSeparation<separation?minSeparation:separation);C=clamp(0.75*(separation+($clinit_19(),0.004999999888241291)),-0.20000000298023224,0);rnA=cross(this$static.rA,normal);rnB=cross(this$static.rB,normal);K=invMassA+invMassB+invIA*rnA*rnA+invIB*rnB*rnB;impulse=K>0?-C/K:0;$mulLocal($set_12(this$static.P,normal),impulse);$mulLocal($set_12(this$static.temp,this$static.P),invMassA);$subLocal(bodyA.m_sweep.c,this$static.temp);bodyA.m_sweep.a_0-=invIA*cross(this$static.rA,this$static.P);$synchronizeTransform(bodyA);$mulLocal($set_12(this$static.temp,this$static.P),invMassB);$addLocal(bodyB.m_sweep.c,this$static.temp);bodyB.m_sweep.a_0+=invIB*cross(this$static.rB,this$static.P);$synchronizeTransform(bodyB)}}return minSeparation>=-1.5*($clinit_19(),0.004999999888241291)}
function TOISolver_0(){var i;this.m_constraints=initDim(_3Lorg_jbox2d_dynamics_contacts_TOIConstraint_2_classLit,{12:1,45:1},41,4,0);this.psm=new TOISolverManifold_0();this.rA=new Vec2_0();this.rB=new Vec2_0();this.P=new Vec2_0();this.temp=new Vec2_0();this.m_count=0;this.m_toiBody=null;for(i=0;i<this.m_constraints.length;++i){this.m_constraints[i]=new TOIConstraint_0()}}
function TOISolver(){}
_=TOISolver_0.prototype=TOISolver.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_contacts_TOISolver_2_classLit};_.castableTypeMap$={};_.m_count=0;_.m_toiBody=null;function $initialize_3(this$static,cc,index){switch(cc.type.ordinal){case 0:{mulToOut_0(cc.bodyA.m_xf,cc.localPoint,this$static.pointA);mulToOut_0(cc.bodyB.m_xf,cc.localPoints[0],this$static.pointB);if(distanceSquared(this$static.pointA,this$static.pointB)>1.4210854715202004E-14){$subLocal($set_12(this$static.normal,this$static.pointB),this$static.pointA);$normalize_0(this$static.normal)}else{$set_11(this$static.normal,1,0)}$mulLocal($addLocal($set_12(this$static.point,this$static.pointA),this$static.pointB),0.5);$subLocal($set_12(this$static.temp,this$static.pointB),this$static.pointA);this$static.separation=dot_0(this$static.temp,this$static.normal)-cc.radius;break}case 1:{mulToOut(cc.bodyA.m_xf.R,cc.localNormal,this$static.normal);mulToOut_0(cc.bodyA.m_xf,cc.localPoint,this$static.planePoint);mulToOut_0(cc.bodyB.m_xf,cc.localPoints[index],this$static.clipPoint);$subLocal($set_12(this$static.temp,this$static.clipPoint),this$static.planePoint);this$static.separation=dot_0(this$static.temp,this$static.normal)-cc.radius;$set_12(this$static.point,this$static.clipPoint);break}case 2:{mulToOut(cc.bodyB.m_xf.R,cc.localNormal,this$static.normal);mulToOut_0(cc.bodyB.m_xf,cc.localPoint,this$static.planePoint);mulToOut_0(cc.bodyA.m_xf,cc.localPoints[index],this$static.clipPoint);$subLocal($set_12(this$static.temp,this$static.clipPoint),this$static.planePoint);this$static.separation=dot_0(this$static.temp,this$static.normal)-cc.radius;$set_12(this$static.point,this$static.clipPoint);$negateLocal(this$static.normal)}}}
function TOISolverManifold_0(){this.normal=new Vec2_0();this.point=new Vec2_0();this.pointA=new Vec2_0();this.pointB=new Vec2_0();this.temp=new Vec2_0();this.planePoint=new Vec2_0();this.clipPoint=new Vec2_0()}
function TOISolverManifold(){}
_=TOISolverManifold_0.prototype=TOISolverManifold.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_dynamics_contacts_TOISolverManifold_2_classLit};_.castableTypeMap$={};_.separation=0;function $initStack(this$static){this$static.index=9;this$static.size=10;this$static.stack_0=this$static.createArray(10,null)}
function $pop_0(this$static){if(this$static.index>=this$static.size){this$static.stack_0=this$static.createArray(this$static.size*2,this$static.stack_0);this$static.size=this$static.stack_0.length}return this$static.stack_0[this$static.index++]}
function MutableStack(){}
_=MutableStack.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_pooling_MutableStack_2_classLit};_.castableTypeMap$={};_.index=0;_.size=0;_.stack_0=null;function $createArray(this$static,argSize,argOld){var i,sk;if(argOld!=null){sk=initDim(_3Lorg_jbox2d_dynamics_contacts_CircleContact_2_classLit,{12:1,45:1,58:1},34,argSize,0);for(i=0;i<argOld.length;++i){sk[i]=argOld[i]}for(i=argOld.length;i<argSize;++i){sk[i]=new CircleContact_0(this$static.pool)}return sk}else{sk=initDim(_3Lorg_jbox2d_dynamics_contacts_CircleContact_2_classLit,{12:1,45:1,58:1},34,argSize,0);for(i=0;i<argSize;++i){sk[i]=new CircleContact_0(this$static.pool)}return sk}}
function CircleContactStack_0(argPool){this.index=0;this.size=0;this.pool=argPool;$initStack(this)}
function CircleContactStack(){}
_=CircleContactStack_0.prototype=CircleContactStack.prototype=new MutableStack();_.createArray=function(argSize,argOld){return $createArray(this,argSize,dynamicCast(argOld,58))};_.getClass$=function(){return Lorg_jbox2d_pooling_CircleContactStack_2_classLit};_.castableTypeMap$={};_.pool=null;function $pop_1(this$static){return this$static.pool[this$static.index++]}
function OrderedStack(){}
_=OrderedStack.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_pooling_OrderedStack_2_classLit};_.castableTypeMap$={};_.container=null;_.index=0;_.pool=null;function OrderedStackAABB_0(){var i;this.index=0;this.pool=initDim(_3Lorg_jbox2d_collision_AABB_2_classLit,{12:1,45:1,59:1},17,100,0);for(i=0;i<100;++i){dynamicCast(this.pool,59)[i]=new AABB_0()}this.container=initDim(_3Lorg_jbox2d_collision_AABB_2_classLit,{12:1,45:1,59:1},17,10,0);for(i=0;i<10;++i){dynamicCast(this.container,59)[i]=new AABB_0()}}
function OrderedStackAABB(){}
_=OrderedStackAABB_0.prototype=OrderedStackAABB.prototype=new OrderedStack();_.getClass$=function(){return Lorg_jbox2d_pooling_OrderedStackAABB_2_classLit};_.castableTypeMap$={};function OrderedStackMat22_0(){var i;this.index=0;this.pool=initDim(_3Lorg_jbox2d_common_Mat22_2_classLit,{12:1,45:1,60:1},27,100,0);for(i=0;i<100;++i){dynamicCast(this.pool,60)[i]=new Mat22_0()}this.container=initDim(_3Lorg_jbox2d_common_Mat22_2_classLit,{12:1,45:1,60:1},27,10,0);for(i=0;i<10;++i){dynamicCast(this.container,60)[i]=new Mat22_0()}}
function OrderedStackMat22(){}
_=OrderedStackMat22_0.prototype=OrderedStackMat22.prototype=new OrderedStack();_.getClass$=function(){return Lorg_jbox2d_pooling_OrderedStackMat22_2_classLit};_.castableTypeMap$={};function OrderedStackVec2_0(argStackSize){var i;this.index=0;this.pool=initDim(_3Lorg_jbox2d_common_Vec2_2_classLit,{12:1,45:1,61:1},28,argStackSize,0);for(i=0;i<argStackSize;++i){dynamicCast(this.pool,61)[i]=new Vec2_0()}this.container=initDim(_3Lorg_jbox2d_common_Vec2_2_classLit,{12:1,45:1,61:1},28,10,0);for(i=0;i<10;++i){dynamicCast(this.container,61)[i]=new Vec2_0()}}
function OrderedStackVec2(){}
_=OrderedStackVec2_0.prototype=OrderedStackVec2.prototype=new OrderedStack();_.getClass$=function(){return Lorg_jbox2d_pooling_OrderedStackVec2_2_classLit};_.castableTypeMap$={};function OrderedStackVec3_0(){var i;this.index=0;this.pool=initDim(_3Lorg_jbox2d_common_Vec3_2_classLit,{12:1,45:1,62:1},29,100,0);for(i=0;i<100;++i){dynamicCast(this.pool,62)[i]=new Vec3_0()}this.container=initDim(_3Lorg_jbox2d_common_Vec3_2_classLit,{12:1,45:1,62:1},29,10,0);for(i=0;i<10;++i){dynamicCast(this.container,62)[i]=new Vec3_0()}}
function OrderedStackVec3(){}
_=OrderedStackVec3_0.prototype=OrderedStackVec3.prototype=new OrderedStack();_.getClass$=function(){return Lorg_jbox2d_pooling_OrderedStackVec3_2_classLit};_.castableTypeMap$={};function $createArray_0(this$static,argSize,argOld){var i,sk;if(argOld!=null){sk=initDim(_3Lorg_jbox2d_dynamics_contacts_PolygonAndCircleContact_2_classLit,{12:1,45:1,63:1},39,argSize,0);for(i=0;i<argOld.length;++i){sk[i]=argOld[i]}for(i=argOld.length;i<argSize;++i){sk[i]=new PolygonAndCircleContact_0(this$static.pool)}return sk}else{sk=initDim(_3Lorg_jbox2d_dynamics_contacts_PolygonAndCircleContact_2_classLit,{12:1,45:1,63:1},39,argSize,0);for(i=0;i<argSize;++i){sk[i]=new PolygonAndCircleContact_0(this$static.pool)}return sk}}
function PolygonAndCircleContactStack_0(argPool){this.index=0;this.size=0;this.pool=argPool;$initStack(this)}
function PolygonAndCircleContactStack(){}
_=PolygonAndCircleContactStack_0.prototype=PolygonAndCircleContactStack.prototype=new MutableStack();_.createArray=function(argSize,argOld){return $createArray_0(this,argSize,dynamicCast(argOld,63))};_.getClass$=function(){return Lorg_jbox2d_pooling_PolygonAndCircleContactStack_2_classLit};_.castableTypeMap$={};_.pool=null;function $createArray_1(this$static,argSize,argOld){var i,sk;if(argOld!=null){sk=initDim(_3Lorg_jbox2d_dynamics_contacts_PolygonContact_2_classLit,{12:1,45:1,64:1},40,argSize,0);for(i=0;i<argOld.length;++i){sk[i]=argOld[i]}for(i=argOld.length;i<argSize;++i){sk[i]=new PolygonContact_0(this$static.pool)}return sk}else{sk=initDim(_3Lorg_jbox2d_dynamics_contacts_PolygonContact_2_classLit,{12:1,45:1,64:1},40,argSize,0);for(i=0;i<argSize;++i){sk[i]=new PolygonContact_0(this$static.pool)}return sk}}
function PolygonContactStack_0(argPool){this.index=0;this.size=0;this.pool=argPool;$initStack(this)}
function PolygonContactStack(){}
_=PolygonContactStack_0.prototype=PolygonContactStack.prototype=new MutableStack();_.createArray=function(argSize,argOld){return $createArray_1(this,argSize,dynamicCast(argOld,64))};_.getClass$=function(){return Lorg_jbox2d_pooling_PolygonContactStack_2_classLit};_.castableTypeMap$={};_.pool=null;function TLManifold_0(){}
function TLManifold(){}
_=TLManifold_0.prototype=TLManifold.prototype=new ThreadLocal();_.getClass$=function(){return Lorg_jbox2d_pooling_TLManifold_2_classLit};_.castableTypeMap$={};function WorldPool_0(){new HashMap_0();new HashMap_0();new HashMap_0();this.pcstack=new PolygonContactStack_0(this);this.ccstack=new CircleContactStack_0(this);this.cpstack=new PolygonAndCircleContactStack_0(this);this.vecs=new OrderedStackVec2_0(100);new OrderedStackVec3_0();new OrderedStackMat22_0();new OrderedStackAABB_0();this.dist=new Distance_0();this.collision=new Collision_0(this);this.toi=new TimeOfImpact_0(this)}
function WorldPool(){}
_=WorldPool_0.prototype=WorldPool.prototype=new Object_0();_.getClass$=function(){return Lorg_jbox2d_pooling_WorldPool_2_classLit};_.castableTypeMap$={};_.collision=null;_.dist=null;_.toi=null;_.vecs=null;function $getImage(this$static,path){var image;++this$static.totalRequestsCount;image=$doGetImage(this$static,path);image.addCallback(this$static.callback);return image}
function $getSound(this$static,path){var sound;++this$static.totalRequestsCount;sound=$doGetSound(this$static,path);$addCallback(sound,this$static.callback);return sound}
function AbstractAssets(){}
_=AbstractAssets.prototype=new Object_0();_.getClass$=function(){return Lplayn_core_AbstractAssets_2_classLit};_.castableTypeMap$={};_.errorsCount=0;_.successCount=0;_.totalRequestsCount=0;function $error(this$static){++this$static.this$0.errorsCount}
function AbstractAssets$1_0(this$0){this.this$0=this$0}
function AbstractAssets$1(){}
_=AbstractAssets$1_0.prototype=AbstractAssets$1.prototype=new Object_0();_.done=function(resource){++this.this$0.successCount};_.error=function(e){++this.this$0.errorsCount};_.getClass$=function(){return Lplayn_core_AbstractAssets$1_2_classLit};_.castableTypeMap$={66:1};_.this$0=null;function $doGetImage(this$static,path){var object,url,logMsg,logMsg_0;if((object=$get_0(this$static.cache,path))==null){object=(url=this$static.pathPrefix+path,logMsg='Looking to load '+url+'',flash.external.ExternalInterface.call('window.console.log',logMsg),logMsg_0='Loading '+url+'',flash.external.ExternalInterface.call('window.console.log',logMsg_0),new FlashImage_0(url));$put(this$static.cache,path,object)}return dynamicCast(object,65)}
function $doGetSound(this$static,path){var object,url,flashSound;if((object=$get_0(this$static.cache,path))==null){object=(url=this$static.pathPrefix+path,url+='.mp3',flashSound=new FlashSound_0(),flashSound.sound=createSound(url,flashSound),flashSound);$put(this$static.cache,path,object)}return dynamicCast(object,4)}
function AbstractCachingAssets(){}
_=AbstractCachingAssets.prototype=new AbstractAssets();_.getClass$=function(){return Lplayn_core_AbstractCachingAssets_2_classLit};_.castableTypeMap$={};function AbstractImage(){}
_=AbstractImage.prototype=new Object_0();_.getClass$=function(){return Lplayn_core_AbstractImage_2_classLit};_.castableTypeMap$={65:1};function $setFlag(this$static,flag,active){active?(this$static.flags|=flag.bitmask):(this$static.flags&=~flag.bitmask)}
function $setInteractive(this$static,interactive){if((this$static.flags&($clinit_24(),INTERACTIVE).bitmask)!=0==interactive)return;interactive&&!!this$static.parent_0&&$setInteractive(this$static.parent_0,true);$setFlag(this$static,INTERACTIVE,interactive)}
function AbstractLayer(){}
_=AbstractLayer.prototype=new Object_0();_.getClass$=function(){return Lplayn_core_AbstractLayer_2_classLit};_.height_1=function(){return 0};_.hitTestDefault=function(p){return p.x>=0&&p.y>=0&&p.x<this.width_1()&&p.y<this.height_1()?this:null};_.onAdd=function(){!((this.flags&($clinit_24(),DESTROYED).bitmask)!=0)};_.onRemove=function(){};_.width_1=function(){return 0};_.castableTypeMap$={67:1};_.depth=0;_.flags=0;_.originX=0;_.originY=0;_.parent_0=null;_.transform_0=null;function $clinit_24(){$clinit_24=nullMethod;DESTROYED=new AbstractLayer$Flag_0('DESTROYED',0,1);VISIBLE=new AbstractLayer$Flag_0('VISIBLE',1,2);INTERACTIVE=new AbstractLayer$Flag_0('INTERACTIVE',2,4);SHOWN=new AbstractLayer$Flag_0('SHOWN',3,8);$VALUES_6=initValues(_3Lplayn_core_AbstractLayer$Flag_2_classLit,{12:1,45:1},43,[DESTROYED,VISIBLE,INTERACTIVE,SHOWN])}
function AbstractLayer$Flag_0(enum$name,enum$ordinal,bitmask){this.name_0=enum$name;this.ordinal=enum$ordinal;this.bitmask=bitmask}
function values_6(){$clinit_24();return $VALUES_6}
function AbstractLayer$Flag(){}
_=AbstractLayer$Flag_0.prototype=AbstractLayer$Flag.prototype=new Enum();_.getClass$=function(){return Lplayn_core_AbstractLayer$Flag_2_classLit};_.castableTypeMap$={12:1,14:1,15:1,43:1};_.bitmask=0;var $VALUES_6,DESTROYED,INTERACTIVE,SHOWN,VISIBLE;function AbstractPlatform(){}
_=AbstractPlatform.prototype=new Object_0();_.getClass$=function(){return Lplayn_core_AbstractPlatform_2_classLit};_.castableTypeMap$={};_.runQueue=null;function $addCallback(this$static,callback){if(this$static.soundLoaded){this$static.soundLoaded.value?++callback.this$0.successCount:$error(callback,new RuntimeException_0());return}!this$static.resourceCallbacks&&(this$static.resourceCallbacks=new ArrayList_0());$add(this$static.resourceCallbacks,callback)}
function AbstractSound(){}
_=AbstractSound.prototype=new Object_0();_.getClass$=function(){return Lplayn_core_AbstractSound_2_classLit};_.onLoadComplete=function(){var callback,callback$iterator;this.soundLoaded=($clinit_9(),$clinit_9(),TRUE);if(!this.resourceCallbacks){return}for(callback$iterator=new AbstractList$IteratorImpl_0(this.resourceCallbacks);callback$iterator.i<callback$iterator.this$0.size_0();){callback=dynamicCast($next(callback$iterator),66);callback.done(this)}$clear(this.resourceCallbacks)};_.onLoadError=function(err){var callback,callback$iterator;this.soundLoaded=($clinit_9(),$clinit_9(),FALSE);if(!this.resourceCallbacks){return}for(callback$iterator=new AbstractList$IteratorImpl_0(this.resourceCallbacks);callback$iterator.i<callback$iterator.this$0.size_0();){callback=dynamicCast($next(callback$iterator),66);callback.error(err)}$clear(this.resourceCallbacks)};_.castableTypeMap$={4:1};_.resourceCallbacks=null;_.soundLoaded=null;function Events$Input$Impl(){}
_=Events$Input$Impl.prototype=new Object_0();_.addFields=function(builder){$append_4($append_11($append_7(($append_3(builder.data,'time='),builder),this.time),', preventDefault='),this.preventDefault_0)};_.getClass$=function(){return Lplayn_core_Events$Input$Impl_2_classLit};_.name_1=function(){return 'Events.Input'};_.toString$=function(){var builder;builder=$append_5(new StringBuilder_1(this.name_1()),91);this.addFields(builder);return $toString_0(($appendNonNull(builder.data,']'),builder).data)};_.castableTypeMap$={};_.preventDefault_0=false;_.time=0;function Events$Position$Impl(){}
_=Events$Position$Impl.prototype=new Events$Input$Impl();_.addFields=function(builder){$append_4($append_11($append_7(($append_3(builder.data,'time='),builder),this.time),', preventDefault='),this.preventDefault_0);$append_8($append_11($append_8(($append_3(builder.data,', x='),builder),this.x),', y='),this.y)};_.getClass$=function(){return Lplayn_core_Events$Position$Impl_2_classLit};_.name_1=function(){return 'Events.Position'};_.castableTypeMap$={};_.x=0;_.y=0;function $add_4(this$static,self_0,child){var count,index,parent_0;parent_0=child.parent_0;if(parent_0==self_0){return $findChild(this$static,child,child.depth)}count=this$static.children.size;count==0||dynamicCast($get_1(this$static.children,count-1),67).depth<=child.depth?(index=count):(index=$findInsertion(this$static,child.depth));!!parent_0&&$remove_2(child.parent_0,child);$add_0(this$static.children,index,child);child.parent_0=self_0;child.onAdd();(child.flags&($clinit_24(),INTERACTIVE).bitmask)!=0&&$setInteractive(self_0,true);return index}
function $addAt(self_0,layer,tx,ty){$setTranslation(layer.transform_0,tx,ty);$add_5(self_0,layer)}
function $findChild(this$static,child,depth){var c,ii,ll,startIdx;startIdx=$findInsertion(this$static,depth);for(ii=startIdx-1;ii>=0;--ii){c=dynamicCast($get_1(this$static.children,ii),67);if(c==child){return ii}if(c.depth!=depth){break}}for(ii=startIdx,ll=this$static.children.size;ii<ll;++ii){c=dynamicCast($get_1(this$static.children,ii),67);if(c==child){return ii}if(c.depth!=depth){break}}return -1}
function $findInsertion(this$static,depth){var high,low,mid,midDepth;low=0;high=this$static.children.size-1;while(low<=high){mid=low+high>>>1;midDepth=dynamicCast($get_1(this$static.children,mid),67).depth;if(depth>midDepth){low=mid+1}else if(depth<midDepth){high=mid-1}else{return mid}}return low}
function $hitTest(this$static,self_0,point){var child,ii,l,sawInteractiveChild,x,y;x=point.x;y=point.y;sawInteractiveChild=false;for(ii=this$static.children.size-1;ii>=0;--ii){child=dynamicCast($get_1(this$static.children,ii),67);if(!((child.flags&($clinit_24(),INTERACTIVE).bitmask)!=0))continue;sawInteractiveChild=true;if(!((child.flags&VISIBLE.bitmask)!=0))continue;$inverseTransform(child.transform_0,(point.x=x,point.y=y,point),point);point.x+=child.originX;point.y+=child.originY;l=child.hitTestDefault(point);if(l)return l}!sawInteractiveChild&&$setInteractive(self_0,false);return null}
function $onAdd(this$static){var child,child$iterator;for(child$iterator=new AbstractList$IteratorImpl_0(this$static.children);child$iterator.i<child$iterator.this$0.size_0();){child=dynamicCast($next(child$iterator),67);child.onAdd()}}
function $onRemove(this$static){var child,child$iterator;for(child$iterator=new AbstractList$IteratorImpl_0(this$static.children);child$iterator.i<child$iterator.this$0.size_0();){child=dynamicCast($next(child$iterator),67);child.onRemove()}}
function $remove_1(this$static,child){var index,child_0;index=$findChild(this$static,child,child.depth);if(index<0){throw new UnsupportedOperationException_0('Could not remove Layer because it is not a child of the GroupLayer')}child_0=dynamicCast($remove(this$static.children,index),67);child_0.onRemove();child_0.parent_0=null}
function GroupLayerImpl_0(){this.children=new ArrayList_0()}
function GroupLayerImpl(){}
_=GroupLayerImpl_0.prototype=GroupLayerImpl.prototype=new Object_0();_.getClass$=function(){return Lplayn_core_GroupLayerImpl_2_classLit};_.castableTypeMap$={};function $clinit_25(){$clinit_25=nullMethod;A=new Key_0('A',0);B=new Key_0('B',1);C_0=new Key_0('C',2);D_0=new Key_0('D',3);E=new Key_0('E',4);F=new Key_0('F',5);G=new Key_0('G',6);H=new Key_0('H',7);I_0=new Key_0('I',8);J=new Key_0('J',9);K_0=new Key_0('K',10);L=new Key_0('L',11);M=new Key_0('M',12);N=new Key_0('N',13);O=new Key_0('O',14);P=new Key_0('P',15);Q=new Key_0('Q',16);R_0=new Key_0('R',17);S=new Key_0('S',18);T_0=new Key_0('T',19);U=new Key_0('U',20);V=new Key_0('V',21);W=new Key_0('W',22);X=new Key_0('X',23);Y=new Key_0('Y',24);Z=new Key_0('Z',25);K0=new Key_0('K0',26);K1=new Key_0('K1',27);K2=new Key_0('K2',28);K3=new Key_0('K3',29);K4=new Key_0('K4',30);K5=new Key_0('K5',31);K6=new Key_0('K6',32);K7=new Key_0('K7',33);K8=new Key_0('K8',34);K9=new Key_0('K9',35);NP0=new Key_0('NP0',36);NP1=new Key_0('NP1',37);NP2=new Key_0('NP2',38);NP3=new Key_0('NP3',39);NP4=new Key_0('NP4',40);NP5=new Key_0('NP5',41);NP6=new Key_0('NP6',42);NP7=new Key_0('NP7',43);NP8=new Key_0('NP8',44);NP9=new Key_0('NP9',45);NP_ADD=new Key_0('NP_ADD',46);NP_DECIMAL=new Key_0('NP_DECIMAL',47);NP_DELETE=new Key_0('NP_DELETE',48);NP_DIVIDE=new Key_0('NP_DIVIDE',49);NP_MULTIPLY=new Key_0('NP_MULTIPLY',50);NP_NUM_LOCK=new Key_0('NP_NUM_LOCK',51);NP_SUBTRACT=new Key_0('NP_SUBTRACT',52);NP_DOWN=new Key_0('NP_DOWN',53);NP_LEFT=new Key_0('NP_LEFT',54);NP_RIGHT=new Key_0('NP_RIGHT',55);NP_UP=new Key_0('NP_UP',56);F1=new Key_0('F1',57);F2=new Key_0('F2',58);F3=new Key_0('F3',59);F4=new Key_0('F4',60);F5=new Key_0('F5',61);F6=new Key_0('F6',62);F7=new Key_0('F7',63);F8=new Key_0('F8',64);F9=new Key_0('F9',65);F10=new Key_0('F10',66);F11=new Key_0('F11',67);F12=new Key_0('F12',68);AMPERSAND=new Key_0('AMPERSAND',69);ASTERISK=new Key_0('ASTERISK',70);AT=new Key_0('AT',71);BACKQUOTE=new Key_0('BACKQUOTE',72);BACKSLASH=new Key_0('BACKSLASH',73);BANG=new Key_0('BANG',74);CIRCUMFLEX=new Key_0('CIRCUMFLEX',75);COLON=new Key_0('COLON',76);COMMA=new Key_0('COMMA',77);DOLLAR=new Key_0('DOLLAR',78);DOUBLE_QUOTE=new Key_0('DOUBLE_QUOTE',79);EQUALS=new Key_0('EQUALS',80);GREATER=new Key_0('GREATER',81);HASH=new Key_0('HASH',82);LEFT_BRACE=new Key_0('LEFT_BRACE',83);LEFT_BRACKET=new Key_0('LEFT_BRACKET',84);LEFT_PAREN=new Key_0('LEFT_PAREN',85);LESS=new Key_0('LESS',86);MINUS=new Key_0('MINUS',87);MULTIPLY=new Key_0('MULTIPLY',88);PERCENT=new Key_0('PERCENT',89);PERIOD=new Key_0('PERIOD',90);PLUS=new Key_0('PLUS',91);QUOTE=new Key_0('QUOTE',92);RIGHT_BRACE=new Key_0('RIGHT_BRACE',93);RIGHT_BRACKET=new Key_0('RIGHT_BRACKET',94);RIGHT_PAREN=new Key_0('RIGHT_PAREN',95);SEMICOLON=new Key_0('SEMICOLON',96);SLASH=new Key_0('SLASH',97);SPACE=new Key_0('SPACE',98);TILDE=new Key_0('TILDE',99);QUESTION_MARK=new Key_0('QUESTION_MARK',100);UNDERSCORE=new Key_0('UNDERSCORE',101);VERTICAL_BAR=new Key_0('VERTICAL_BAR',102);ALT=new Key_0('ALT',103);CONTROL=new Key_0('CONTROL',104);CAPS_LOCK=new Key_0('CAPS_LOCK',105);SHIFT=new Key_0('SHIFT',106);META=new Key_0('META',107);DOWN=new Key_0('DOWN',108);END=new Key_0('END',109);HOME=new Key_0('HOME',110);LEFT=new Key_0('LEFT',111);PAGE_UP=new Key_0('PAGE_UP',112);PAGE_DOWN=new Key_0('PAGE_DOWN',113);RIGHT=new Key_0('RIGHT',114);UP=new Key_0('UP',115);BACKSPACE=new Key_0('BACKSPACE',116);DELETE=new Key_0('DELETE',117);ENTER=new Key_0('ENTER',118);INSERT=new Key_0('INSERT',119);TAB=new Key_0('TAB',120);ESCAPE=new Key_0('ESCAPE',121);PAUSE=new Key_0('PAUSE',122);PRINT_SCREEN=new Key_0('PRINT_SCREEN',123);SCROLL_LOCK=new Key_0('SCROLL_LOCK',124);WINDOWS=new Key_0('WINDOWS',125);MEDIA_CLOSE=new Key_0('MEDIA_CLOSE',126);MEDIA_EJECT=new Key_0('MEDIA_EJECT',127);MEDIA_FAST_FORWARD=new Key_0('MEDIA_FAST_FORWARD',128);MEDIA_NEXT=new Key_0('MEDIA_NEXT',129);MEDIA_PAUSE=new Key_0('MEDIA_PAUSE',130);MEDIA_PLAY=new Key_0('MEDIA_PLAY',131);MEDIA_PLAY_PAUSE=new Key_0('MEDIA_PLAY_PAUSE',132);MEDIA_PREVIOUS=new Key_0('MEDIA_PREVIOUS',133);MEDIA_RECORD=new Key_0('MEDIA_RECORD',134);MEDIA_REWIND=new Key_0('MEDIA_REWIND',135);MEDIA_STOP=new Key_0('MEDIA_STOP',136);BLUE=new Key_0('BLUE',137);GREEN=new Key_0('GREEN',138);RED=new Key_0('RED',139);YELLOW=new Key_0('YELLOW',140);APP_SWITCH=new Key_0('APP_SWITCH',141);AVR_INPUT=new Key_0('AVR_INPUT',142);AVR_POWER=new Key_0('AVR_POWER',143);BACK=new Key_0('BACK',144);BOOKMARK=new Key_0('BOOKMARK',145);BREAK=new Key_0('BREAK',146);BUTTON_1=new Key_0('BUTTON_1',147);BUTTON_2=new Key_0('BUTTON_2',148);BUTTON_3=new Key_0('BUTTON_3',149);BUTTON_4=new Key_0('BUTTON_4',150);BUTTON_5=new Key_0('BUTTON_5',151);BUTTON_6=new Key_0('BUTTON_6',152);BUTTON_7=new Key_0('BUTTON_7',153);BUTTON_8=new Key_0('BUTTON_8',154);BUTTON_9=new Key_0('BUTTON_9',155);BUTTON_10=new Key_0('BUTTON_10',156);BUTTON_11=new Key_0('BUTTON_11',157);BUTTON_12=new Key_0('BUTTON_12',158);BUTTON_13=new Key_0('BUTTON_13',159);BUTTON_14=new Key_0('BUTTON_14',160);BUTTON_15=new Key_0('BUTTON_15',161);BUTTON_16=new Key_0('BUTTON_16',162);BUTTON_A=new Key_0('BUTTON_A',163);BUTTON_B=new Key_0('BUTTON_B',164);BUTTON_C=new Key_0('BUTTON_C',165);BUTTON_L1=new Key_0('BUTTON_L1',166);BUTTON_L2=new Key_0('BUTTON_L2',167);BUTTON_MODE=new Key_0('BUTTON_MODE',168);BUTTON_R1=new Key_0('BUTTON_R1',169);BUTTON_R2=new Key_0('BUTTON_R2',170);BUTTON_SELECT=new Key_0('BUTTON_SELECT',171);BUTTON_START=new Key_0('BUTTON_START',172);BUTTON_THUMBL=new Key_0('BUTTON_THUMBL',173);BUTTON_THUMBR=new Key_0('BUTTON_THUMBR',174);BUTTON_X=new Key_0('BUTTON_X',175);BUTTON_Y=new Key_0('BUTTON_Y',176);BUTTON_Z=new Key_0('BUTTON_Z',177);CALL=new Key_0('CALL',178);CAMERA=new Key_0('CAMERA',179);CAPTIONS=new Key_0('CAPTIONS',180);CHANNEL_DOWN=new Key_0('CHANNEL_DOWN',181);CHANNEL_UP=new Key_0('CHANNEL_UP',182);CLEAR=new Key_0('CLEAR',183);DPAD_CENTER=new Key_0('DPAD_CENTER',184);DPAD_DOWN=new Key_0('DPAD_DOWN',185);DPAD_LEFT=new Key_0('DPAD_LEFT',186);DPAD_RIGHT=new Key_0('DPAD_RIGHT',187);DPAD_UP=new Key_0('DPAD_UP',188);DVR=new Key_0('DVR',189);ENDCALL=new Key_0('ENDCALL',190);ENVELOPE=new Key_0('ENVELOPE',191);EXPLORER=new Key_0('EXPLORER',192);FOCUS=new Key_0('FOCUS',193);FORWARD=new Key_0('FORWARD',194);FORWARD_DEL=new Key_0('FORWARD_DEL',195);FUNCTION=new Key_0('FUNCTION',196);GUIDE=new Key_0('GUIDE',197);HEADSETHOOK=new Key_0('HEADSETHOOK',198);INFO=new Key_0('INFO',199);MENU=new Key_0('MENU',200);MUTE=new Key_0('MUTE',201);NOTIFICATION=new Key_0('NOTIFICATION',202);NUM=new Key_0('NUM',203);PICTSYMBOLS=new Key_0('PICTSYMBOLS',204);POWER=new Key_0('POWER',205);SEARCH=new Key_0('SEARCH',206);SETTINGS=new Key_0('SETTINGS',207);SOFT_LEFT=new Key_0('SOFT_LEFT',208);SOFT_RIGHT=new Key_0('SOFT_RIGHT',209);STAR=new Key_0('STAR',210);STB_INPUT=new Key_0('STB_INPUT',211);STB_POWER=new Key_0('STB_POWER',212);SWITCH_CHARSET=new Key_0('SWITCH_CHARSET',213);SYM=new Key_0('SYM',214);SYSRQ=new Key_0('SYSRQ',215);TV=new Key_0('TV',216);TV_INPUT=new Key_0('TV_INPUT',217);TV_POWER=new Key_0('TV_POWER',218);VOLUME_DOWN=new Key_0('VOLUME_DOWN',219);VOLUME_MUTE=new Key_0('VOLUME_MUTE',220);VOLUME_UP=new Key_0('VOLUME_UP',221);WINDOW=new Key_0('WINDOW',222);ZOOM_IN=new Key_0('ZOOM_IN',223);ZOOM_OUT=new Key_0('ZOOM_OUT',224);UNKNOWN_1=new Key_0('UNKNOWN',225);$VALUES_7=initValues(_3Lplayn_core_Key_2_classLit,{12:1,45:1},44,[A,B,C_0,D_0,E,F,G,H,I_0,J,K_0,L,M,N,O,P,Q,R_0,S,T_0,U,V,W,X,Y,Z,K0,K1,K2,K3,K4,K5,K6,K7,K8,K9,NP0,NP1,NP2,NP3,NP4,NP5,NP6,NP7,NP8,NP9,NP_ADD,NP_DECIMAL,NP_DELETE,NP_DIVIDE,NP_MULTIPLY,NP_NUM_LOCK,NP_SUBTRACT,NP_DOWN,NP_LEFT,NP_RIGHT,NP_UP,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,AMPERSAND,ASTERISK,AT,BACKQUOTE,BACKSLASH,BANG,CIRCUMFLEX,COLON,COMMA,DOLLAR,DOUBLE_QUOTE,EQUALS,GREATER,HASH,LEFT_BRACE,LEFT_BRACKET,LEFT_PAREN,LESS,MINUS,MULTIPLY,PERCENT,PERIOD,PLUS,QUOTE,RIGHT_BRACE,RIGHT_BRACKET,RIGHT_PAREN,SEMICOLON,SLASH,SPACE,TILDE,QUESTION_MARK,UNDERSCORE,VERTICAL_BAR,ALT,CONTROL,CAPS_LOCK,SHIFT,META,DOWN,END,HOME,LEFT,PAGE_UP,PAGE_DOWN,RIGHT,UP,BACKSPACE,DELETE,ENTER,INSERT,TAB,ESCAPE,PAUSE,PRINT_SCREEN,SCROLL_LOCK,WINDOWS,MEDIA_CLOSE,MEDIA_EJECT,MEDIA_FAST_FORWARD,MEDIA_NEXT,MEDIA_PAUSE,MEDIA_PLAY,MEDIA_PLAY_PAUSE,MEDIA_PREVIOUS,MEDIA_RECORD,MEDIA_REWIND,MEDIA_STOP,BLUE,GREEN,RED,YELLOW,APP_SWITCH,AVR_INPUT,AVR_POWER,BACK,BOOKMARK,BREAK,BUTTON_1,BUTTON_2,BUTTON_3,BUTTON_4,BUTTON_5,BUTTON_6,BUTTON_7,BUTTON_8,BUTTON_9,BUTTON_10,BUTTON_11,BUTTON_12,BUTTON_13,BUTTON_14,BUTTON_15,BUTTON_16,BUTTON_A,BUTTON_B,BUTTON_C,BUTTON_L1,BUTTON_L2,BUTTON_MODE,BUTTON_R1,BUTTON_R2,BUTTON_SELECT,BUTTON_START,BUTTON_THUMBL,BUTTON_THUMBR,BUTTON_X,BUTTON_Y,BUTTON_Z,CALL,CAMERA,CAPTIONS,CHANNEL_DOWN,CHANNEL_UP,CLEAR,DPAD_CENTER,DPAD_DOWN,DPAD_LEFT,DPAD_RIGHT,DPAD_UP,DVR,ENDCALL,ENVELOPE,EXPLORER,FOCUS,FORWARD,FORWARD_DEL,FUNCTION,GUIDE,HEADSETHOOK,INFO,MENU,MUTE,NOTIFICATION,NUM,PICTSYMBOLS,POWER,SEARCH,SETTINGS,SOFT_LEFT,SOFT_RIGHT,STAR,STB_INPUT,STB_POWER,SWITCH_CHARSET,SYM,SYSRQ,TV,TV_INPUT,TV_POWER,VOLUME_DOWN,VOLUME_MUTE,VOLUME_UP,WINDOW,ZOOM_IN,ZOOM_OUT,UNKNOWN_1])}
function Key_0(enum$name,enum$ordinal){this.name_0=enum$name;this.ordinal=enum$ordinal}
function values_7(){$clinit_25();return $VALUES_7}
function Key(){}
_=Key_0.prototype=Key.prototype=new Enum();_.getClass$=function(){return Lplayn_core_Key_2_classLit};_.castableTypeMap$={12:1,14:1,15:1,44:1};var $VALUES_7,A,ALT,AMPERSAND,APP_SWITCH,ASTERISK,AT,AVR_INPUT,AVR_POWER,B,BACK,BACKQUOTE,BACKSLASH,BACKSPACE,BANG,BLUE,BOOKMARK,BREAK,BUTTON_1,BUTTON_10,BUTTON_11,BUTTON_12,BUTTON_13,BUTTON_14,BUTTON_15,BUTTON_16,BUTTON_2,BUTTON_3,BUTTON_4,BUTTON_5,BUTTON_6,BUTTON_7,BUTTON_8,BUTTON_9,BUTTON_A,BUTTON_B,BUTTON_C,BUTTON_L1,BUTTON_L2,BUTTON_MODE,BUTTON_R1,BUTTON_R2,BUTTON_SELECT,BUTTON_START,BUTTON_THUMBL,BUTTON_THUMBR,BUTTON_X,BUTTON_Y,BUTTON_Z,C_0,CALL,CAMERA,CAPS_LOCK,CAPTIONS,CHANNEL_DOWN,CHANNEL_UP,CIRCUMFLEX,CLEAR,COLON,COMMA,CONTROL,D_0,DELETE,DOLLAR,DOUBLE_QUOTE,DOWN,DPAD_CENTER,DPAD_DOWN,DPAD_LEFT,DPAD_RIGHT,DPAD_UP,DVR,E,END,ENDCALL,ENTER,ENVELOPE,EQUALS,ESCAPE,EXPLORER,F,F1,F10,F11,F12,F2,F3,F4,F5,F6,F7,F8,F9,FOCUS,FORWARD,FORWARD_DEL,FUNCTION,G,GREATER,GREEN,GUIDE,H,HASH,HEADSETHOOK,HOME,I_0,INFO,INSERT,J,K_0,K0,K1,K2,K3,K4,K5,K6,K7,K8,K9,L,LEFT,LEFT_BRACE,LEFT_BRACKET,LEFT_PAREN,LESS,M,MEDIA_CLOSE,MEDIA_EJECT,MEDIA_FAST_FORWARD,MEDIA_NEXT,MEDIA_PAUSE,MEDIA_PLAY,MEDIA_PLAY_PAUSE,MEDIA_PREVIOUS,MEDIA_RECORD,MEDIA_REWIND,MEDIA_STOP,MENU,META,MINUS,MULTIPLY,MUTE,N,NOTIFICATION,NP0,NP1,NP2,NP3,NP4,NP5,NP6,NP7,NP8,NP9,NP_ADD,NP_DECIMAL,NP_DELETE,NP_DIVIDE,NP_DOWN,NP_LEFT,NP_MULTIPLY,NP_NUM_LOCK,NP_RIGHT,NP_SUBTRACT,NP_UP,NUM,O,P,PAGE_DOWN,PAGE_UP,PAUSE,PERCENT,PERIOD,PICTSYMBOLS,PLUS,POWER,PRINT_SCREEN,Q,QUESTION_MARK,QUOTE,R_0,RED,RIGHT,RIGHT_BRACE,RIGHT_BRACKET,RIGHT_PAREN,S,SCROLL_LOCK,SEARCH,SEMICOLON,SETTINGS,SHIFT,SLASH,SOFT_LEFT,SOFT_RIGHT,SPACE,STAR,STB_INPUT,STB_POWER,SWITCH_CHARSET,SYM,SYSRQ,T_0,TAB,TILDE,TV,TV_INPUT,TV_POWER,U,UNDERSCORE,UNKNOWN_1,UP,V,VERTICAL_BAR,VOLUME_DOWN,VOLUME_MUTE,VOLUME_UP,W,WINDOW,WINDOWS,X,Y,YELLOW,Z,ZOOM_IN,ZOOM_OUT;function Keyboard$Event$Impl_0(time,key){this.time=time;this.key=key}
function Keyboard$Event$Impl(){}
_=Keyboard$Event$Impl_0.prototype=Keyboard$Event$Impl.prototype=new Events$Input$Impl();_.addFields=function(builder){$append_4($append_11($append_7(($append_3(builder.data,'time='),builder),this.time),', preventDefault='),this.preventDefault_0);$append_10(($append_3(builder.data,', key='),builder),this.key)};_.getClass$=function(){return Lplayn_core_Keyboard$Event$Impl_2_classLit};_.name_1=function(){return 'Keyboard.Event'};_.castableTypeMap$={};_.key=null;function Keyboard$TypedEvent$Impl_0(time,typedChar){this.time=time;this.typedChar=typedChar}
function Keyboard$TypedEvent$Impl(){}
_=Keyboard$TypedEvent$Impl_0.prototype=Keyboard$TypedEvent$Impl.prototype=new Events$Input$Impl();_.addFields=function(builder){$append_4($append_11($append_7(($append_3(builder.data,'time='),builder),this.time),', preventDefault='),this.preventDefault_0);$append_5(($append_3(builder.data,', typedChar='),builder),this.typedChar)};_.getClass$=function(){return Lplayn_core_Keyboard$TypedEvent$Impl_2_classLit};_.name_1=function(){return 'Keyboard.TypedEvent'};_.castableTypeMap$={};_.typedChar=0;function screenToLayer(layer,point,into){var cur,parent_0;parent_0=layer.parent_0;cur=!parent_0?point:screenToLayer(parent_0,point,into);return $inverseTransform(layer.transform_0,cur,into),into.x+=layer.originX,into.y+=layer.originY,into}
function screenToLayer_0(layer,x,y){var into;into=new Point_0(x,y);return screenToLayer(layer,into,into)}
function $localize(this$static,layer){screenToLayer_0(layer,this$static.x,this$static.y);return new Mouse$ButtonEvent$Impl_1(this$static.time,this$static.x,this$static.y,this$static.button)}
function Mouse$ButtonEvent$Impl_0(time,x,y){this.time=time;this.x=x;this.y=y;this.button=0}
function Mouse$ButtonEvent$Impl_1(time,x,y,button){this.time=time;this.x=x;this.y=y;this.button=button}
function Mouse$ButtonEvent$Impl(){}
_=Mouse$ButtonEvent$Impl_1.prototype=Mouse$ButtonEvent$Impl_0.prototype=Mouse$ButtonEvent$Impl.prototype=new Events$Position$Impl();_.addFields=function(builder){$append_4($append_11($append_7(($append_3(builder.data,'time='),builder),this.time),', preventDefault='),this.preventDefault_0);$append_8($append_11($append_8(($append_3(builder.data,', x='),builder),this.x),', y='),this.y);$append_9(($append_3(builder.data,', button='),builder),this.button)};_.getClass$=function(){return Lplayn_core_Mouse$ButtonEvent$Impl_2_classLit};_.name_1=function(){return 'ButtonEvent'};_.castableTypeMap$={};_.button=0;function $localize_0(this$static,layer){screenToLayer_0(layer,this$static.x,this$static.y);return new Mouse$MotionEvent$Impl_1(this$static.time,this$static.x,this$static.y,this$static.dx,this$static.dy)}
function Mouse$MotionEvent$Impl_0(time,x,y,dx,dy){this.time=time;this.x=x;this.y=y;this.dx=dx;this.dy=dy}
function Mouse$MotionEvent$Impl_1(time,x,y,dx,dy){this.time=time;this.x=x;this.y=y;this.dx=dx;this.dy=dy}
function Mouse$MotionEvent$Impl(){}
_=Mouse$MotionEvent$Impl_1.prototype=Mouse$MotionEvent$Impl_0.prototype=Mouse$MotionEvent$Impl.prototype=new Events$Position$Impl();_.getClass$=function(){return Lplayn_core_Mouse$MotionEvent$Impl_2_classLit};_.name_1=function(){return 'MotionEvent'};_.castableTypeMap$={};_.dx=0;_.dy=0;function $onMouseDown_0(this$static,event_0){var localEvent,p,preventDefault,root;preventDefault=false;if(this$static.listener){event_0.preventDefault_0=false;$onMouseDown(this$static.listener,event_0);preventDefault=event_0.preventDefault_0}root=platform_0.graphics_0.rootLayer;if((root.flags&($clinit_24(),INTERACTIVE).bitmask)!=0){p=new Point_0(event_0.x,event_0.y);$inverseTransform(root.transform_0,p,p);p.x+=root.originX;p.y+=root.originY;this$static.activeLayer=dynamicCast(root.hitTestDefault(p),67);if(this$static.activeLayer){localEvent=$localize(event_0,this$static.activeLayer);localEvent.preventDefault_0=preventDefault;preventDefault=localEvent.preventDefault_0}}return preventDefault}
function $onMouseMove_0(this$static,event_0){var lastHoverLayer,localEvent,p,preventDefault,root;preventDefault=false;if(this$static.listener){event_0.preventDefault_0=false;$onMouseMove(this$static.listener,event_0);preventDefault=event_0.preventDefault_0}root=platform_0.graphics_0.rootLayer;if((root.flags&($clinit_24(),INTERACTIVE).bitmask)!=0){p=new Point_0(event_0.x,event_0.y);$inverseTransform(root.transform_0,p,p);p.x+=root.originX;p.y+=root.originY;lastHoverLayer=this$static.hoverLayer;this$static.hoverLayer=dynamicCast(root.hitTestDefault(p),67);if(this$static.activeLayer){localEvent=$localize_0(event_0,this$static.activeLayer);localEvent.preventDefault_0=preventDefault;preventDefault=localEvent.preventDefault_0}if(lastHoverLayer!=this$static.hoverLayer&&!!lastHoverLayer){localEvent=(screenToLayer_0(lastHoverLayer,event_0.x,event_0.y),new Mouse$MotionEvent$Impl_1(event_0.time,event_0.x,event_0.y,event_0.dx,event_0.dy));localEvent.preventDefault_0=preventDefault;preventDefault=localEvent.preventDefault_0}if(this$static.hoverLayer!=lastHoverLayer&&!!this$static.hoverLayer){localEvent=$localize_0(event_0,this$static.hoverLayer);localEvent.preventDefault_0=preventDefault;preventDefault=localEvent.preventDefault_0}}return preventDefault}
function $onMouseUp_0(this$static,event_0){var localEvent,preventDefault;preventDefault=false;if(this$static.listener){event_0.preventDefault_0=false;$onMouseUp(this$static.listener,event_0);preventDefault=event_0.preventDefault_0}if(this$static.activeLayer){localEvent=$localize(event_0,this$static.activeLayer);localEvent.preventDefault_0=preventDefault;preventDefault=localEvent.preventDefault_0;this$static.activeLayer=null}return preventDefault}
function MouseImpl(){}
_=MouseImpl.prototype=new Object_0();_.getClass$=function(){return Lplayn_core_MouseImpl_2_classLit};_.castableTypeMap$={};_.activeLayer=null;_.hoverLayer=null;_.listener=null;var platform_0=null;function $localize_1(this$static,layer){screenToLayer_0(layer,this$static.x,this$static.y);return new Pointer$Event$Impl_1(this$static.time,this$static.x,this$static.y,this$static.isTouch)}
function Pointer$Event$Impl_0(time,x,y){this.time=time;this.x=x;this.y=y;this.isTouch=false}
function Pointer$Event$Impl_1(time,x,y,isTouch){this.time=time;this.x=x;this.y=y;this.isTouch=isTouch}
function Pointer$Event$Impl(){}
_=Pointer$Event$Impl_1.prototype=Pointer$Event$Impl_0.prototype=Pointer$Event$Impl.prototype=new Events$Position$Impl();_.getClass$=function(){return Lplayn_core_Pointer$Event$Impl_2_classLit};_.name_1=function(){return 'Pointer.Event'};_.castableTypeMap$={};_.isTouch=false;function $onPointerDrag(this$static,event_0,preventDefault){var localEvent;if(this$static.activeLayer){localEvent=$localize_1(event_0,this$static.activeLayer);localEvent.preventDefault_0=preventDefault;preventDefault=localEvent.preventDefault_0}return preventDefault}
function $onPointerEnd(this$static,event_0,preventDefault){var localEvent;if(this$static.activeLayer){localEvent=$localize_1(event_0,this$static.activeLayer);localEvent.preventDefault_0=preventDefault;preventDefault=localEvent.preventDefault_0;this$static.activeLayer=null}return preventDefault}
function $onPointerStart(this$static,event_0,preventDefault){var localEvent,p,root;root=platform_0.graphics_0.rootLayer;if((root.flags&($clinit_24(),INTERACTIVE).bitmask)!=0){p=new Point_0(event_0.x,event_0.y);$inverseTransform(root.transform_0,p,p);p.x+=root.originX;p.y+=root.originY;this$static.activeLayer=dynamicCast(root.hitTestDefault(p),67);if(this$static.activeLayer){localEvent=$localize_1(event_0,this$static.activeLayer);localEvent.preventDefault_0=preventDefault;preventDefault=localEvent.preventDefault_0}}return preventDefault}
function PointerImpl(){}
_=PointerImpl.prototype=new Object_0();_.getClass$=function(){return Lplayn_core_PointerImpl_2_classLit};_.castableTypeMap$={};_.activeLayer=null;function AbstractTransform(){}
_=AbstractTransform.prototype=new Object_0();_.getClass$=function(){return Lpythagoras_f_AbstractTransform_2_classLit};_.castableTypeMap$={};function $inverseTransform(this$static,p,into){var det,rdet,x,y;x=p.x-this$static.tx;y=p.y-this$static.ty;det=this$static.m00*this$static.m11-this$static.m01*this$static.m10;if((det<=0?0-det:det)==0){throw new NoninvertibleTransformException_0('affine ['+toString_0(this$static.m00)+' '+toString_0(this$static.m01)+' '+toString_0(this$static.m10)+' '+toString_0(this$static.m11)+' '+new Vector_1(this$static.tx,this$static.ty)+']')}rdet=1/det;return $set_14(into,(x*this$static.m11-y*this$static.m10)*rdet,(y*this$static.m00-x*this$static.m01)*rdet)}
function $setTranslation(this$static,tx,ty){this$static.tx=tx;this$static.ty=ty;return this$static}
function $setUniformScale(this$static,scale){var mult,mult_0;return mult=scale/Math.sqrt(this$static.m00*this$static.m00+this$static.m01*this$static.m01),this$static.m00*=mult,this$static.m01*=mult,mult_0=scale/Math.sqrt(this$static.m10*this$static.m10+this$static.m11*this$static.m11),this$static.m10*=mult_0,this$static.m11*=mult_0,this$static}
function AffineTransform(){}
_=AffineTransform.prototype=new AbstractTransform();_.getClass$=function(){return Lpythagoras_f_AffineTransform_2_classLit};_.toString$=function(){return 'affine ['+toString_0(this.m00)+' '+toString_0(this.m01)+' '+toString_0(this.m10)+' '+toString_0(this.m11)+' '+new Vector_1(this.tx,this.ty)+']'};_.castableTypeMap$={};_.m00=0;_.m01=0;_.m10=0;_.m11=0;_.tx=0;_.ty=0;function $clinit_26(){$clinit_26=nullMethod;new StockInternalTransform_0()}
function $concatenate(this$static,other,originX,originY){return $concatenate_0(this$static,other.m00,other.m01,other.m10,other.m11,other.tx,other.ty,originX,originY)}
function $concatenate_0(this$static,m00,m01,m10,m11,tx,ty,originX,originY){multiply(this$static.m00,this$static.m01,this$static.m10,this$static.m11,this$static.tx,this$static.ty,1,0,0,1,originX,originY,this$static);multiply(this$static.m00,this$static.m01,this$static.m10,this$static.m11,this$static.tx,this$static.ty,m00,m01,m10,m11,tx-originX,ty-originY,this$static);multiply(this$static.m00,this$static.m01,this$static.m10,this$static.m11,this$static.tx,this$static.ty,1,0,0,1,-originX,-originY,this$static);return this$static}
function StockInternalTransform_0(){$clinit_26();this.m00=1;this.m01=0;this.m10=0;this.m11=1;this.tx=0;this.ty=0}
function StockInternalTransform(){}
_=StockInternalTransform_0.prototype=StockInternalTransform.prototype=new AffineTransform();_.getClass$=function(){return Lplayn_core_StockInternalTransform_2_classLit};_.castableTypeMap$={};function RunQueue_0(){}
function RunQueue(){}
_=RunQueue_0.prototype=RunQueue.prototype=new Object_0();_.getClass$=function(){return Lplayn_core_util_RunQueue_2_classLit};_.castableTypeMap$={};function FlashAssets_0(){this.callback=new AbstractAssets$1_0(this);this.cache=new HashMap_0();new HashMap_0()}
function FlashAssets(){}
_=FlashAssets_0.prototype=FlashAssets.prototype=new AbstractCachingAssets();_.getClass$=function(){return Lplayn_flash_FlashAssets_2_classLit};_.castableTypeMap$={};_.pathPrefix='';function $drawText(this$static,text,x,y){this$static.context2d.strokeText(text,x,y);this$static.context2d.fillText(text,x,y);return this$static}
function $fillRect(this$static,w,h){this$static.context2d.fillRect(0,0,w,h);return this$static}
function $setFillColor(this$static,color){var a_0,b,g,r;this$static.context2d.fillStyle=(a_0=(color>>24&255)/255,r=color>>16&255,g=color>>8&255,b=color&255,'rgba('+r+','+g+','+b+','+a_0+')');return this$static}
function FlashCanvas_0(width,height,context2d){this.width_0=width;this.height_0=height;this.context2d=context2d}
function FlashCanvas(){}
_=FlashCanvas_0.prototype=FlashCanvas.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashCanvas_2_classLit};_.castableTypeMap$={};_.context2d=null;_.height_0=0;_.width_0=0;function $runCallbacks(this$static,success){var cb,cb$iterator;for(cb$iterator=new AbstractList$IteratorImpl_0(this$static.callbacks);cb$iterator.i<cb$iterator.this$0.size_0();){cb=dynamicCast($next(cb$iterator),66);success?cb.done(this$static):cb.error(new Exception_0('Error loading image'))}$clear(this$static.callbacks)}
function $scheduleLoad(this$static,url){var loader=new Loader();var self_0=this$static;var context=new flash.system.LoaderContext();context.checkPolicyFile=true;loader.contentLoaderInfo.addEventListener(flash.events.Event.COMPLETE,function(event_0){self_0.imageData=event_0.target.content.bitmapData;self_0.runCallbacks(true)});loader.addEventListener(flash.events.IOErrorEvent.IO_ERROR,function(){});loader.contentLoaderInfo.addEventListener(flash.events.IOErrorEvent.IO_ERROR,function(){});loader.load(new URLRequest(url),context)}
function FlashImage_0(url){this.callbacks=new ArrayList_0();$scheduleLoad(this,url)}
function FlashImage_1(data){this.callbacks=new ArrayList_0();this.imageData=data}
function FlashImage(){}
_=FlashImage_0.prototype=FlashImage.prototype=new AbstractImage();_.addCallback=function(callback){$add(this.callbacks,callback);this.isReady()&&$runCallbacks(this,true)};_.bitmapData_1=function(){return this.imageData};_.getClass$=function(){return Lplayn_flash_FlashImage_2_classLit};_.height_1=function(){return !this.imageData?0:this.imageData.height};_.isReady=function(){return !!this.imageData};_.runCallbacks=function(success){$runCallbacks(this,success)};_.width_1=function(){return !this.imageData?0:this.imageData.width};_.castableTypeMap$={65:1,69:1};_.imageData=null;function FlashCanvasImage_0(canvas){FlashImage_1.call(this,canvas.context2d.canvas.bitmapData);this.canvas_0=canvas}
function FlashCanvasImage(){}
_=FlashCanvasImage_0.prototype=FlashCanvasImage.prototype=new FlashImage();_.addCallback=function(callback){callback.done(this)};_.bitmapData_1=function(){return this.canvas_0.context2d.canvas.bitmapData};_.getClass$=function(){return Lplayn_flash_FlashCanvasImage_2_classLit};_.height_1=function(){return this.canvas_0.height_0};_.isReady=function(){return true};_.width_1=function(){return this.canvas_0.width_0};_.castableTypeMap$={65:1,69:1};_.canvas_0=null;function $onUncaughtException(e){var elt,elt$array,elt$index,elt$max,msg;msg=$toString(e);for(elt$array=$getStackTrace(e),elt$index=0,elt$max=elt$array.length;elt$index<elt$max;++elt$index){elt=elt$array[elt$index];msg+='\n in '+elt.methodName+'('+elt.fileName+':'+elt.lineNumber+')'}flash.external.ExternalInterface.call('alert',msg)}
function FlashGame$1_0(){}
function FlashGame$1(){}
_=FlashGame$1_0.prototype=FlashGame$1.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashGame$1_2_classLit};_.castableTypeMap$={};function $createImage(width,height){var surface;surface=new FlashCanvas_0(width,height,(new com.googlecode.flashcanvas.Canvas(iceil(width),iceil(height))).getContext('2d'));return new FlashCanvasImage_0(surface)}
function FlashGraphics_0(){var canvasElement,logMsg;new HashMap_0();this.rootLayer=new FlashGroupLayer_0(($clinit_5(),$root));canvasElement=new com.googlecode.flashcanvas.Canvas();this.canvas_0=new FlashCanvas_0($root.stage.stageWidth,$root.stage.stageHeight,canvasElement.getContext('2d'));this.ctx=this.canvas_0.context2d;this.ctx.resize($root.stage.stageWidth,$root.stage.stageHeight);$root.stage.scaleMode=($clinit_7(),NO_SCALE).nativeEnum;$root.stage.align=($clinit_6(),TOP_LEFT).nativeEnum;$root.addChild(canvasElement);logMsg='Graphics System Initialized: Dimensions ('+$root.stage.stageWidth+' x '+$root.stage.stageHeight+')';flash.external.ExternalInterface.call('window.console.log',logMsg);this.dummyCanvas=new com.googlecode.flashcanvas.Canvas();this.dummyCanvas.getContext('2d')}
function FlashGraphics(){}
_=FlashGraphics_0.prototype=FlashGraphics.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashGraphics_2_classLit};_.castableTypeMap$={};_.canvas_0=null;_.ctx=null;_.dummyCanvas=null;_.rootLayer=null;function $setVisible(this$static){$setFlag(this$static,($clinit_24(),VISIBLE),false);this$static.displayObject.visible=false}
function $update_1(this$static){$updateDisplay(this$static);this$static.updateChildren()}
function $updateDisplay(this$static){var x;x=new StockInternalTransform_0();$concatenate(x,this$static.transform_0,this$static.originX,this$static.originY);this$static.displayObject.transform.matrix=new flash.geom.Matrix(x.m00,x.m01,x.m10,x.m11,x.tx,x.ty)}
function FlashLayer_0(displayObject){this.transform_0=new StockInternalTransform_0();$setFlag(this,($clinit_24(),VISIBLE),true);this.displayObject=displayObject}
function FlashLayer(){}
_=FlashLayer.prototype=new AbstractLayer();_.getClass$=function(){return Lplayn_flash_FlashLayer_2_classLit};_.update=function(){$updateDisplay(this);this.updateChildren()};_.updateChildren=function(){};_.castableTypeMap$={67:1,68:1};_.displayObject=null;function $add_5(this$static,layer){var index;index=$add_4(this$static.impl,this$static,layer);layer.update();this$static.displayObject.addChildAt(layer.displayObject,index)}
function $remove_2(this$static,layer){$remove_1(this$static.impl,layer);this$static.displayObject.removeChild(layer.displayObject)}
function FlashGroupLayer_0(container){FlashLayer_0.call(this,container);this.impl=new GroupLayerImpl_0()}
function FlashGroupLayer(){}
_=FlashGroupLayer_0.prototype=FlashGroupLayer.prototype=new FlashLayer();_.getClass$=function(){return Lplayn_flash_FlashGroupLayer_2_classLit};_.hitTestDefault=function(p){return $hitTest(this.impl,this,p)};_.onAdd=function(){!((this.flags&($clinit_24(),DESTROYED).bitmask)!=0);$onAdd(this.impl)};_.onRemove=function(){$onRemove(this.impl)};_.updateChildren=function(){var l,l$iterator;for(l$iterator=new AbstractList$IteratorImpl_0(this.impl.children);l$iterator.i<l$iterator.this$0.size_0();){l=dynamicCast($next(l$iterator),68);l.update()}};_.castableTypeMap$={67:1,68:1};function FlashImageLayer_0(image){FlashLayer_0.call(this,($clinit_4(),new flash.display.Bitmap(null,'auto',true)));this.image=dynamicCast(image,69);image.addCallback(new FlashImageLayer$1_0(this))}
function FlashImageLayer(){}
_=FlashImageLayer_0.prototype=FlashImageLayer.prototype=new FlashLayer();_.getClass$=function(){return Lplayn_flash_FlashImageLayer_2_classLit};_.height_1=function(){return this.image.height_1()};_.update=function(){var anchorHeight,anchorWidth,data,dh,dw,g,shape;if(this.dirty&&!!this.image){dw=this.image.width_1();dh=this.image.height_1();if(this.repeatX||this.repeatY){anchorWidth=this.repeatX?dw:this.image.width_1();anchorHeight=this.repeatY?dh:this.image.height_1();shape=create_0(~~Math.max(Math.min(anchorWidth,2147483647),-2147483648),~~Math.max(Math.min(anchorHeight,2147483647),-2147483648));g=shape.graphics;g.beginBitmapFill(this.bitmapData_0,new flash.geom.Matrix(),true,true);g.drawRect(0,0,anchorWidth,anchorHeight);g.endFill();data=new flash.display.BitmapData(~~Math.max(Math.min(dw,2147483647),-2147483648),~~Math.max(Math.min(dh,2147483647),-2147483648),true,0);data.draw(shape);$setBitmapData(this.displayObject,data)}else{$setBitmapData(this.displayObject,this.bitmapData_0)}this.displayObject.width=~~Math.max(Math.min(dw,2147483647),-2147483648);this.displayObject.height=~~Math.max(Math.min(dh,2147483647),-2147483648);this.dirty=false}$updateDisplay(this)};_.width_1=function(){return this.image.width_1()};_.castableTypeMap$={67:1,68:1};_.bitmapData_0=null;_.dirty=true;_.image=null;_.repeatX=false;_.repeatY=false;function $done(this$static,resource){this$static.this$0.bitmapData_0=dynamicCast(resource,69).bitmapData_1();this$static.this$0.dirty=true}
function FlashImageLayer$1_0(this$0){this.this$0=this$0}
function FlashImageLayer$1(){}
_=FlashImageLayer$1_0.prototype=FlashImageLayer$1.prototype=new Object_0();_.done=function(resource){$done(this,dynamicCast(resource,65))};_.error=function(err){var logMsg;logMsg=$toString(err)+'';flash.external.ExternalInterface.call('window.console.log',logMsg)};_.getClass$=function(){return Lplayn_flash_FlashImageLayer$1_2_classLit};_.castableTypeMap$={66:1};_.this$0=null;function FlashImmediateLayerCanvas_0(ctx){FlashImmediateLayerCanvas_1.call(this,ctx,($clinit_5(),$root).stage.stageWidth,$root.stage.stageHeight)}
function FlashImmediateLayerCanvas_1(ctx,width,height){FlashLayer_0.call(this,new com.googlecode.flashcanvas.Canvas(iceil(width),iceil(height)));new FlashCanvas_0(width,height,ctx)}
function FlashImmediateLayerCanvas(){}
_=FlashImmediateLayerCanvas_0.prototype=FlashImmediateLayerCanvas.prototype=new FlashLayer();_.getClass$=function(){return Lplayn_flash_FlashImmediateLayerCanvas_2_classLit};_.castableTypeMap$={67:1,68:1};function FlashImmediateLayerCanvas$Clipped_0(ctx){FlashLayer_0.call(this,new com.googlecode.flashcanvas.Canvas(iceil(320),iceil(320)));new FlashCanvas_0(320,320,ctx);this.width_0=320;this.height_0=320}
function FlashImmediateLayerCanvas$Clipped(){}
_=FlashImmediateLayerCanvas$Clipped_0.prototype=FlashImmediateLayerCanvas$Clipped.prototype=new FlashImmediateLayerCanvas();_.getClass$=function(){return Lplayn_flash_FlashImmediateLayerCanvas$Clipped_2_classLit};_.height_1=function(){return this.height_0};_.width_1=function(){return this.width_0};_.castableTypeMap$={67:1,68:1};_.height_0=0;_.width_0=0;function FlashKeyboard_0(){captureEvent(($clinit_5(),KEYDOWN),new FlashKeyboard$1_0(this));captureEvent(KEYUP,new FlashKeyboard$2_0(this))}
function keyForCode(keyCode){switch(keyCode){case 65:return $clinit_25(),A;case 18:return $clinit_25(),ALT;case 66:return $clinit_25(),B;case 16777237:case 16777238:return $clinit_25(),BACK;case 192:return $clinit_25(),BACKQUOTE;case 220:return $clinit_25(),BACKSLASH;case 8:return $clinit_25(),BACKSPACE;case 16777219:return $clinit_25(),BLUE;case 67:return $clinit_25(),C_0;case 20:return $clinit_25(),CAPS_LOCK;case 16777221:return $clinit_25(),CHANNEL_DOWN;case 16777220:return $clinit_25(),CHANNEL_UP;case 188:return $clinit_25(),COMMA;case 15:return $clinit_25(),META;case 17:return $clinit_25(),CONTROL;case 68:return $clinit_25(),D_0;case 46:return $clinit_25(),DELETE;case 40:return $clinit_25(),DOWN;case 16777241:return $clinit_25(),DVR;case 69:return $clinit_25(),E;case 35:return $clinit_25(),END;case 108:case 13:return $clinit_25(),ENTER;case 187:return $clinit_25(),EQUALS;case 27:return $clinit_25(),ESCAPE;case 70:return $clinit_25(),F;case 112:return $clinit_25(),F1;case 113:return $clinit_25(),F2;case 114:return $clinit_25(),F3;case 115:return $clinit_25(),F4;case 116:return $clinit_25(),F5;case 117:return $clinit_25(),F6;case 118:return $clinit_25(),F7;case 119:return $clinit_25(),F8;case 120:return $clinit_25(),F9;case 121:return $clinit_25(),F10;case 122:return $clinit_25(),F11;case 123:return $clinit_25(),F12;case 16777226:return $clinit_25(),MEDIA_FAST_FORWARD;case 71:return $clinit_25(),G;case 16777217:return $clinit_25(),GREEN;case 16777236:return $clinit_25(),GUIDE;case 72:return $clinit_25(),H;case 36:return $clinit_25(),HOME;case 73:return $clinit_25(),I_0;case 16777235:return $clinit_25(),INFO;case 16777243:return $clinit_25(),AVR_INPUT;case 45:return $clinit_25(),INSERT;case 74:return $clinit_25(),J;case 75:return $clinit_25(),K_0;case 76:return $clinit_25(),L;case 37:return $clinit_25(),LEFT;case 219:return $clinit_25(),LEFT_BRACKET;case 77:return $clinit_25(),M;case 16777234:case 16777244:case 16777246:return $clinit_25(),MENU;case 189:return $clinit_25(),MINUS;case 78:return $clinit_25(),N;case 16777228:case 16777230:return $clinit_25(),MEDIA_NEXT;case 48:return $clinit_25(),K0;case 49:return $clinit_25(),K1;case 50:return $clinit_25(),K2;case 51:return $clinit_25(),K3;case 52:return $clinit_25(),K4;case 53:return $clinit_25(),K5;case 54:return $clinit_25(),K6;case 55:return $clinit_25(),K7;case 56:return $clinit_25(),K8;case 57:return $clinit_25(),K9;case 21:return $clinit_25(),NP_NUM_LOCK;case 96:return $clinit_25(),NP0;case 97:return $clinit_25(),NP1;case 98:return $clinit_25(),NP2;case 99:return $clinit_25(),NP3;case 100:return $clinit_25(),NP4;case 101:return $clinit_25(),NP5;case 102:return $clinit_25(),NP6;case 103:return $clinit_25(),NP7;case 104:return $clinit_25(),NP8;case 105:return $clinit_25(),NP9;case 107:return $clinit_25(),NP_ADD;case 110:return $clinit_25(),NP_DECIMAL;case 111:return $clinit_25(),NP_DIVIDE;case 106:return $clinit_25(),NP_MULTIPLY;case 109:return $clinit_25(),NP_SUBTRACT;case 79:return $clinit_25(),O;case 80:return $clinit_25(),P;case 34:return $clinit_25(),PAGE_DOWN;case 33:return $clinit_25(),PAGE_UP;case 16777224:return $clinit_25(),PAUSE;case 190:return $clinit_25(),PERIOD;case 16777223:return $clinit_25(),MEDIA_PLAY;case 16777229:case 16777231:return $clinit_25(),MEDIA_PREVIOUS;case 81:return $clinit_25(),Q;case 222:return $clinit_25(),QUOTE;case 82:return $clinit_25(),R_0;case 16777222:return $clinit_25(),MEDIA_RECORD;case 16777216:return $clinit_25(),RED;case 16777227:return $clinit_25(),MEDIA_REWIND;case 39:return $clinit_25(),RIGHT;case 221:return $clinit_25(),RIGHT_BRACKET;case 83:return $clinit_25(),S;case 16777247:return $clinit_25(),SEARCH;case 186:return $clinit_25(),SEMICOLON;case 16:return $clinit_25(),SHIFT;case 191:return $clinit_25(),SLASH;case 32:return $clinit_25(),SPACE;case 16777225:return $clinit_25(),MEDIA_STOP;case 84:return $clinit_25(),T_0;case 9:return $clinit_25(),TAB;case 85:return $clinit_25(),U;case 38:return $clinit_25(),UP;case 86:return $clinit_25(),V;case 87:return $clinit_25(),W;case 88:return $clinit_25(),X;case 89:return $clinit_25(),Y;case 16777218:return $clinit_25(),YELLOW;case 90:return $clinit_25(),Z;default:return $clinit_25(),UNKNOWN_1;}}
function FlashKeyboard(){}
_=FlashKeyboard_0.prototype=FlashKeyboard.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashKeyboard_2_classLit};_.castableTypeMap$={};_.listener=null;function $handleEvent(this$static,nativeEvent){var charCode,event_0,typedEvent;if(this$static.this$0.listener){event_0=new Keyboard$Event$Impl_0((new Date()).getTime(),keyForCode(nativeEvent.keyCode));$onKeyDown(this$static.this$0.listener,event_0);event_0.preventDefault_0&&(nativeEvent.preventDefault(),undefined);charCode=nativeEvent.charCode;if(charCode!=0){typedEvent=new Keyboard$TypedEvent$Impl_0((new Date()).getTime(),charCode&65535);typedEvent.preventDefault_0&&(nativeEvent.preventDefault(),undefined)}}}
function FlashKeyboard$1_0(this$0){this.this$0=this$0}
function FlashKeyboard$1(){}
_=FlashKeyboard$1_0.prototype=FlashKeyboard$1.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashKeyboard$1_2_classLit};_.handleEvent=function(nativeEvent){$handleEvent(this,nativeEvent)};_.castableTypeMap$={};_.this$0=null;function $handleEvent_0(this$static,nativeEvent){var event_0;if(this$static.this$0.listener){event_0=new Keyboard$Event$Impl_0((new Date()).getTime(),keyForCode(nativeEvent.keyCode));$onKeyUp(this$static.this$0.listener,event_0);event_0.preventDefault_0&&(nativeEvent.preventDefault(),undefined)}}
function FlashKeyboard$2_0(this$0){this.this$0=this$0}
function FlashKeyboard$2(){}
_=FlashKeyboard$2_0.prototype=FlashKeyboard$2.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashKeyboard$2_2_classLit};_.handleEvent=function(nativeEvent){$handleEvent_0(this,nativeEvent)};_.castableTypeMap$={};_.this$0=null;function FlashMouse_0(){captureEvent(($clinit_5(),MOUSEDOWN),new FlashMouse$1_0(this));captureEvent(MOUSEUP,new FlashMouse$2_0(this));captureEvent(MOUSEMOVE,new FlashMouse$3_0(this))}
function FlashMouse(){}
_=FlashMouse_0.prototype=FlashMouse.prototype=new MouseImpl();_.getClass$=function(){return Lplayn_flash_FlashMouse_2_classLit};_.castableTypeMap$={};function FlashMouse$1_0(this$0){this.this$0=this$0}
function FlashMouse$1(){}
_=FlashMouse$1_0.prototype=FlashMouse$1.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashMouse$1_2_classLit};_.handleEvent=function(nativeEvent){var x,y;x=nativeEvent.stageX;y=nativeEvent.stageY;$onMouseDown_0(this.this$0,new Mouse$ButtonEvent$Impl_0((new Date()).getTime(),x,y))&&(nativeEvent.preventDefault(),undefined)};_.castableTypeMap$={};_.this$0=null;function FlashMouse$2_0(this$0){this.this$0=this$0}
function FlashMouse$2(){}
_=FlashMouse$2_0.prototype=FlashMouse$2.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashMouse$2_2_classLit};_.handleEvent=function(nativeEvent){var x,y;x=nativeEvent.stageX;y=nativeEvent.stageY;$onMouseUp_0(this.this$0,new Mouse$ButtonEvent$Impl_0((new Date()).getTime(),x,y))&&(nativeEvent.preventDefault(),undefined)};_.castableTypeMap$={};_.this$0=null;function $handleEvent_1(this$static,nativeEvent){var x,y;x=nativeEvent.stageX;y=nativeEvent.stageY;if(this$static.lastX==-1){this$static.lastX=x;this$static.lastY=y}$onMouseMove_0(this$static.this$0,new Mouse$MotionEvent$Impl_0((new Date()).getTime(),x,y,x-this$static.lastX,y-this$static.lastY))&&(nativeEvent.preventDefault(),undefined);this$static.lastX=x;this$static.lastY=y}
function FlashMouse$3_0(this$0){this.this$0=this$0}
function FlashMouse$3(){}
_=FlashMouse$3_0.prototype=FlashMouse$3.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashMouse$3_2_classLit};_.handleEvent=function(nativeEvent){$handleEvent_1(this,nativeEvent)};_.castableTypeMap$={};_.lastX=-1;_.lastY=-1;_.this$0=null;function $run(this$static,game){this$static.paintCallback=new FlashPlatform$1_0(this$static,game);$init(game);captureEvent(($clinit_4(),ENTERFRAME),new FlashPlatform$2_0(this$static.paintCallback))}
function FlashPlatform_0(){this.runQueue=new RunQueue_0();this.assets=new FlashAssets_0();this.keyboard=new FlashKeyboard_0();new FlashPointer_0();this.mouse=new FlashMouse_0();this.graphics_0=new FlashGraphics_0();new FlashStorage_0()}
function captureEvent(eventType,eventHandler){$root.stage.addEventListener(eventType,function(arg){eventHandler.handleEvent(arg)})}
function FlashPlatform(){}
_=FlashPlatform_0.prototype=FlashPlatform.prototype=new AbstractPlatform();_.getClass$=function(){return Lplayn_flash_FlashPlatform_2_classLit};_.castableTypeMap$={};_.graphics_0=null;_.keyboard=null;_.mouse=null;_.paintCallback=null;var platform_1=null;function $fire(this$static){var delta,frameRate,now,logMsg;this$static.this$0.runQueue;now=(new Date()).getTime();this$static.frameCounter==0&&(this$static.frameCounterStart=now);delta=now-this$static.lastTime;delta>100&&(delta=100);this$static.lastTime=now;if(this$static.val$updateRate==0){$update(this$static.val$game,delta);this$static.accum=0}else{this$static.accum+=delta;while(this$static.accum>this$static.val$updateRate){$update(this$static.val$game,this$static.val$updateRate);this$static.accum-=this$static.val$updateRate}}$update_1(this$static.this$0.graphics_0.rootLayer);++this$static.frameCounter;if(this$static.frameCounter==300){frameRate=this$static.frameCounter/(((new Date()).getTime()-this$static.frameCounterStart)/1000);logMsg=(this$static.this$0,'FPS: '+frameRate)+'';flash.external.ExternalInterface.call('window.console.log',logMsg);this$static.frameCounter=0}}
function FlashPlatform$1_0(this$0,val$game){this.this$0=this$0;this.val$updateRate=16;this.val$game=val$game;this.accum=this.val$updateRate}
function FlashPlatform$1(){}
_=FlashPlatform$1_0.prototype=FlashPlatform$1.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashPlatform$1_2_classLit};_.castableTypeMap$={};_.frameCounter=0;_.frameCounterStart=0;_.lastTime=0;_.this$0=null;_.val$game=null;_.val$updateRate=0;function FlashPlatform$2_0(val$callback){this.val$callback=val$callback}
function FlashPlatform$2(){}
_=FlashPlatform$2_0.prototype=FlashPlatform$2.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashPlatform$2_2_classLit};_.handleEvent=function(evt){evt.preventDefault();$fire(this.val$callback)};_.castableTypeMap$={};_.val$callback=null;function FlashPointer_0(){captureEvent(($clinit_5(),MOUSEDOWN),new FlashPointer$1_0(this));captureEvent(MOUSEUP,new FlashPointer$2_0(this));captureEvent(MOUSEMOVE,new FlashPointer$3_0(this))}
function FlashPointer(){}
_=FlashPointer_0.prototype=FlashPointer.prototype=new PointerImpl();_.getClass$=function(){return Lplayn_flash_FlashPointer_2_classLit};_.castableTypeMap$={};_.mouseDown=false;function FlashPointer$1_0(this$0){this.this$0=this$0}
function FlashPointer$1(){}
_=FlashPointer$1_0.prototype=FlashPointer$1.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashPointer$1_2_classLit};_.handleEvent=function(nativeEvent){this.this$0.mouseDown=true;$onPointerStart(this.this$0,new Pointer$Event$Impl_0((new Date()).getTime(),nativeEvent.stageX,nativeEvent.stageY),false)&&(nativeEvent.preventDefault(),undefined)};_.castableTypeMap$={};_.this$0=null;function FlashPointer$2_0(this$0){this.this$0=this$0}
function FlashPointer$2(){}
_=FlashPointer$2_0.prototype=FlashPointer$2.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashPointer$2_2_classLit};_.handleEvent=function(nativeEvent){this.this$0.mouseDown=false;$onPointerEnd(this.this$0,new Pointer$Event$Impl_0((new Date()).getTime(),nativeEvent.stageX,nativeEvent.stageY),false)&&(nativeEvent.preventDefault(),undefined)};_.castableTypeMap$={};_.this$0=null;function FlashPointer$3_0(this$0){this.this$0=this$0}
function FlashPointer$3(){}
_=FlashPointer$3_0.prototype=FlashPointer$3.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashPointer$3_2_classLit};_.handleEvent=function(nativeEvent){this.this$0.mouseDown&&$onPointerDrag(this.this$0,new Pointer$Event$Impl_0((new Date()).getTime(),nativeEvent.stageX,nativeEvent.stageY),false)&&(nativeEvent.preventDefault(),undefined)};_.castableTypeMap$={};_.this$0=null;function $play(this$static){this$static.soundChannel=this$static.sound.play(0,this$static.looping?99999999:0);this$static.isPlaying=true;$addEventListener(this$static.soundChannel,($clinit_27(),SOUND_COMPLETE),new FlashSound$1_0(this$static),false,0,false);return true}
function FlashSound_0(){}
function FlashSound(){}
_=FlashSound_0.prototype=FlashSound.prototype=new AbstractSound();_.getClass$=function(){return Lplayn_flash_FlashSound_2_classLit};_.castableTypeMap$={4:1};_.isPlaying=false;_.looping=false;_.sound=null;_.soundChannel=null;function FlashSound$1_0(this$0){this.this$0=this$0}
function FlashSound$1(){}
_=FlashSound$1_0.prototype=FlashSound$1.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashSound$1_2_classLit};_.handleEvent=function(evt){this.this$0.isPlaying=false};_.castableTypeMap$={};_.this$0=null;function createSound(uri,flashSound){var s=new flash.media.Sound();s.addEventListener(Event.COMPLETE,function(event_0){flashSound.onLoadComplete()});s.addEventListener(IOErrorEvent.IO_ERROR,function(event_0){flashSound.onLoadError(new Error('IOErrorEvent.IO_ERROR'))});s.load(new URLRequest(uri));return s}
function $clinit_27(){$clinit_27=nullMethod;$clinit_3();SOUND_COMPLETE='soundComplete'}
var SOUND_COMPLETE;function FlashStorage_0(){$clinit_8();flash.net.SharedObject.getLocal('playn',null,false)}
function FlashStorage(){}
_=FlashStorage_0.prototype=FlashStorage.prototype=new Object_0();_.getClass$=function(){return Lplayn_flash_FlashStorage_2_classLit};_.castableTypeMap$={};function AbstractPoint(){}
_=AbstractPoint.prototype=new Object_0();_.equals$=function(obj){var p;if(obj===this){return true}if(obj!=null&&obj.castableTypeMap$&&!!obj.castableTypeMap$[70]){p=dynamicCast(obj,70);return this.x_0()==p.x&&this.y_0()==p.y}return false};_.getClass$=function(){return Lpythagoras_f_AbstractPoint_2_classLit};_.hashCode$=function(){return ~~Math.max(Math.min(this.x_0(),2147483647),-2147483648)^~~Math.max(Math.min(this.y_0(),2147483647),-2147483648)};_.toString$=function(){return pointToString(this.x_0(),this.y_0())};_.castableTypeMap$={70:1};function AbstractVector(){}
_=AbstractVector.prototype=new Object_0();_.equals$=function(obj){var p;if(obj===this){return true}if(obj!=null&&obj.castableTypeMap$&&!!obj.castableTypeMap$[71]){p=dynamicCast(obj,71);return this.x_0()==p.x&&this.y_0()==p.y}return false};_.getClass$=function(){return Lpythagoras_f_AbstractVector_2_classLit};_.hashCode$=function(){return ~~Math.max(Math.min(this.x_0(),2147483647),-2147483648)^~~Math.max(Math.min(this.y_0(),2147483647),-2147483648)};_.toString$=function(){return vectorToString(this.x_0(),this.y_0())};_.castableTypeMap$={71:1};function iceil(v){var iv;iv=~~Math.max(Math.min(v,2147483647),-2147483648);return v<=0||iv==v||iv==2147483647?iv:iv+1}
function toString_0(value){var buf,ii,ivalue;buf=new StringBuilder_0();if(value>=0)$append_3(buf.data,'+');else{$append_3(buf.data,'-');value=-value}ivalue=~~Math.max(Math.min(value,2147483647),-2147483648);$append_2(buf.data,ivalue);$append_3(buf.data,'.');for(ii=0;ii<3;++ii){value=(value-ivalue)*10;ivalue=~~Math.max(Math.min(value,2147483647),-2147483648);$append_2(buf.data,ivalue)}for(ii=0;ii<2;++ii){$charAt(buf,$toString_0(buf.data).length-1)==48&&$setLength(buf,$toString_0(buf.data).length-1)}return $toString_0(buf.data)}
function $set_14(this$static,x,y){this$static.x=x;this$static.y=y;return this$static}
function Point_0(x,y){this.x=x;this.y=y}
function Point(){}
_=Point_0.prototype=Point.prototype=new AbstractPoint();_.getClass$=function(){return Lpythagoras_f_Point_2_classLit};_.x_0=function(){return this.x};_.y_0=function(){return this.y};_.castableTypeMap$={12:1,70:1};_.x=0;_.y=0;function $clinit_28(){$clinit_28=nullMethod;new Point_0(0,0)}
function pointToString(x,y){$clinit_28();return toString_0(x)+toString_0(y)}
function multiply(am00,am01,am10,am11,atx,aty,bm00,bm01,bm10,bm11,btx,bty,into){into.m00=am00*bm00+am10*bm01;into.m01=am01*bm00+am11*bm01;into.m10=am00*bm10+am10*bm11;into.m11=am01*bm10+am11*bm11;into.tx=am00*btx+am10*bty+atx;into.ty=am01*btx+am11*bty+aty;return into}
function Vector_1(x,y){this.x=x;this.y=y}
function Vector_0(){}
_=Vector_1.prototype=Vector_0.prototype=new AbstractVector();_.getClass$=function(){return Lpythagoras_f_Vector_2_classLit};_.x_0=function(){return this.x};_.y_0=function(){return this.y};_.castableTypeMap$={71:1};_.x=0;_.y=0;function $clinit_29(){$clinit_29=nullMethod;new Vector_1(1,0);new Vector_1(0,1);new Vector_1(0,0);new Vector_1(-3.4028234663852886E38,-3.4028234663852886E38);new Vector_1(3.4028234663852886E38,3.4028234663852886E38)}
function vectorToString(x,y){$clinit_29();return toString_0(x)+toString_0(y)}
function NoninvertibleTransformException_0(s){$fillInStackTrace(this);this.detailMessage=s}
function NoninvertibleTransformException(){}
_=NoninvertibleTransformException_0.prototype=NoninvertibleTransformException.prototype=new RuntimeException();_.getClass$=function(){return Lpythagoras_util_NoninvertibleTransformException_2_classLit};_.castableTypeMap$={2:1,3:1,12:1,48:1};var $entry=entry_0;function gwtOnLoad(errFn,modName,modBase,softPermutationId){$moduleName=modName;$moduleBase=modBase;if(errFn)try{$entry(init)()}catch(e){errFn(modName)}else{$entry(init)()}}
var Ljava_lang_Object_2_classLit=createForClass('java.lang.','Object'),Ljava_lang_Enum_2_classLit=createForClass('java.lang.','Enum'),Ljava_lang_Throwable_2_classLit=createForClass('java.lang.','Throwable'),Ljava_lang_Exception_2_classLit=createForClass('java.lang.','Exception'),Ljava_lang_RuntimeException_2_classLit=createForClass('java.lang.','RuntimeException'),Lcom_google_gwt_core_client_JavaScriptException_2_classLit=createForClass('com.google.gwt.core.client.','JavaScriptException'),Lcom_google_gwt_core_client_JavaScriptObject_2_classLit=createForClass('com.google.gwt.core.client.','JavaScriptObject$'),Lcom_google_gwt_core_client_Scheduler_2_classLit=createForClass('com.google.gwt.core.client.','Scheduler'),I_classLit=createForPrimitive('int'),_3I_classLit=createForArray('','[I',I_classLit),_3Ljava_lang_Object_2_classLit=createForArray('[Ljava.lang.','Object;',Ljava_lang_Object_2_classLit),Lcom_google_gwt_core_client_impl_SchedulerImpl_2_classLit=createForClass('com.google.gwt.core.client.impl.','SchedulerImpl'),Lcom_google_gwt_core_client_impl_StackTraceCreator$Collector_2_classLit=createForClass('com.google.gwt.core.client.impl.','StackTraceCreator$Collector'),Ljava_lang_StackTraceElement_2_classLit=createForClass('java.lang.','StackTraceElement'),_3Ljava_lang_StackTraceElement_2_classLit=createForArray('[Ljava.lang.','StackTraceElement;',Ljava_lang_StackTraceElement_2_classLit),Lcom_google_gwt_core_client_impl_StackTraceCreator$CollectorMoz_2_classLit=createForClass('com.google.gwt.core.client.impl.','StackTraceCreator$CollectorMoz'),Lcom_google_gwt_core_client_impl_StackTraceCreator$CollectorChrome_2_classLit=createForClass('com.google.gwt.core.client.impl.','StackTraceCreator$CollectorChrome'),Ljava_lang_String_2_classLit=createForClass('java.lang.','String'),_3Ljava_lang_String_2_classLit=createForArray('[Ljava.lang.','String;',Ljava_lang_String_2_classLit),Lcom_google_gwt_lang_LongLibBase$LongEmul_2_classLit=createForClass('com.google.gwt.lang.','LongLibBase$LongEmul'),_3Lcom_google_gwt_lang_LongLibBase$LongEmul_2_classLit=createForArray('[Lcom.google.gwt.lang.','LongLibBase$LongEmul;',Lcom_google_gwt_lang_LongLibBase$LongEmul_2_classLit),Lcom_ironalloygames_core_Camera_2_classLit=createForClass('com.ironalloygames.core.','Camera'),Lcom_ironalloygames_core_Entity_2_classLit=createForClass('com.ironalloygames.core.','Entity'),Lcom_ironalloygames_core_Creature_2_classLit=createForClass('com.ironalloygames.core.','Creature'),Lcom_ironalloygames_core_Gene_2_classLit=createForClass('com.ironalloygames.core.','Gene'),Lcom_ironalloygames_core_Genome_2_classLit=createForClass('com.ironalloygames.core.','Genome'),Lcom_ironalloygames_core_PetriDishEmpire_2_classLit=createForClass('com.ironalloygames.core.','PetriDishEmpire'),Lcom_ironalloygames_core_Spark_2_classLit=createForClass('com.ironalloygames.core.','Spark'),Lcom_ironalloygames_core_piece_Piece_2_classLit=createForClass('com.ironalloygames.core.piece.','Piece'),Lcom_ironalloygames_core_piece_Armor_2_classLit=createForClass('com.ironalloygames.core.piece.','Armor'),Lcom_ironalloygames_core_piece_Engine_2_classLit=createForClass('com.ironalloygames.core.piece.','Engine'),Lcom_ironalloygames_core_piece_SolarCell_2_classLit=createForClass('com.ironalloygames.core.piece.','SolarCell'),Lcom_ironalloygames_core_piece_Structure_2_classLit=createForClass('com.ironalloygames.core.piece.','Structure'),Lcom_ironalloygames_core_piece_WeakPoint_2_classLit=createForClass('com.ironalloygames.core.piece.','WeakPoint'),Lcom_ironalloygames_core_piece_Weapon_2_classLit=createForClass('com.ironalloygames.core.piece.','Weapon'),Lflash_display_StageAlign_2_classLit=createForEnum('flash.display.','StageAlign',values),_3Lflash_display_StageAlign_2_classLit=createForArray('[Lflash.display.','StageAlign;',Lflash_display_StageAlign_2_classLit),Lflash_display_StageScaleMode_2_classLit=createForEnum('flash.display.','StageScaleMode',values_0),_3Lflash_display_StageScaleMode_2_classLit=createForArray('[Lflash.display.','StageScaleMode;',Lflash_display_StageScaleMode_2_classLit),Ljava_lang_IndexOutOfBoundsException_2_classLit=createForClass('java.lang.','IndexOutOfBoundsException'),Ljava_lang_ArrayIndexOutOfBoundsException_2_classLit=createForClass('java.lang.','ArrayIndexOutOfBoundsException'),Ljava_lang_ArrayStoreException_2_classLit=createForClass('java.lang.','ArrayStoreException'),Ljava_lang_Boolean_2_classLit=createForClass('java.lang.','Boolean'),Ljava_lang_Number_2_classLit=createForClass('java.lang.','Number'),C_classLit=createForPrimitive('char'),_3C_classLit=createForArray('','[C',C_classLit),Ljava_lang_Class_2_classLit=createForClass('java.lang.','Class'),Ljava_lang_ClassCastException_2_classLit=createForClass('java.lang.','ClassCastException'),Ljava_lang_IllegalArgumentException_2_classLit=createForClass('java.lang.','IllegalArgumentException'),Ljava_lang_Integer_2_classLit=createForClass('java.lang.','Integer'),Ljava_lang_NullPointerException_2_classLit=createForClass('java.lang.','NullPointerException'),Ljava_lang_StringBuffer_2_classLit=createForClass('java.lang.','StringBuffer'),Ljava_lang_StringBuilder_2_classLit=createForClass('java.lang.','StringBuilder'),Ljava_lang_ThreadLocal_2_classLit=createForClass('java.lang.','ThreadLocal'),Ljava_lang_UnsupportedOperationException_2_classLit=createForClass('java.lang.','UnsupportedOperationException'),F_classLit=createForPrimitive('float'),_3F_classLit=createForArray('','[F',F_classLit),Ljava_util_AbstractCollection_2_classLit=createForClass('java.util.','AbstractCollection'),Ljava_util_AbstractMap_2_classLit=createForClass('java.util.','AbstractMap'),Ljava_util_AbstractHashMap_2_classLit=createForClass('java.util.','AbstractHashMap'),Ljava_util_AbstractSet_2_classLit=createForClass('java.util.','AbstractSet'),Ljava_util_AbstractHashMap$EntrySet_2_classLit=createForClass('java.util.','AbstractHashMap$EntrySet'),Ljava_util_AbstractHashMap$EntrySetIterator_2_classLit=createForClass('java.util.','AbstractHashMap$EntrySetIterator'),Ljava_util_AbstractMapEntry_2_classLit=createForClass('java.util.','AbstractMapEntry'),Ljava_util_AbstractHashMap$MapEntryNull_2_classLit=createForClass('java.util.','AbstractHashMap$MapEntryNull'),Ljava_util_AbstractHashMap$MapEntryString_2_classLit=createForClass('java.util.','AbstractHashMap$MapEntryString'),Ljava_util_AbstractList_2_classLit=createForClass('java.util.','AbstractList'),Ljava_util_AbstractList$IteratorImpl_2_classLit=createForClass('java.util.','AbstractList$IteratorImpl'),Ljava_util_ArrayList_2_classLit=createForClass('java.util.','ArrayList'),Ljava_util_Comparators$1_2_classLit=createForClass('java.util.','Comparators$1'),Ljava_util_EmptyStackException_2_classLit=createForClass('java.util.','EmptyStackException'),Ljava_util_HashMap_2_classLit=createForClass('java.util.','HashMap'),Ljava_util_MapEntryImpl_2_classLit=createForClass('java.util.','MapEntryImpl'),Ljava_util_NoSuchElementException_2_classLit=createForClass('java.util.','NoSuchElementException'),D_classLit=createForPrimitive('double'),_3D_classLit=createForArray('','[D',D_classLit),Ljava_util_Random_2_classLit=createForClass('java.util.','Random'),Ljava_util_Vector_2_classLit=createForClass('java.util.','Vector'),Ljava_util_Stack_2_classLit=createForClass('java.util.','Stack'),Lorg_jbox2d_callbacks_ContactFilter_2_classLit=createForClass('org.jbox2d.callbacks.','ContactFilter'),Lorg_jbox2d_callbacks_ContactImpulse_2_classLit=createForClass('org.jbox2d.callbacks.','ContactImpulse'),Lorg_jbox2d_collision_AABB_2_classLit=createForClass('org.jbox2d.collision.','AABB'),Lorg_jbox2d_collision_Collision$ClipVertex_2_classLit=createForClass('org.jbox2d.collision.','Collision$ClipVertex'),_3Lorg_jbox2d_collision_Collision$ClipVertex_2_classLit=createForArray('[Lorg.jbox2d.collision.','Collision$ClipVertex;',Lorg_jbox2d_collision_Collision$ClipVertex_2_classLit),Lorg_jbox2d_collision_Collision_2_classLit=createForClass('org.jbox2d.collision.','Collision'),Lorg_jbox2d_collision_Collision$EdgeResults_2_classLit=createForClass('org.jbox2d.collision.','Collision$EdgeResults'),Lorg_jbox2d_collision_ContactID_2_classLit=createForClass('org.jbox2d.collision.','ContactID'),Lorg_jbox2d_collision_ContactID$Features_2_classLit=createForClass('org.jbox2d.collision.','ContactID$Features'),Lorg_jbox2d_collision_Distance_2_classLit=createForClass('org.jbox2d.collision.','Distance'),Lorg_jbox2d_collision_Distance$DistanceProxy_2_classLit=createForClass('org.jbox2d.collision.','Distance$DistanceProxy'),Lorg_jbox2d_common_Vec2_2_classLit=createForClass('org.jbox2d.common.','Vec2'),_3Lorg_jbox2d_common_Vec2_2_classLit=createForArray('[Lorg.jbox2d.common.','Vec2;',Lorg_jbox2d_common_Vec2_2_classLit),Lorg_jbox2d_collision_Distance$SimplexVertex_2_classLit=createForClass('org.jbox2d.collision.','Distance$SimplexVertex'),_3Lorg_jbox2d_collision_Distance$SimplexVertex_2_classLit=createForArray('[Lorg.jbox2d.collision.','Distance$SimplexVertex;',Lorg_jbox2d_collision_Distance$SimplexVertex_2_classLit),Lorg_jbox2d_collision_Distance$Simplex_2_classLit=createForClass('org.jbox2d.collision.','Distance$Simplex'),Lorg_jbox2d_collision_Distance$SimplexCache_2_classLit=createForClass('org.jbox2d.collision.','Distance$SimplexCache'),Lorg_jbox2d_collision_DistanceInput_2_classLit=createForClass('org.jbox2d.collision.','DistanceInput'),Lorg_jbox2d_collision_DistanceOutput_2_classLit=createForClass('org.jbox2d.collision.','DistanceOutput'),Lorg_jbox2d_collision_Manifold_2_classLit=createForClass('org.jbox2d.collision.','Manifold'),Lorg_jbox2d_collision_ManifoldPoint_2_classLit=createForClass('org.jbox2d.collision.','ManifoldPoint'),_3Lorg_jbox2d_collision_ManifoldPoint_2_classLit=createForArray('[Lorg.jbox2d.collision.','ManifoldPoint;',Lorg_jbox2d_collision_ManifoldPoint_2_classLit),Lorg_jbox2d_collision_Manifold$ManifoldType_2_classLit=createForEnum('org.jbox2d.collision.','Manifold$ManifoldType',values_1),_3Lorg_jbox2d_collision_Manifold$ManifoldType_2_classLit=createForArray('[Lorg.jbox2d.collision.','Manifold$ManifoldType;',Lorg_jbox2d_collision_Manifold$ManifoldType_2_classLit),Lorg_jbox2d_collision_RayCastInput_2_classLit=createForClass('org.jbox2d.collision.','RayCastInput'),Lorg_jbox2d_collision_RayCastOutput_2_classLit=createForClass('org.jbox2d.collision.','RayCastOutput'),Lorg_jbox2d_collision_SeparationFunction_2_classLit=createForClass('org.jbox2d.collision.','SeparationFunction'),Lorg_jbox2d_collision_TimeOfImpact_2_classLit=createForClass('org.jbox2d.collision.','TimeOfImpact'),Lorg_jbox2d_collision_TimeOfImpact$TOIInput_2_classLit=createForClass('org.jbox2d.collision.','TimeOfImpact$TOIInput'),Lorg_jbox2d_collision_TimeOfImpact$TOIOutput_2_classLit=createForClass('org.jbox2d.collision.','TimeOfImpact$TOIOutput'),Lorg_jbox2d_collision_TimeOfImpact$TOIOutputState_2_classLit=createForEnum('org.jbox2d.collision.','TimeOfImpact$TOIOutputState',values_2),_3Lorg_jbox2d_collision_TimeOfImpact$TOIOutputState_2_classLit=createForArray('[Lorg.jbox2d.collision.','TimeOfImpact$TOIOutputState;',Lorg_jbox2d_collision_TimeOfImpact$TOIOutputState_2_classLit),Lorg_jbox2d_collision_Type_2_classLit=createForEnum('org.jbox2d.collision.','Type',values_3),_3Lorg_jbox2d_collision_Type_2_classLit=createForArray('[Lorg.jbox2d.collision.','Type;',Lorg_jbox2d_collision_Type_2_classLit),Lorg_jbox2d_collision_WorldManifold_2_classLit=createForClass('org.jbox2d.collision.','WorldManifold'),Lorg_jbox2d_collision_broadphase_BroadPhase_2_classLit=createForClass('org.jbox2d.collision.broadphase.','BroadPhase'),Lorg_jbox2d_collision_broadphase_Pair_2_classLit=createForClass('org.jbox2d.collision.broadphase.','Pair'),_3Lorg_jbox2d_collision_broadphase_Pair_2_classLit=createForArray('[Lorg.jbox2d.collision.broadphase.','Pair;',Lorg_jbox2d_collision_broadphase_Pair_2_classLit),Lorg_jbox2d_collision_broadphase_DynamicTreeNode_2_classLit=createForClass('org.jbox2d.collision.broadphase.','DynamicTreeNode'),_3Lorg_jbox2d_collision_broadphase_DynamicTreeNode_2_classLit=createForArray('[Lorg.jbox2d.collision.broadphase.','DynamicTreeNode;',Lorg_jbox2d_collision_broadphase_DynamicTreeNode_2_classLit),Lorg_jbox2d_collision_broadphase_DynamicTree_2_classLit=createForClass('org.jbox2d.collision.broadphase.','DynamicTree'),Lorg_jbox2d_collision_broadphase_Pair$StableComparator_2_classLit=createForClass('org.jbox2d.collision.broadphase.','Pair$StableComparator'),Lorg_jbox2d_collision_shapes_Shape_2_classLit=createForClass('org.jbox2d.collision.shapes.','Shape'),Lorg_jbox2d_collision_shapes_CircleShape_2_classLit=createForClass('org.jbox2d.collision.shapes.','CircleShape'),Lorg_jbox2d_collision_shapes_MassData_2_classLit=createForClass('org.jbox2d.collision.shapes.','MassData'),Lorg_jbox2d_collision_shapes_PolygonShape_2_classLit=createForClass('org.jbox2d.collision.shapes.','PolygonShape'),Lorg_jbox2d_collision_shapes_ShapeType_2_classLit=createForEnum('org.jbox2d.collision.shapes.','ShapeType',values_4),_3Lorg_jbox2d_collision_shapes_ShapeType_2_classLit=createForArray('[Lorg.jbox2d.collision.shapes.','ShapeType;',Lorg_jbox2d_collision_shapes_ShapeType_2_classLit),Lorg_jbox2d_common_Mat22_2_classLit=createForClass('org.jbox2d.common.','Mat22'),Lorg_jbox2d_common_Sweep_2_classLit=createForClass('org.jbox2d.common.','Sweep'),Lorg_jbox2d_common_Transform_2_classLit=createForClass('org.jbox2d.common.','Transform'),Lorg_jbox2d_common_Vec3_2_classLit=createForClass('org.jbox2d.common.','Vec3'),Lorg_jbox2d_dynamics_Body_2_classLit=createForClass('org.jbox2d.dynamics.','Body'),Lorg_jbox2d_dynamics_BodyDef_2_classLit=createForClass('org.jbox2d.dynamics.','BodyDef'),Lorg_jbox2d_dynamics_BodyType_2_classLit=createForEnum('org.jbox2d.dynamics.','BodyType',values_5),_3Lorg_jbox2d_dynamics_BodyType_2_classLit=createForArray('[Lorg.jbox2d.dynamics.','BodyType;',Lorg_jbox2d_dynamics_BodyType_2_classLit),Lorg_jbox2d_dynamics_ContactManager_2_classLit=createForClass('org.jbox2d.dynamics.','ContactManager'),Lorg_jbox2d_dynamics_Filter_2_classLit=createForClass('org.jbox2d.dynamics.','Filter'),Lorg_jbox2d_dynamics_Fixture_2_classLit=createForClass('org.jbox2d.dynamics.','Fixture'),Lorg_jbox2d_dynamics_FixtureDef_2_classLit=createForClass('org.jbox2d.dynamics.','FixtureDef'),Lorg_jbox2d_dynamics_Island_2_classLit=createForClass('org.jbox2d.dynamics.','Island'),_3Lorg_jbox2d_dynamics_Body_2_classLit=createForArray('[Lorg.jbox2d.dynamics.','Body;',Lorg_jbox2d_dynamics_Body_2_classLit),Lorg_jbox2d_dynamics_joints_Joint_2_classLit=createForClass('org.jbox2d.dynamics.joints.','Joint'),_3Lorg_jbox2d_dynamics_joints_Joint_2_classLit=createForArray('[Lorg.jbox2d.dynamics.joints.','Joint;',Lorg_jbox2d_dynamics_joints_Joint_2_classLit),Lorg_jbox2d_dynamics_contacts_Contact_2_classLit=createForClass('org.jbox2d.dynamics.contacts.','Contact'),_3Lorg_jbox2d_dynamics_contacts_Contact_2_classLit=createForArray('[Lorg.jbox2d.dynamics.contacts.','Contact;',Lorg_jbox2d_dynamics_contacts_Contact_2_classLit),Lorg_jbox2d_dynamics_Velocity_2_classLit=createForClass('org.jbox2d.dynamics.','Velocity'),_3Lorg_jbox2d_dynamics_Velocity_2_classLit=createForArray('[Lorg.jbox2d.dynamics.','Velocity;',Lorg_jbox2d_dynamics_Velocity_2_classLit),Lorg_jbox2d_dynamics_Position_2_classLit=createForClass('org.jbox2d.dynamics.','Position'),_3Lorg_jbox2d_dynamics_Position_2_classLit=createForArray('[Lorg.jbox2d.dynamics.','Position;',Lorg_jbox2d_dynamics_Position_2_classLit),Lorg_jbox2d_dynamics_TimeStep_2_classLit=createForClass('org.jbox2d.dynamics.','TimeStep'),Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit=createForClass('org.jbox2d.dynamics.contacts.','ContactRegister'),_3Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit=createForArray('[Lorg.jbox2d.dynamics.contacts.','ContactRegister;',Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit),_3_3Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit=createForArray('[[Lorg.jbox2d.dynamics.contacts.','ContactRegister;',_3Lorg_jbox2d_dynamics_contacts_ContactRegister_2_classLit),Lorg_jbox2d_dynamics_World_2_classLit=createForClass('org.jbox2d.dynamics.','World'),Lorg_jbox2d_dynamics_WorldRayCastWrapper_2_classLit=createForClass('org.jbox2d.dynamics.','WorldRayCastWrapper'),Lorg_jbox2d_dynamics_contacts_CircleContact_2_classLit=createForClass('org.jbox2d.dynamics.contacts.','CircleContact'),Lorg_jbox2d_dynamics_contacts_ContactConstraint_2_classLit=createForClass('org.jbox2d.dynamics.contacts.','ContactConstraint'),Lorg_jbox2d_dynamics_contacts_ContactConstraintPoint_2_classLit=createForClass('org.jbox2d.dynamics.contacts.','ContactConstraintPoint'),_3Lorg_jbox2d_dynamics_contacts_ContactConstraintPoint_2_classLit=createForArray('[Lorg.jbox2d.dynamics.contacts.','ContactConstraintPoint;',Lorg_jbox2d_dynamics_contacts_ContactConstraintPoint_2_classLit),Lorg_jbox2d_dynamics_contacts_ContactEdge_2_classLit=createForClass('org.jbox2d.dynamics.contacts.','ContactEdge'),Lorg_jbox2d_dynamics_contacts_ContactSolver_2_classLit=createForClass('org.jbox2d.dynamics.contacts.','ContactSolver'),_3Lorg_jbox2d_dynamics_contacts_ContactConstraint_2_classLit=createForArray('[Lorg.jbox2d.dynamics.contacts.','ContactConstraint;',Lorg_jbox2d_dynamics_contacts_ContactConstraint_2_classLit),Lorg_jbox2d_dynamics_contacts_PolygonAndCircleContact_2_classLit=createForClass('org.jbox2d.dynamics.contacts.','PolygonAndCircleContact'),Lorg_jbox2d_dynamics_contacts_PolygonContact_2_classLit=createForClass('org.jbox2d.dynamics.contacts.','PolygonContact'),Lorg_jbox2d_dynamics_contacts_PositionSolverManifold_2_classLit=createForClass('org.jbox2d.dynamics.contacts.','PositionSolverManifold'),Lorg_jbox2d_dynamics_contacts_TOIConstraint_2_classLit=createForClass('org.jbox2d.dynamics.contacts.','TOIConstraint'),_3Lorg_jbox2d_dynamics_contacts_TOIConstraint_2_classLit=createForArray('[Lorg.jbox2d.dynamics.contacts.','TOIConstraint;',Lorg_jbox2d_dynamics_contacts_TOIConstraint_2_classLit),Lorg_jbox2d_dynamics_contacts_TOISolver_2_classLit=createForClass('org.jbox2d.dynamics.contacts.','TOISolver'),Lorg_jbox2d_dynamics_contacts_TOISolverManifold_2_classLit=createForClass('org.jbox2d.dynamics.contacts.','TOISolverManifold'),Lorg_jbox2d_pooling_MutableStack_2_classLit=createForClass('org.jbox2d.pooling.','MutableStack'),Lorg_jbox2d_pooling_CircleContactStack_2_classLit=createForClass('org.jbox2d.pooling.','CircleContactStack'),_3Lorg_jbox2d_dynamics_contacts_CircleContact_2_classLit=createForArray('[Lorg.jbox2d.dynamics.contacts.','CircleContact;',Lorg_jbox2d_dynamics_contacts_CircleContact_2_classLit),Lorg_jbox2d_pooling_OrderedStack_2_classLit=createForClass('org.jbox2d.pooling.','OrderedStack'),Lorg_jbox2d_pooling_OrderedStackAABB_2_classLit=createForClass('org.jbox2d.pooling.','OrderedStackAABB'),_3Lorg_jbox2d_collision_AABB_2_classLit=createForArray('[Lorg.jbox2d.collision.','AABB;',Lorg_jbox2d_collision_AABB_2_classLit),Lorg_jbox2d_pooling_OrderedStackMat22_2_classLit=createForClass('org.jbox2d.pooling.','OrderedStackMat22'),_3Lorg_jbox2d_common_Mat22_2_classLit=createForArray('[Lorg.jbox2d.common.','Mat22;',Lorg_jbox2d_common_Mat22_2_classLit),Lorg_jbox2d_pooling_OrderedStackVec2_2_classLit=createForClass('org.jbox2d.pooling.','OrderedStackVec2'),Lorg_jbox2d_pooling_OrderedStackVec3_2_classLit=createForClass('org.jbox2d.pooling.','OrderedStackVec3'),_3Lorg_jbox2d_common_Vec3_2_classLit=createForArray('[Lorg.jbox2d.common.','Vec3;',Lorg_jbox2d_common_Vec3_2_classLit),Lorg_jbox2d_pooling_PolygonAndCircleContactStack_2_classLit=createForClass('org.jbox2d.pooling.','PolygonAndCircleContactStack'),_3Lorg_jbox2d_dynamics_contacts_PolygonAndCircleContact_2_classLit=createForArray('[Lorg.jbox2d.dynamics.contacts.','PolygonAndCircleContact;',Lorg_jbox2d_dynamics_contacts_PolygonAndCircleContact_2_classLit),Lorg_jbox2d_pooling_PolygonContactStack_2_classLit=createForClass('org.jbox2d.pooling.','PolygonContactStack'),_3Lorg_jbox2d_dynamics_contacts_PolygonContact_2_classLit=createForArray('[Lorg.jbox2d.dynamics.contacts.','PolygonContact;',Lorg_jbox2d_dynamics_contacts_PolygonContact_2_classLit),Lorg_jbox2d_pooling_TLManifold_2_classLit=createForClass('org.jbox2d.pooling.','TLManifold'),Lorg_jbox2d_pooling_WorldPool_2_classLit=createForClass('org.jbox2d.pooling.','WorldPool'),Lplayn_core_AbstractAssets_2_classLit=createForClass('playn.core.','AbstractAssets'),Lplayn_core_AbstractAssets$1_2_classLit=createForClass('playn.core.','AbstractAssets$1'),Lplayn_core_AbstractCachingAssets_2_classLit=createForClass('playn.core.','AbstractCachingAssets'),Lplayn_core_AbstractImage_2_classLit=createForClass('playn.core.','AbstractImage'),Lplayn_core_AbstractLayer_2_classLit=createForClass('playn.core.','AbstractLayer'),Lplayn_core_AbstractLayer$Flag_2_classLit=createForEnum('playn.core.','AbstractLayer$Flag',values_6),_3Lplayn_core_AbstractLayer$Flag_2_classLit=createForArray('[Lplayn.core.','AbstractLayer$Flag;',Lplayn_core_AbstractLayer$Flag_2_classLit),Lplayn_core_AbstractPlatform_2_classLit=createForClass('playn.core.','AbstractPlatform'),Lplayn_core_AbstractSound_2_classLit=createForClass('playn.core.','AbstractSound'),Lplayn_core_Events$Input$Impl_2_classLit=createForClass('playn.core.','Events$Input$Impl'),Lplayn_core_Events$Position$Impl_2_classLit=createForClass('playn.core.','Events$Position$Impl'),Lplayn_core_GroupLayerImpl_2_classLit=createForClass('playn.core.','GroupLayerImpl'),Lplayn_core_Key_2_classLit=createForEnum('playn.core.','Key',values_7),_3Lplayn_core_Key_2_classLit=createForArray('[Lplayn.core.','Key;',Lplayn_core_Key_2_classLit),Lplayn_core_Keyboard$Event$Impl_2_classLit=createForClass('playn.core.','Keyboard$Event$Impl'),Lplayn_core_Keyboard$TypedEvent$Impl_2_classLit=createForClass('playn.core.','Keyboard$TypedEvent$Impl'),Lplayn_core_Mouse$ButtonEvent$Impl_2_classLit=createForClass('playn.core.','Mouse$ButtonEvent$Impl'),Lplayn_core_Mouse$MotionEvent$Impl_2_classLit=createForClass('playn.core.','Mouse$MotionEvent$Impl'),Lplayn_core_MouseImpl_2_classLit=createForClass('playn.core.','MouseImpl'),Lplayn_core_Pointer$Event$Impl_2_classLit=createForClass('playn.core.','Pointer$Event$Impl'),Lplayn_core_PointerImpl_2_classLit=createForClass('playn.core.','PointerImpl'),Lpythagoras_f_AbstractTransform_2_classLit=createForClass('pythagoras.f.','AbstractTransform'),Lpythagoras_f_AffineTransform_2_classLit=createForClass('pythagoras.f.','AffineTransform'),Lplayn_core_StockInternalTransform_2_classLit=createForClass('playn.core.','StockInternalTransform'),Lplayn_core_util_RunQueue_2_classLit=createForClass('playn.core.util.','RunQueue'),Lplayn_flash_FlashAssets_2_classLit=createForClass('playn.flash.','FlashAssets'),Lplayn_flash_FlashCanvas_2_classLit=createForClass('playn.flash.','FlashCanvas'),Lplayn_flash_FlashImage_2_classLit=createForClass('playn.flash.','FlashImage'),Lplayn_flash_FlashCanvasImage_2_classLit=createForClass('playn.flash.','FlashCanvasImage'),Lplayn_flash_FlashGame$1_2_classLit=createForClass('playn.flash.','FlashGame$1'),Lplayn_flash_FlashGraphics_2_classLit=createForClass('playn.flash.','FlashGraphics'),Lplayn_flash_FlashLayer_2_classLit=createForClass('playn.flash.','FlashLayer'),Lplayn_flash_FlashGroupLayer_2_classLit=createForClass('playn.flash.','FlashGroupLayer'),Lplayn_flash_FlashImageLayer_2_classLit=createForClass('playn.flash.','FlashImageLayer'),Lplayn_flash_FlashImageLayer$1_2_classLit=createForClass('playn.flash.','FlashImageLayer$1'),Lplayn_flash_FlashImmediateLayerCanvas_2_classLit=createForClass('playn.flash.','FlashImmediateLayerCanvas'),Lplayn_flash_FlashImmediateLayerCanvas$Clipped_2_classLit=createForClass('playn.flash.','FlashImmediateLayerCanvas$Clipped'),Lplayn_flash_FlashKeyboard_2_classLit=createForClass('playn.flash.','FlashKeyboard'),Lplayn_flash_FlashKeyboard$1_2_classLit=createForClass('playn.flash.','FlashKeyboard$1'),Lplayn_flash_FlashKeyboard$2_2_classLit=createForClass('playn.flash.','FlashKeyboard$2'),Lplayn_flash_FlashMouse_2_classLit=createForClass('playn.flash.','FlashMouse'),Lplayn_flash_FlashMouse$1_2_classLit=createForClass('playn.flash.','FlashMouse$1'),Lplayn_flash_FlashMouse$2_2_classLit=createForClass('playn.flash.','FlashMouse$2'),Lplayn_flash_FlashMouse$3_2_classLit=createForClass('playn.flash.','FlashMouse$3'),Lplayn_flash_FlashPlatform_2_classLit=createForClass('playn.flash.','FlashPlatform'),Lplayn_flash_FlashPlatform$1_2_classLit=createForClass('playn.flash.','FlashPlatform$1'),Lplayn_flash_FlashPlatform$2_2_classLit=createForClass('playn.flash.','FlashPlatform$2'),Lplayn_flash_FlashPointer_2_classLit=createForClass('playn.flash.','FlashPointer'),Lplayn_flash_FlashPointer$1_2_classLit=createForClass('playn.flash.','FlashPointer$1'),Lplayn_flash_FlashPointer$2_2_classLit=createForClass('playn.flash.','FlashPointer$2'),Lplayn_flash_FlashPointer$3_2_classLit=createForClass('playn.flash.','FlashPointer$3'),Lplayn_flash_FlashSound_2_classLit=createForClass('playn.flash.','FlashSound'),Lplayn_flash_FlashSound$1_2_classLit=createForClass('playn.flash.','FlashSound$1'),Lplayn_flash_FlashStorage_2_classLit=createForClass('playn.flash.','FlashStorage'),Lpythagoras_f_AbstractPoint_2_classLit=createForClass('pythagoras.f.','AbstractPoint'),Lpythagoras_f_AbstractVector_2_classLit=createForClass('pythagoras.f.','AbstractVector'),Lpythagoras_f_Point_2_classLit=createForClass('pythagoras.f.','Point'),Lpythagoras_f_Vector_2_classLit=createForClass('pythagoras.f.','Vector'),Lpythagoras_util_NoninvertibleTransformException_2_classLit=createForClass('pythagoras.util.','NoninvertibleTransformException');trace('About to invoke entry point');
  gwtOnLoad(null, "pde", null);
                        }
                    } }